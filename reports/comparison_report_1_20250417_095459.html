<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>数据库对比报告</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .header {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 30px;
        }
        .summary {
            background-color: #fff;
            padding: 20px;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            margin-bottom: 30px;
        }
        .section {
            margin-bottom: 30px;
        }
        .section-title {
            font-size: 1.5em;
            color: #2c3e50;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #eee;
        }
        .diff-item {
            background-color: #fff;
            padding: 15px;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            margin-bottom: 15px;
        }
        .diff-item h4 {
            margin: 0 0 10px 0;
            color: #2c3e50;
        }
        .diff-details {
            background-color: #f8f9fa;
            padding: 10px;
            border-radius: 3px;
            font-family: monospace;
            white-space: pre-wrap;
        }
        .status {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 3px;
            font-weight: bold;
        }
        .status-completed { background-color: #d4edda; color: #155724; }
        .status-failed { background-color: #f8d7da; color: #721c24; }
        .status-running { background-color: #cce5ff; color: #004085; }
        .status-pending { background-color: #fff3cd; color: #856404; }
        .sql-code {
            background-color: #272822;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 15px;
        }
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #dee2e6;
        }
        th {
            background-color: #f8f9fa;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>数据库对比报告</h1>
            <p>报告生成时间：2025-04-16 08:00:46</p>
            <p>源数据库：pc-bp1zip05gl1b1ga3veo.rwlb.rds.aliyuncs.com:3306/serviceordercenter</p>
            <p>目标数据库：pc-bp1zip05gl1b1ga3veo.rwlb.rds.aliyuncs.com:3306/serviceordercenterhis</p>
            <p>状态：<span class="status status-completed">completed</span></p>
            
            <p>错误信息：'referenced_table'</p>
            
        </div>

        <div class="summary">
            <h2>对比结果摘要</h2>
            <table>
                <tr>
                    <th>总对象数</th>
                    <td>632</td>
                </tr>
                <tr>
                    <th>总差异数</th>
                    <td>247</td>
                </tr>
                <tr>
                    <th>配置差异</th>
                    <td>0</td>
                </tr>
                <tr>
                    <th>表结构差异</th>
                    <td>247</td>
                </tr>
                <tr>
                    <th>视图差异</th>
                    <td>0</td>
                </tr>
                <tr>
                    <th>存储过程差异</th>
                    <td>0</td>
                </tr>
                <tr>
                    <th>函数差异</th>
                    <td>0</td>
                </tr>
                <tr>
                    <th>触发器差异</th>
                    <td>0</td>
                </tr>
            </table>
        </div>

        
        
        <div class="section">
            <h2 class="section-title">Config 差异</h2>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
        </div>
        
        
        
        <div class="section">
            <h2 class="section-title">Table 差异</h2>
            
            
            <div class="diff-item">
                <h4>workflownodestepconditions</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "Deleted": {
      "default": {
        "source": null,
        "target": "0"
      },
      "nullable": {
        "source": false,
        "target": true
      },
      "type": {
        "source": "bit(1)",
        "target": "smallint(6)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>tm_persons2</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tm_persons2 \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tm_persons2` (
  `LoginCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `RpDate` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `Company` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>home_auditcount</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 home_auditcount \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `home_auditcount` (
  `Id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增主键',
  `ProviderCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '服务商编码',
  `ProCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '省份编码',
  `DateType` smallint(6) DEFAULT NULL COMMENT '时间类型(1上月2上周3昨日4今年)',
  `AuditCnt` int(11) NOT NULL DEFAULT '0' COMMENT '质检单量',
  `OnceAuditCnt` int(11) NOT NULL DEFAULT '0' COMMENT '首次质检即完成单量',
  `OnceAuditRate` int(11) DEFAULT NULL COMMENT '质检一次通过率',
  `InsertTime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '数据写入时间',
  PRIMARY KEY (`Id`),
  KEY `NON-ProviderCode` (`ProviderCode`),
  KEY `NON-ProCode` (`ProCode`),
  KEY `NON-DateType` (`DateType`)
) ENGINE=InnoDB AUTO_INCREMENT=13739 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='智能工单大屏_服务网络_质检信息'</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>workflowruntimeitems</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "Deleted": {
      "default": {
        "source": null,
        "target": "0"
      },
      "nullable": {
        "source": false,
        "target": true
      },
      "type": {
        "source": "bit(1)",
        "target": "smallint(6)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>vi_userinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "UserStatus": {
      "type": {
        "source": "smallint(6)",
        "target": "smallint(1)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>workflowprocessstates_bak</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 workflowprocessstates_bak \u5728\u6e90\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_source"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>DROP TABLE IF EXISTS `workflowprocessstates_bak`;</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>test_encryption</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 test_encryption \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `test_encryption` (
  `Id` int(11) NOT NULL AUTO_INCREMENT,
  `Name` varchar(255) DEFAULT NULL,
  `Data` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`Id`)
) ENGINE=InnoDB AUTO_INCREMENT=114 DEFAULT CHARSET=utf8</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>testuser</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "Id": {
      "extra": {
        "source": "auto_increment",
        "target": ""
      },
      "nullable": {
        "source": false,
        "target": true
      }
    }
  },
  "indexes": {
    "PRIMARY": {
      "message": "\u7d22\u5f15 PRIMARY \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "idx_testuser_lookup": {
      "message": "\u7d22\u5f15 idx_testuser_lookup \u5728\u6e90\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_source"
    }
  }
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>ALTER TABLE `testuser` DROP INDEX `idx_testuser_lookup`;</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>home_ordercusttop</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 home_ordercusttop \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `home_ordercusttop` (
  `Id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增主键',
  `ProviderCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '服务商编码',
  `CustomerName` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '客户名称',
  `CreateCnt` int(11) NOT NULL DEFAULT '0' COMMENT '建单量',
  `TotalCnt` int(11) DEFAULT NULL COMMENT '总单量',
  `InsertTime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '数据写入时间',
  PRIMARY KEY (`Id`),
  KEY `NON-ProviderCode` (`ProviderCode`)
) ENGINE=InnoDB AUTO_INCREMENT=64 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='智能工单大屏_累计下单客户TOP10'</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>vi_workorderinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "IsRelation": {
      "message": "\u5217 IsRelation \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>tm_workresourceinfo_20210705</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tm_workresourceinfo_20210705 \u5728\u6e90\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_source"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>DROP TABLE IF EXISTS `tm_workresourceinfo_20210705`;</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>counter</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 counter \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `counter` (
  `Id` int(11) NOT NULL AUTO_INCREMENT,
  `Key` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `Value` int(11) NOT NULL,
  `ExpireAt` datetime DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `IX_Counter_Key` (`Key`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>slow911</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 slow911 \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `slow911` (
  `api` varchar(1000) DEFAULT NULL,
  `loginName` varchar(50) DEFAULT NULL,
  `name` varchar(50) DEFAULT NULL,
  `count` int(11) DEFAULT NULL,
  `maxValue` int(11) DEFAULT NULL,
  `minValue` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>hangfire_distributedlock</h4>
                
                <div class="diff-details">
                    <pre>{
  "indexes": {
    "Resource": {
      "message": "\u7d22\u5f15 Resource \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>tm_customerinfoformove20210927</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tm_customerinfoformove20210927 \u5728\u6e90\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_source"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>DROP TABLE IF EXISTS `tm_customerinfoformove20210927`;</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>tm_persons20250121</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tm_persons20250121 \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tm_persons20250121` (
  `LoginCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `RpDate` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `Company` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>vi_workorderlistforchp_audit</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 vi_workorderlistforchp_audit \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE ALGORITHM=MERGE DEFINER=`user_service`@`%` SQL SECURITY DEFINER VIEW `vi_workorderlistforchp_audit` AS select `a`.`AppCode` AS `AppCode`,`k`.`TypeStatus` AS `TypeStatus`,`a`.`Id` AS `id`,`a`.`WorkStatus` AS `WorkStatus`,`fn_GetStatusNameByCode`(`a`.`WorkStatus`) AS `WorkStatusName`,`a`.`CreatedAt` AS `CreatedAt`,concat(ifnull(`f`.`v_chpCarUserName`,''),' ',ifnull(`f`.`v_chpCarUserTel`,'')) AS `chpCarInfo`,`f`.`v_chpCarUserName` AS `chpCarUserName`,`f`.`v_chpCarUserTel` AS `chpCarUserTel`,`f`.`v_chpCarVinNumber` AS `chpCarVinNumber`,`a`.`RequiredTime` AS `RequiredTime`,`a`.`ProCode` AS `ProCode`,`a`.`CityCode` AS `CityCode`,`a`.`AreaCode` AS `AreaCode`,concat(`a`.`ProName`,`a`.`CityName`,ifnull(`a`.`AreaName`,''),ifnull(`a`.`InstallAddress`,'')) AS `serviceaddress`,`a`.`OrderType` AS `OrderType`,`fn_GetOrderTypeByCode`(`a`.`OrderType`) AS `ordertypename`,`c`.`SurveyTime` AS `SurveyTime`,`a`.`CustomerName` AS `CustomerName`,`a`.`CustomerId` AS `CustomerId`,`a`.`CustStoreId` AS `CustStoreId`,`a`.`CustStoreName` AS `CustStoreName`,`a`.`CustSettleId` AS `CustSettleId`,`a`.`CustSettleName` AS `CustSettleName`,`d`.`CompleteTime` AS `CompleteTime`,`c`.`Surveycode` AS `Surveycode`,ifnull(`d`.`ServiceCode`,(select `a1`.`OperCode` from `tb_operatinginfo` `a1` where ((`a1`.`WorkOrderId` = `a`.`Id`) and (`a1`.`Deleted` = 0)) group by `a1`.`WorkOrderId` having (count(1) = 1))) AS `ServiceCode`,`d`.`ServiceCode` AS `installCode`,concat(ifnull(`a`.`LinkMan`,''),' ',ifnull(`a`.`LinkTel`,'')) AS `LinkInfo`,`a`.`LinkMan` AS `LinkMan`,`a`.`LinkTel` AS `LinkTel`,concat(ifnull(concat(`e`.`BrandName`,'/'),''),ifnull(`e`.`SaleName`,'')) AS `GoodsInfo`,`e`.`SaleName` AS `ServiceGoodsName`,`e`.`BrandName` AS `BrandName`,`g`.`SubjectNameSummary` AS `SubjectNameSummary`,ifnull(`d`.`ServiceName`,(select `a1`.`OperName` from `tb_operatinginfo` `a1` where ((`a1`.`WorkOrderId` = `a`.`Id`) and (`a1`.`Deleted` = 0)) group by `a1`.`WorkOrderId` having (count(1) = 1))) AS `ServiceName`,(select replace(concat(cast(`h`.`CreatedAt` as date),',',`h`.`OperatorName`,',',`fn_GetAppointStatusByCode`(`h`.`AppointStatus`),',',`h`.`ApplyReason`,ifnull(concat(',',`h`.`Remark`),''),'。',ifnull(concat('已撤回，',`ta`.`Remark`),'')),',。','。') from (`tb_appointment` `h` left join `tb_appointauditinfo` `ta` on(((`h`.`Id` = `ta`.`AppointId`) and (`ta`.`Deleted` = 0) and (`ta`.`AuditStatus` = 2)))) where ((`h`.`Deleted` = 0) and (`a`.`Id` = `h`.`WorkOrderId`)) order by `h`.`CreatedAt` desc limit 1) AS `AppointRemark`,`f`.`v_chpWXAddProgress` AS `chpWXAddProgress`,`f`.`v_chpFirstContactRole` AS `chpFirstContactRole`,(case `f`.`v_chpFirstContactRole` when 1 then '运营' when 2 then '服务人员' end) AS `chpFirstContactRoleName`,`a`.`ServiceProviderCode` AS `ServiceProviderCode`,`i`.`AppointStatus` AS `LastAppointStatus`,`f`.`v_chpSurveyInstallType` AS `chpSurveyInstallType`,`f`.`v_chpElectricityMetersType` AS `chpElectricityMetersType`,(select `tb_appointment`.`CreatedAt` from `tb_appointment` where ((`tb_appointment`.`WorkOrderId` = `a`.`Id`) and (`tb_appointment`.`AppointSource` in (1,3)) and (`tb_appointment`.`Deleted` = 0) and (`tb_appointment`.`AppointStatus` <> 5)) order by `tb_appointment`.`CreatedAt` desc limit 1) AS `LastAppointSubmmitTime`,`i`.`ApplyReason` AS `LastAppointApplyReason`,(select `tb_appointment`.`Remark` from `tb_appointment` where ((`tb_appointment`.`WorkOrderId` = `a`.`Id`) and (`tb_appointment`.`AppointSource` in (1,3)) and (`tb_appointment`.`Deleted` = 0) and (`tb_appointment`.`AppointStatus` <> 5)) order by `tb_appointment`.`CreatedAt` desc limit 1) AS `LastAppointRemark`,`f`.`v_chpNextFollowTime` AS `chpNextFollowTime`,`f1`.`v_EmployeeAttributes` AS `EmployeeAttributes`,`fn_GetRequestCloseById`(`a`.`Id`,1) AS `RequestCloseTime`,`fn_GetRequestCloseById`(`a`.`Id`,3) AS `RequestClosePerson`,`fn_GetRequestCloseById`(`a`.`Id`,4) AS `RequestCloseApplyReason`,`k`.`NodeCode` AS `CurrentNodeCode`,`a`.`Remark` AS `Remark`,concat(ifnull(concat(`e`.`BrandName`,'+'),''),convert(ifnull(json_unquote(json_extract(`e`.`ExtraJson`,'$.Power')),'') using utf8),convert(ifnull(concat(',',json_unquote(json_extract(`e`.`ExtraJson`,'$.PackageLength'))),'') using utf8),ifnull(concat(',',`e`.`v_ChargerType`),'')) AS `ServiceInfo`,json_unquote(json_extract(`f`.`BussinessJson`,'$.chpFirstContact.IsWithPile')) AS `IsWithPile`,(case `k`.`TypeStatus` when 1 then '请求关闭（客户审核）' when 2 then '请求关闭' when 3 then '等通知' else '' end) AS `closestatusname`,(select `w1`.`DoneAt` from `tb_workflowinfo` `w1` where ((`w1`.`WorkOrderId` = `a`.`Id`) and (`w1`.`Deleted` = 0) and (`w1`.`StepName` in ('提交结果（勘测）','提交结果（安装）','重新提交处理结果（勘测）','重新提交处理结果（安装）','重新提交处理结果','提交结果'))) order by `w1`.`DoneAt` desc limit 1) AS `lastrecordtime`,(select group_concat(ifnull(`w1`.`Remark`,'') order by `w1`.`InsertTime` DESC separator ';') from `tb_workflowinfo` `w1` where ((`w1`.`NextStepName` in ('重新提交处理结果（安装）','重新提交处理结果（勘测）','重新提交处理结果')) and (`w1`.`WorkOrderId` = `a`.`Id`) and (`w1`.`Deleted` = 0) and (`w1`.`StepStatus` = 4)) group by `w1`.`WorkOrderId`) AS `AuditRejectRemark`,`c`.`LastAuditRejectRemark` AS `LastAuditRejectRemark`,`wf`.`DoneAt` AS `AuditTime`,`wf`.`OperCode` AS `OperCode`,(select `wc`.`DoneAt` from `tb_workflowinfo` `wc` where ((`wc`.`StepName` in ('质检工单（安装）','质检工单')) and (`wc`.`WorkOrderId` = `a`.`Id`) and (`wc`.`StepStatus` = 1) and (`wc`.`Deleted` = 0)) limit 1) AS `AuditAcceptTime`,`i`.`ApplyReason` AS `LastApplyReason`,`k`.`ClosedAt` AS `ClosedAt`,`k`.`CloseReasonName` AS `CloseReasonName`,`e`.`v_ChargerType` AS `ChargerType`,`a`.`CreateType` AS `CreateType`,`d`.`InstitutionCode` AS `InstitutionCode`,(select `a1`.`Name` from `basic_institutionalinfo` `a1` where ((`a1`.`Code` = convert(`d`.`InstitutionCode` using utf8mb4)) and (`a1`.`Deleted` = 0)) limit 1) AS `InstitutionName`,`f`.`v_chpOrderCompleteTime` AS `OrderCompleteTime`,if((json_unquote(json_extract(`f`.`BussinessJson`,'$.chpInstallConditionDate')) = 'null'),NULL,json_unquote(json_extract(`f`.`BussinessJson`,'$.chpInstallConditionDate'))) AS `chpInstallConditionDate` from ((((((((((`tb_workflowinfo` `wf` FORCE INDEX FOR ORDER BY (`NON-DoneAt`) join `tb_workorderinfo` `a` on(((`a`.`Id` = `wf`.`WorkOrderId`) and (`a`.`Deleted` = 0) and (`a`.`ServiceProviderCode` = '1067')))) left join `tb_chpworkorderinfo` `c` on(((`a`.`Id` = `c`.`Id`) and (`c`.`Deleted` = 0)))) left join `tb_workserviceinfo` `d` on(((`a`.`Id` = `d`.`WorkOrderId`) and (`d`.`Deleted` = 0)))) left join `tb_workgoodsinfo` `e` on(((`a`.`Id` = `e`.`WorkOrderId`) and (`e`.`Deleted` = 0) and (`e`.`GoodsType` = 29)))) left join `tb_workbussinessjsoninfo` `f` on(((`a`.`Id` = `f`.`WorkOrderId`) and (`f`.`Deleted` = 0)))) left join `tb_worksubjectsummary` `g` on(((`a`.`Id` = `g`.`WorkOrderId`) and (`g`.`Deleted` = 0)))) left join `tb_appointmentconcat` `i` on(((`a`.`Id` = `i`.`WorkOrderId`) and (`i`.`Deleted` = 0)))) left join `tb_userinfo` `e1` on(((convert(`d`.`ServiceCode` using utf8mb4) = `e1`.`LoginName`) and (`e1`.`Deleted` = 0) and (`e1`.`TeamCode` = '10670001')))) left join `tb_userdetail` `f1` on((`e1`.`Id` = `f1`.`Id`))) left join `tb_workorderstatus` `k` on(((`a`.`Id` = `k`.`WorkOrderId`) and (`k`.`Deleted` = 0)))) where ((`wf`.`Deleted` = 0) and (`wf`.`StepName` in ('质检工单（安装）','质检工单（勘测）','质检工单')) and (`wf`.`StepStatus` = 1) and exists(select 1 from `tb_workflowinfo` `wa` where ((`wa`.`WorkOrderId` = `wf`.`WorkOrderId`) and (`wa`.`StepName` = '质检工单（安装）') and (`wf`.`StepName` in ('质检工单（勘测）','质检工单')) and (`wa`.`OperCode` = `wf`.`OperCode`) and (`wa`.`StepStatus` = 1) and (`wa`.`Deleted` = 0))) is false)</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>home_ordertotalcnt</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 home_ordertotalcnt \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `home_ordertotalcnt` (
  `Id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增主键',
  `ProviderCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '服务商编码',
  `CntType` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '数量类型(1下单量2完成量3关闭量4质检量5服务客数量6服务施工人数)',
  `CntNum` int(11) NOT NULL DEFAULT '0' COMMENT '总量',
  `InsertTime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '数据写入时间',
  PRIMARY KEY (`Id`),
  KEY `NON-ProviderCode` (`ProviderCode`),
  KEY `NON-CntType` (`CntType`)
) ENGINE=InnoDB AUTO_INCREMENT=59 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='智能工单大屏_业务累计服务信息'</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>de_tb_merchant01</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 de_tb_merchant01 \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `de_tb_merchant01` (
  `Id` varchar(36) NOT NULL,
  `name` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`Id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='商户信息01'</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>tm_meigui</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tm_meigui \u5728\u6e90\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_source"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>DROP TABLE IF EXISTS `tm_meigui`;</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>workflownoderelatedactors_bak</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 workflownoderelatedactors_bak \u5728\u6e90\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_source"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>DROP TABLE IF EXISTS `workflownoderelatedactors_bak`;</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>workflownodeactors_bak</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 workflownodeactors_bak \u5728\u6e90\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_source"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>DROP TABLE IF EXISTS `workflownodeactors_bak`;</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>tmp_canaltest2</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tmp_canaltest2 \u5728\u6e90\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_source"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>DROP TABLE IF EXISTS `tmp_canaltest2`;</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>check_workflowjsoninfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 check_workflowjsoninfo \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `check_workflowjsoninfo` (
  `Id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '自增主键',
  `WorkOrderId` char(12) DEFAULT NULL COMMENT '工单主单主键(tb_workorderinfo.Id)',
  `CheckType` smallint(6) DEFAULT NULL COMMENT '问题原因',
  `CheckDate` varchar(10) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '验证日期',
  `CorrectStatus` smallint(6) DEFAULT NULL COMMENT '更正状态',
  `UnCorrectJson` json DEFAULT NULL COMMENT '历史错误Json',
  `InsertTime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `Deleted` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`Id`),
  KEY `NON-CheckDate` (`CheckDate`) USING BTREE,
  KEY `NON-WorkOrderId` (`WorkOrderId`) USING BTREE,
  KEY `NON-CheckType` (`CheckType`) USING BTREE,
  KEY `NON-CorrectStatus` (`CorrectStatus`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=8612340 DEFAULT CHARSET=utf8 AVG_ROW_LENGTH=74 ROW_FORMAT=DYNAMIC COMMENT='工单工作流数据验证日志表'</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>vi_qualityorderdetail</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "AuditContent": {
      "message": "\u5217 AuditContent \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "IsRelation": {
      "message": "\u5217 IsRelation \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>workflowitems</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "Deleted": {
      "default": {
        "source": null,
        "target": "0"
      },
      "nullable": {
        "source": false,
        "target": true
      },
      "type": {
        "source": "bit(1)",
        "target": "smallint(6)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>de_testuser</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 de_testuser \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `de_testuser` (
  `Id` varchar(36) NOT NULL,
  `name` varchar(50) DEFAULT NULL,
  `password` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`Id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='测试人员'</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>home_timeduration</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 home_timeduration \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `home_timeduration` (
  `Id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增主键',
  `ProviderCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '服务商编码',
  `ProCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '省份编码',
  `DispatchDuration` int(11) NOT NULL DEFAULT '0' COMMENT '调度时长(小时)',
  `ServiceDuration` int(11) NOT NULL DEFAULT '0' COMMENT '总服务时长(小时)',
  `AuditDuration` int(11) NOT NULL DEFAULT '0' COMMENT '质检响应时长(小时)',
  `CheckMonth` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '报表月份',
  `InsertTime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '数据写入时间',
  PRIMARY KEY (`Id`),
  KEY `NON-ProviderCode` (`ProviderCode`),
  KEY `NON-ProCode` (`ProCode`),
  KEY `NON-CheckMonth` (`CheckMonth`)
) ENGINE=InnoDB AUTO_INCREMENT=2017 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='智能工单大屏_服务网络_时效信息'</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>tmp_districtyx3</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tmp_districtyx3 \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tmp_districtyx3` (
  `区编码` varchar(255) DEFAULT NULL,
  `区名称` varchar(255) DEFAULT NULL,
  `区编码1` varchar(255) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>flink_sinka</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 flink_sinka \u5728\u6e90\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_source"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>DROP TABLE IF EXISTS `flink_sinka`;</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tb_custcolumn</h4>
                
                <div class="diff-details">
                    <pre>{
  "indexes": {
    "NON-Value": {
      "message": "\u7d22\u5f15 NON-Value \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>workflowcompletecomments</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "Deleted": {
      "default": {
        "source": null,
        "target": "0"
      },
      "nullable": {
        "source": false,
        "target": true
      },
      "type": {
        "source": "bit(1)",
        "target": "smallint(6)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>home_userarea</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 home_userarea \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `home_userarea` (
  `Id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增主键',
  `UserId` char(12) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '用户Id',
  `LoginName` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '用户登录名',
  `UserName` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '用户姓名',
  `Ascription` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '人员归属（0外勤、1内勤、2优工、3特工-外访、4特工-催收）',
  `TeamCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '团队Code(basic_teaminfo.Code)',
  `TeamName` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '团队名称',
  `ProviderCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '服务供应商Code(serviceordercenter.basic_serviceprovider.code)',
  `ProviderName` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '服务供应商名称',
  `OperateAttributes` smallint(6) DEFAULT NULL COMMENT '经营属性（0自营 1非自营）',
  `OrderTypeName` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '工单类型',
  `ProCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '省份Code',
  `ProName` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '省份名称',
  `CityCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '城市Code',
  `CityName` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '城市名称',
  `AreaCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '区域Code',
  `AreaName` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '区域名称',
  `CheckDate` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '报表日期',
  `InsertTime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '数据写入时间',
  PRIMARY KEY (`Id`),
  KEY `NON-ProviderCode` (`ProviderCode`),
  KEY `NON-TeamCode` (`TeamCode`),
  KEY `NON-AreaCode` (`AreaCode`),
  KEY `NON-CheckDate` (`CheckDate`),
  KEY `NON-OrderTypeName` (`OrderTypeName`),
  KEY `NON-ProCode` (`ProCode`),
  KEY `NON-UserId` (`UserId`),
  KEY `NON-CityCode` (`CityCode`),
  KEY `NON-Ascription` (`Ascription`),
  KEY `NON-LoginName` (`LoginName`)
) ENGINE=InnoDB AUTO_INCREMENT=327676 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='智能工单大屏_基础信息_人员覆盖区域信息'</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>vi_workorderforsearch</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 vi_workorderforsearch \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE ALGORITHM=MERGE DEFINER=`user_service`@`%` SQL SECURITY INVOKER VIEW `vi_workorderforsearch` AS select `a`.`Id` AS `id`,`a`.`AppCode` AS `appcode`,`a`.`OrderType` AS `ordertype`,`fn_GetOrderTypeByCode`(`a`.`OrderType`) AS `ordertypename`,`fn_GetStatusTypeByCode`(`a`.`Id`) AS `statustypename`,`a`.`WorkStatus` AS `workstatus`,`fn_GetWorkPayStatus`(`a`.`Id`) AS `paystatus`,`fn_GetCloseStatusNameByOrderId`(`a`.`Id`) AS `closestatusname`,`fn_GetSubjectNameConcat`(`a`.`Id`) AS `subjectname`,`a`.`CustomerId` AS `customerid`,`a`.`CustomerName` AS `customername`,`a`.`CustStoreId` AS `custstoreid`,`a`.`CustStoreName` AS `custstorename`,`a`.`CustStoreCode` AS `custstorecode`,`a`.`CustSettleId` AS `custsettleid`,`a`.`CustSettleName` AS `custsettlename`,`b`.`VinNumber` AS `vinnumber`,`b`.`PlateNumber` AS `platenumber`,`b`.`UserName` AS `username`,`a`.`InstallTime` AS `installtime`,`a`.`ProCode` AS `procode`,`a`.`ProName` AS `proname`,`a`.`CityCode` AS `citycode`,`a`.`CityName` AS `cityname`,`a`.`AreaCode` AS `areacode`,`a`.`AreaName` AS `areaname`,`a`.`InstallAddress` AS `installaddress`,concat(ifnull(`a`.`ProName`,''),ifnull(`a`.`CityName`,''),ifnull(`a`.`AreaName`,''),ifnull(`a`.`InstallAddress`,'')) AS `serviceaddress`,`a`.`LinkMan` AS `linkman`,`a`.`LinkTel` AS `linktel`,`a`.`Remark` AS `remark`,`a`.`CreatePersonCode` AS `createpersoncode`,`a`.`CreatePersonName` AS `createpersonname`,`a`.`IsUrgent` AS `isurgent`,`b`.`ShortVin` AS `shortvin`,`a`.`ServiceProviderCode` AS `serviceprovidercode`,`a`.`CreatedAt` AS `createdat`,`b`.`CarFullName` AS `carfullname`,`c`.`IfUninstall` AS `ifuninstall`,`c`.`IsSwitch` AS `isswitch`,`d`.`v_canaltest1` AS `v_canaltest1` from (((`tb_workorderinfo` `a` join `tb_workcarinfo` `b` on(((`b`.`WorkOrderId` = `a`.`Id`) and (`b`.`Deleted` = 0)))) join `tb_workorderstatus` `c` on(((`c`.`WorkOrderId` = `a`.`Id`) and (`c`.`Deleted` = 0)))) left join `tb_workbussinessjsoninfo` `d` on(((`d`.`WorkOrderId` = `a`.`Id`) and (`d`.`Deleted` = 0)))) where (`a`.`Deleted` = 0)</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>vi_accessoryinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "DeviceUniqueNo": {
      "message": "\u5217 DeviceUniqueNo \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "IsBundingAsset": {
      "message": "\u5217 IsBundingAsset \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "IsUnusual": {
      "message": "\u5217 IsUnusual \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "ResourceClassName": {
      "message": "\u5217 ResourceClassName \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>vi_workorderrecheckdetail</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 vi_workorderrecheckdetail \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE ALGORITHM=MERGE DEFINER=`user_service`@`%` SQL SECURITY DEFINER VIEW `vi_workorderrecheckdetail` AS select `a`.`Id` AS `Id`,`a`.`WorkOrderId` AS `WorkOrderId`,`a`.`RecheckStatus` AS `RecheckStatus`,(case `a`.`RecheckStatus` when 0 then '复检不通过' when 1 then '复检通过' when 2 then '待复检' end) AS `RecheckStatusName`,`a`.`RecheckContent` AS `RecheckContent`,`a`.`RecheckPersonCode` AS `RecheckPersonCode`,`a`.`RecheckPersonName` AS `RecheckPersonName`,`a`.`RecheckPassTime` AS `RecheckPassTime`,`a`.`CreatedAt` AS `CreatedAt`,`b`.`AppCode` AS `AppCode`,`b`.`OrderType` AS `OrderType`,`fn_GetOrderTypeByCode`(`b`.`OrderType`) AS `OrderTypeName`,`b`.`CustomerId` AS `CustomerId`,`b`.`CustomerName` AS `CustomerName`,`b`.`CustStoreId` AS `CustStoreId`,`b`.`CustStoreName` AS `CustStoreName`,`b`.`CustStoreCode` AS `CustStoreCode`,`b`.`CustSettleId` AS `CustSettleId`,`b`.`CustSettleName` AS `CustSettleName`,`b`.`ProCode` AS `ProCode`,`b`.`ProName` AS `ProName`,`b`.`CityCode` AS `CityCode`,`b`.`CityName` AS `CityName`,`b`.`AreaCode` AS `AreaCode`,`b`.`AreaName` AS `AreaName`,`c`.`UserName` AS `UserName`,`c`.`VinNumber` AS `VinNumber`,`c`.`PlateNumber` AS `PlateNumber`,`b`.`WorkStatus` AS `WorkStatusCode`,`b`.`Remark` AS `Remark`,`d`.`CompleteTime` AS `CompleteTime`,`b`.`ServiceProviderCode` AS `ServiceProviderCode`,`fn_GetCarBussinessTypeById`(`b`.`Id`,1) AS `BusinessTypeCode`,`fn_GetCarBussinessTypeById`(`b`.`Id`,2) AS `BusinessTypeName` from (((`tb_workorderrecheckinfo` `a` left join `tb_workorderinfo` `b` on(((`a`.`WorkOrderId` = `b`.`Id`) and (`b`.`Deleted` = 0)))) left join `tb_workcarinfo` `c` on(((`a`.`WorkOrderId` = `c`.`WorkOrderId`) and (`c`.`Deleted` = 0)))) left join `tb_recordinfo` `d` on(((`a`.`WorkOrderId` = `d`.`WorkOrderId`) and (`d`.`Deleted` = 0)))) where (`a`.`Deleted` = 0)</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>tm_workresourceinfo_20210705a</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tm_workresourceinfo_20210705a \u5728\u6e90\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_source"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>DROP TABLE IF EXISTS `tm_workresourceinfo_20210705a`;</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>config_usermessagereminder</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 config_usermessagereminder \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `config_usermessagereminder` (
  `Id` int(11) NOT NULL AUTO_INCREMENT COMMENT '自增主键',
  `UserCenterId` char(36) DEFAULT NULL COMMENT '用户Id',
  `LoginName` varchar(50) DEFAULT NULL COMMENT '用户登录名',
  `MessageType` smallint(6) DEFAULT NULL COMMENT '消息提醒类型（1语音 2横幅）',
  `RestingEnable` smallint(6) DEFAULT '1' COMMENT '休息中是否启用(0否1是)',
  `Enable` smallint(6) DEFAULT '1' COMMENT '是否启用(0否1是)',
  `CreatedById` char(36) DEFAULT NULL COMMENT '信息录入人员',
  `CreatedAt` datetime DEFAULT NULL COMMENT '信息录入时间',
  `UpdatedById` char(36) DEFAULT NULL COMMENT '信息最后修改人员',
  `UpdatedAt` datetime DEFAULT NULL COMMENT '信息最后修改时间',
  `DeletedById` char(36) DEFAULT NULL COMMENT '信息删除人员',
  `DeletedAt` datetime DEFAULT NULL COMMENT '信息删除时间',
  `Deleted` tinyint(1) NOT NULL DEFAULT '0' COMMENT '删除标识',
  PRIMARY KEY (`Id`),
  KEY `NON-UserCenterId` (`UserCenterId`) USING BTREE,
  KEY `NON-LoginName` (`LoginName`) USING BTREE,
  KEY `NON-MessageType` (`MessageType`) USING BTREE,
  KEY `NON-RestingEnable` (`RestingEnable`) USING BTREE,
  KEY `NON-Enable` (`Enable`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=2224 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='消息提醒配置表'</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>workflownoderelatedactors</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "Deleted": {
      "default": {
        "source": null,
        "target": "0"
      },
      "nullable": {
        "source": false,
        "target": true
      },
      "type": {
        "source": "bit(1)",
        "target": "smallint(6)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>test_service_info</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 test_service_info \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `test_service_info` (
  `Id` int(11) NOT NULL AUTO_INCREMENT COMMENT '自增主键',
  `Name` varchar(50) DEFAULT NULL COMMENT '服务名称',
  `Code` varchar(20) DEFAULT NULL COMMENT '服务编号',
  `DynamicId` varchar(20) NOT NULL DEFAULT 'FA-' COMMENT '动态表单Id',
  PRIMARY KEY (`Id`,`DynamicId`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>home_areageo</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 home_areageo \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `home_areageo` (
  `Id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '自增主键',
  `AreaCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '区域编码',
  `ALat` decimal(18,6) DEFAULT NULL COMMENT '高德纬度',
  `ALng` decimal(18,6) DEFAULT NULL COMMENT '高德经度',
  `InsertTime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '数据插入时间',
  PRIMARY KEY (`Id`),
  KEY `NON-AreaCode` (`AreaCode`)
) ENGINE=InnoDB AUTO_INCREMENT=3821 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='智能工单大屏_基础数据_工单完成率地区经纬度'</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>tmp_districtyx2</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tmp_districtyx2 \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tmp_districtyx2` (
  `市编码` varchar(255) DEFAULT NULL,
  `市名称` varchar(255) DEFAULT NULL,
  `市编码1` varchar(255) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>workflowruntimerelatedactors</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "Deleted": {
      "default": {
        "source": null,
        "target": "0"
      },
      "nullable": {
        "source": false,
        "target": true
      },
      "type": {
        "source": "bit(1)",
        "target": "smallint(6)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>vi_vhsworkorderinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "AdmissibilityStatus": {
      "message": "\u5217 AdmissibilityStatus \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "ReceiverLoginName": {
      "message": "\u5217 ReceiverLoginName \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "ReceiverUserId": {
      "message": "\u5217 ReceiverUserId \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "ReceiverUserName": {
      "message": "\u5217 ReceiverUserName \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "ReturnState": {
      "type": {
        "source": "int(6)",
        "target": "smallint(6)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>vi_chpworkorderdetial</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 vi_chpworkorderdetial \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE ALGORITHM=MERGE DEFINER=`user_service`@`%` SQL SECURITY DEFINER VIEW `vi_chpworkorderdetial` AS select `a`.`Id` AS `WorkOrderId`,`a`.`AppCode` AS `AppCode`,`fn_GetOrderTypeByCode`(`a`.`OrderType`) AS `fn_GetOrderTypeByCode(a.OrderType)`,`b`.`SubjectNameSummary` AS `SubjectNameSummary`,`a`.`CustomerName` AS `CustomerName`,`a`.`CustStoreName` AS `CustStoreName`,`a`.`CustSettleName` AS `CustSettleName`,`a`.`LinkMan` AS `LinkMan`,`a`.`LinkTel` AS `LinkTel`,`a`.`ProName` AS `ProName`,`a`.`CityName` AS `CityName`,`a`.`AreaName` AS `AreaName`,`a`.`InstallAddress` AS `InstallAddress`,`a`.`Remark` AS `Remark`,(case `c`.`v_chpFirstContactRole` when 1 then '运营' when 2 then '服务人员' end) AS `FirstConcatRole`,`c`.`v_chpCarUserName` AS `chpCarUserName`,`c`.`v_chpCarUserTel` AS `chpCarUserTel`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpCarVinNumber')) AS `chpCarVinNumber`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpSurveyInfo.IsWithPile')) AS `IsWithPile`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpSurveyInfo.IsSelfBuiltHouse')) AS `IsSelfBuiltHouse`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpSurveyInfo.CarParkin')) AS `CarParkin`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpSurveyInfo.ProtectionBox')) AS `ProtectionBox`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpSurveyInfo.InstallType')) AS `InstallType`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpSurveyInfo.GetElectricityType')) AS `GetElectricityType`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpSurveyInfo.Schedule')) AS `Schedule`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpSurveyInfo.ElectricityMetersType')) AS `ElectricityMetersType`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpSurveyInfo.PowerPointLocation')) AS `PowerPointLocation`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpFirstContact.WechatNumber')) AS `WechatNumber`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpWXAddProgress')) AS `chpWXAddProgress`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpFirstContact.Remark')) AS `FirstContactRemark`,`a`.`WorkStatus` AS `WorkStatus`,`fn_GetStatusNameByCode`(`a`.`WorkStatus`) AS `WorkStatusName`,(select `a1`.`OperName` from `tb_operatinginfo` `a1` where ((`a1`.`WorkOrderId` = `a`.`Id`) and (`a1`.`Deleted` = 0)) group by `a1`.`WorkOrderId` having (count(1) = 1)) AS `CurrentPerson`,(select max(`b1`.`DoneAt`) from (`workflowruntimeitems` `a1` join `workflowruntimesteps` `b1`) where ((`a1`.`Id` = `b1`.`RuntimeItemId`) and (`a1`.`Deleted` = 0) and (`b1`.`Deleted` = 0) and (`b1`.`Name` = '创建工单') and (`b1`.`DoneAt` is not null) and (`a`.`Id` = `a1`.`TargetEntityId`)) group by `a1`.`TargetEntityId`) AS `SubmmitTime`,`a`.`RequiredTime` AS `RequiredTime`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpNextFollowTime')) AS `chpNextFollowTime`,(select (case `tb_appointment`.`AppointStatus` when 0 then '' when 1 then '改约' when 2 then '等通知' when 3 then '请求关闭' when 4 then '客服异常反馈记录' when 5 then '请求关闭（客户审核）' when 6 then '需再次上门' when 7 then '智能改约' when 8 then '改约' when 9 then '等通知' when 10 then '请求关闭' when 11 then '跟进记录' end) from `tb_appointment` where ((`tb_appointment`.`WorkOrderId` = `a`.`Id`) and (`tb_appointment`.`AppointSource` in (1,3)) and (`tb_appointment`.`Deleted` = 0) and (`tb_appointment`.`AppointStatus` in (2,11))) order by `tb_appointment`.`CreatedAt` desc limit 1) AS `LastAppointStatus`,`fn_GetLastFailAppointConcat`(`a`.`Id`) AS `LastFailAppointConcat`,(select group_concat(concat(convert(if((`tb_appointment`.`CreatedAt` is not null),concat('记录提交时间：',`tb_appointment`.`CreatedAt`,'；'),'') using utf8),if(((`tb_appointment`.`ApplyReason` is null) and (`tb_appointment`.`FailText` is null)),'',concat('申请原因：',concat(ifnull(`tb_appointment`.`ApplyReason`,''),ifnull(`tb_appointment`.`FailText`,'')),'；')),if((`tb_appointment`.`Remark` is not null),concat('描述：',`tb_appointment`.`Remark`,'；'),''),convert(if((`tb_appointment`.`NextContactTime` is not null),concat('下次联系时间：',`tb_appointment`.`NextContactTime`,'；'),'') using utf8)) order by `tb_appointment`.`CreatedAt` DESC separator '\r\n') from `tb_appointment` where ((`tb_appointment`.`Deleted` = 0) and (`tb_appointment`.`WorkOrderId` = `a`.`Id`)) group by `tb_appointment`.`WorkOrderId`) AS `AllFailAppointConcat`,`d`.`SurveyTime` AS `SurveyTime`,`e`.`CompleteTime` AS `CompleteTime`,(select `w1`.`ClosedAt` from `tb_workorderstatus` `w1` where ((`a`.`Id` = `w1`.`WorkOrderId`) and (`w1`.`Deleted` = 0))) AS `ClosedAt`,(select group_concat(`w1`.`Remark` order by `w1`.`InsertTime` DESC separator ';') from `tb_workflowinfo` `w1` where ((`w1`.`StepName` in ('质检驳回（安装）','质检驳回（勘测）')) and (`w1`.`WorkOrderId` = `a`.`Id`) and (`w1`.`Deleted` = 0) and (`w1`.`StepStatus` = 3)) group by `w1`.`WorkOrderId`) AS `AuditRejectRemark`,(select count(1) from `tb_workflowinfo` `w1` where ((`w1`.`StepName` in ('质检驳回（安装）','质检驳回（勘测）')) and (`w1`.`WorkOrderId` = `a`.`Id`) and (`w1`.`Deleted` = 0) and (`w1`.`StepStatus` = 1)) group by `w1`.`WorkOrderId`) AS `AuditRejectNum`,(select `w1`.`DoneAt` from `tb_workflowinfo` `w1` where ((`w1`.`StepName` = '质检工单（安装）') and (`w1`.`WorkOrderId` = `a`.`Id`) and (`w1`.`Deleted` = 0) and (`w1`.`StepStatus` = 1)) order by `w1`.`InsertTime` desc limit 1) AS `AuditTime`,json_unquote(json_extract(`g1`.`ExtraJson`,'$.SettleType')) AS `SettleType`,`f1`.`PayTypeName` AS `PayTypeName`,(select `r1`.`Remark` from `tb_remarkinfo` `r1` where ((`r1`.`Type` = 6) and (`r1`.`WorkOrderId` = `a`.`Id`) and (`r1`.`Deleted` = 0))) AS `ChangeRemark`,`f1`.`PayAblePrice` AS `PayAblePrice`,(case `g1`.`PaySource` when 1 then '扫码支付' when 2 then '线下转账' when 3 then '银行转账' end) AS `PaySource`,(case when (`g2`.`Id` is not null) then '是' else '否' end) AS `IsAddition`,json_unquote(json_extract(`g2`.`ExtraJson`,'$.SettleRoad')) AS `AdditionFeeSettleRoad`,json_unquote(json_extract(`g2`.`ExtraJson`,'$.AdditionFeePayTypeName')) AS `AdditionFeePayTypeName`,(select `r2`.`Remark` from `tb_remarkinfo` `r2` where ((`r2`.`Type` = 13) and (`r2`.`WorkOrderId` = `a`.`Id`) and (`r2`.`Deleted` = 0))) AS `AdditionFeeChangeRemark`,json_unquote(json_extract(`g2`.`ExtraJson`,'$.AdditionFeeDetail')) AS `AdditionFeeDetail`,`g2`.`Price` AS `AdditionFeePrice`,(case `g2`.`PaySource` when 1 then '扫码支付' when 2 then '线下转账' when 3 then '银行转账' end) AS `AdditionFeePaySource`,`g2`.`OfflinePayer` AS `AdditionFeeOfflinePayer`,`g2`.`PayTime` AS `AdditionFeePayTime`,(select `g2`.`GoodsName` from `tb_workgoodsinfo` `g2` where ((`a`.`Id` = `g2`.`WorkOrderId`) and (`g2`.`GoodsType` = 5) and (`g2`.`Deleted` = 0))) AS `ServiceGoodsName`,(select `g2`.`GoodsPrice` from `tb_workgoodsinfo` `g2` where ((`a`.`Id` = `g2`.`WorkOrderId`) and (`g2`.`GoodsType` = 5) and (`g2`.`Deleted` = 0))) AS `ServiceGoodsPrice`,json_unquote(json_extract(`g`.`ExtraJson`,'$.Power')) AS `Power`,json_unquote(json_extract(`g`.`ExtraJson`,'$.FirstPartySettleLength')) AS `FirstPartySettleLength`,json_unquote(json_extract(`g`.`ExtraJson`,'$.PackageLength')) AS `PackageLength`,`g`.`BrandName` AS `BrandName`,json_unquote(json_extract(`g`.`ExtraJson`,'$.chpBrandInfoURL')) AS `chpBrandInfoURL`,json_unquote(json_extract(`g`.`ExtraJson`,'$.ProjectWarrantyPeriod')) AS `ProjectWarrantyPeriod`,`d`.`SurveyName` AS `SurveyName`,`d`.`Surveycode` AS `Surveycode`,`e`.`ServiceName` AS `InstallName`,`e`.`ServiceCode` AS `InstallCode`,`d`.`Distance` AS `Distance`,(select `f1`.`v_EmployeeAttributes` from (`tb_userinfo` `e1` left join `tb_userdetail` `f1` on((`e1`.`Id` = `f1`.`Id`))) where ((convert(`e`.`ServiceCode` using utf8mb4) = `e1`.`LoginName`) and (`e1`.`Deleted` = 0) and (`e1`.`TeamCode` = '10670001')) limit 1) AS `EmployeeAttributes`,(case `d`.`SurveyMethod` when 1 then '单独上门勘测' when 2 then '视频等远程勘测' when 3 then '勘测+安装一起完成' end) AS `SurveyMethod`,`d`.`IndividualReason` AS `IndividualReason`,(case `d`.`SurveyResult` when 1 then '是' when 0 then '否' end) AS `SurveyResult`,`d`.`ResultReason` AS `ResultReason`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpSurveyInfo.Remark')) AS `SurveyRemark`,(case `g`.`Seller` when 0 then '中瑞' when 1 then '非中瑞' end) AS `Seller`,`g`.`GoodsName` AS `GoodsName`,`h`.`MaterialPrice` AS `MaterialPrice`,(case `g`.`GoodsSource` when 0 then '分仓货品' when 1 then '批发货品' end) AS `GoodsSource`,`h`.`MaterialNo` AS `MaterialNo`,`h`.`MaterialType` AS `MaterialType`,(select `h2`.`MaterialType` from `tb_workgoodsdetail` `h2` where ((`g`.`Id` = `h2`.`WorkGoodsId`) and (`h2`.`Deleted` = 0) and (`h2`.`MaterialTypeCode` like '0301%'))) AS `EscrowMaterialType`,(select `h2`.`MaterialNo` from `tb_workgoodsdetail` `h2` where ((`g`.`Id` = `h2`.`WorkGoodsId`) and (`h2`.`Deleted` = 0) and (`h2`.`MaterialTypeCode` like '0301%'))) AS `EscrowMaterialNo`,json_unquote(json_extract(`g`.`ExtraJson`,'$.PileWarrantyPeriod')) AS `PileWarrantyPeriod`,`h`.`WarehouseName` AS `WarehouseName`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpIsSelfWiring')) AS `chpIsSelfWiring`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpAccessoriesWarehourse')) AS `chpAccessoriesWarehourse`,replace(concat(json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','国标电缆硬线'))),'$.DeliveryMethod')),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','国标电缆硬线'))),'$.NotUsed')) = 1),'未使用',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','国标电缆硬线'))),'$.ActualUsage'))),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','国标电缆硬线'))),'$.NotUsed')) = 1),'',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','国标电缆硬线'))),'$.Brand')) = '其他'),concat(json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','国标电缆硬线'))),'$.Brand')),':',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','国标电缆硬线'))),'$.BrandRemark'))),json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','国标电缆硬线'))),'$.Brand')))),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','国标电缆硬线'))),'$.NotUsed')) = 1),'',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','国标电缆硬线'))),'$.Specifications')))),'||','') AS `HardWire`,replace(concat(json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','国标电缆软线'))),'$.DeliveryMethod')),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','国标电缆软线'))),'$.NotUsed')) = 1),'未使用',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','国标电缆软线'))),'$.ActualUsage'))),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','国标电缆软线'))),'$.NotUsed')) = 1),'',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','国标电缆软线'))),'$.Brand')) = '其他'),concat(json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','国标电缆软线'))),'$.Brand')),':',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','国标电缆软线'))),'$.BrandRemark'))),json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','国标电缆软线'))),'$.Brand')))),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','国标电缆软线'))),'$.NotUsed')) = 1),'',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','国标电缆软线'))),'$.Specifications')))),'||','') AS `FlexibleCord`,replace(concat(json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','套管'))),'$.DeliveryMethod')),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','套管'))),'$.NotUsed')) = 1),'未使用',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','套管'))),'$.ActualUsage'))),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','套管'))),'$.NotUsed')) = 1),'',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','套管'))),'$.Brand')) = '其他'),concat(json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','套管'))),'$.Brand')),':',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','套管'))),'$.BrandRemark'))),json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','套管'))),'$.Brand')))),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','套管'))),'$.NotUsed')) = 1),'',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','套管'))),'$.Specifications')))),'||','') AS `Drivepipe`,replace(concat(json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','漏保'))),'$.DeliveryMethod')),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','漏保'))),'$.NotUsed')) = 1),'未使用',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','漏保'))),'$.ActualUsage'))),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','漏保'))),'$.NotUsed')) = 1),'',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','漏保'))),'$.Brand')) = '其他'),concat(json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','漏保'))),'$.Brand')),':',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','漏保'))),'$.BrandRemark'))),json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','漏保'))),'$.Brand')))),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','漏保'))),'$.NotUsed')) = 1),'',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','漏保'))),'$.Specifications')))),'||','') AS `LeakageInsurance`,replace(concat(json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','空开盒'))),'$.DeliveryMethod')),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','空开盒'))),'$.NotUsed')) = 1),'未使用',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','空开盒'))),'$.ActualUsage'))),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','空开盒'))),'$.NotUsed')) = 1),'',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','空开盒'))),'$.Brand')) = '其他'),concat(json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','空开盒'))),'$.Brand')),':',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','空开盒'))),'$.BrandRemark'))),json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','空开盒'))),'$.Brand')))),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','空开盒'))),'$.NotUsed')) = 1),'',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','空开盒'))),'$.Specifications')))),'||','') AS `AirSwitchBox`,replace(concat(json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','充电桩立柱'))),'$.DeliveryMethod')),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','充电桩立柱'))),'$.NotUsed')) = 1),'未使用',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','充电桩立柱'))),'$.ActualUsage'))),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','充电桩立柱'))),'$.NotUsed')) = 1),'',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','充电桩立柱'))),'$.Brand')) = '其他'),concat(json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','充电桩立柱'))),'$.Brand')),':',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','充电桩立柱'))),'$.BrandRemark'))),json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','充电桩立柱'))),'$.Brand')))),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','充电桩立柱'))),'$.NotUsed')) = 1),'',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesType'),'one','充电桩立柱'))),'$.Specifications')))),'||','') AS `ChargingPileColumn`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpInstallRemark')) AS `chpInstallRemark`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpCableMeterMarker')) AS `chpCableMeterMarker`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpCableBrandSpec')) AS `chpCableBrandSpec`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpLeakageInsuranceModel')) AS `chpLeakageInsuranceModel`,`a`.`CreatedAt` AS `CreatedAt` from (((((((((`tb_workorderinfo` `a` left join `tb_worksubjectsummary` `b` on(((`a`.`Id` = `b`.`WorkOrderId`) and (`b`.`Deleted` = 0)))) left join `tb_workbussinessjsoninfo` `c` on(((`a`.`Id` = `c`.`WorkOrderId`) and (`c`.`Deleted` = 0)))) left join `tb_chpworkorderinfo` `d` on(((`a`.`Id` = `d`.`Id`) and (`d`.`Deleted` = 0)))) left join `tb_workserviceinfo` `e` on(((`a`.`Id` = `e`.`WorkOrderId`) and (`e`.`Deleted` = 0)))) left join `tb_workfeeinfo` `f1` on(((`a`.`Id` = `f1`.`WorkOrderId`) and (`f1`.`Deleted` = 0)))) left join `tb_workfeeitem` `g1` on(((`f1`.`Id` = `g1`.`FeeInfoId`) and (`g1`.`FeePurpose` = '勘测费用') and (`g1`.`Deleted` = 0)))) left join `tb_workfeeitem` `g2` on(((`f1`.`Id` = `g2`.`FeeInfoId`) and (`g2`.`FeePurpose` = '增项费用') and (`g2`.`Deleted` = 0)))) left join `tb_workgoodsinfo` `g` on(((`a`.`Id` = `g`.`WorkOrderId`) and (`g`.`Deleted` = 0) and (`g`.`GoodsType` = 0)))) left join `tb_workgoodsdetail` `h` on(((`g`.`Id` = `h`.`WorkGoodsId`) and (`h`.`Deleted` = 0) and (`h`.`MaterialTypeCode` like '0101%')))) where (`a`.`Deleted` = 0)</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>workflowruntimeattachments</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "Deleted": {
      "default": {
        "source": null,
        "target": "0"
      },
      "nullable": {
        "source": false,
        "target": true
      },
      "type": {
        "source": "bit(1)",
        "target": "smallint(6)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>basic_workflowstatus_bak_new</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 basic_workflowstatus_bak_new \u5728\u6e90\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_source"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>DROP TABLE IF EXISTS `basic_workflowstatus_bak_new`;</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>工作簿2</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 \u5de5\u4f5c\u7c3f2 \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `工作簿2` (
  `产品线` text,
  `一级组织` text,
  `二级组织` text,
  `三级组织` text,
  `项目名称` text,
  `版本号` text,
  `优先级别` text,
  `严重级别` text,
  `发生时间` text,
  `是否为客户投诉` text,
  `问题类型` text,
  `问题大类` text,
  `问题小类` text
) ENGINE=InnoDB DEFAULT CHARSET=utf8</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tb_feeiteminfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "indexes": {
    "GenerationMode": {
      "message": "\u7d22\u5f15 GenerationMode \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>home_viewdata</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 home_viewdata \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `home_viewdata` (
  `Id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '自增主键',
  `DataType` smallint(6) DEFAULT NULL,
  `ProCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '省份编码',
  `DateType` smallint(6) DEFAULT NULL COMMENT '时间类型(1上月2上周3昨日4今年)',
  `ProviderCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '服务商编码',
  `JsonValue` json DEFAULT NULL COMMENT 'data数据',
  `InsertTime` timestamp(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3) COMMENT '数据写入时间',
  PRIMARY KEY (`Id`),
  KEY `home_viewdata_ProCode_index` (`ProCode`),
  KEY `home_viewdata_DateType_index` (`DateType`),
  KEY `home_viewdata_DataType_index` (`DataType`),
  KEY `home_viewdata_ProviderCode_index` (`ProviderCode`)
) ENGINE=InnoDB AUTO_INCREMENT=1036829 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='大屏工单_首页视图'</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tb_workorderdetailmodel</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tb_workorderdetailmodel \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tb_workorderdetailmodel` (
  `Id` bigint(20) NOT NULL AUTO_INCREMENT,
  `Report` int(11) NOT NULL COMMENT '报表（1-金融工单明细表）',
  `ModelName` varchar(50) DEFAULT NULL COMMENT '报表模板名称',
  `Column` text COMMENT '自定义字段',
  `LoginName` varchar(50) DEFAULT NULL COMMENT '模板创建人账号',
  `UserName` varchar(100) DEFAULT NULL COMMENT '模板创建人姓名',
  `InsertTime` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `Deleted` tinyint(4) DEFAULT NULL COMMENT '是否删除',
  PRIMARY KEY (`Id`),
  KEY `NON-Report` (`Report`) USING BTREE,
  KEY `NON-ModelName` (`ModelName`) USING BTREE,
  KEY `NON-LoginName` (`LoginName`) USING BTREE,
  KEY `NON-InsertTime` (`InsertTime`) USING BTREE,
  KEY `NON-Deleted` (`Deleted`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8 COMMENT='报表导出模板表'</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>tm_persons20250212</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tm_persons20250212 \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tm_persons20250212` (
  `LoginCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `RpDate` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `Company` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>rp_vhsworkorderdetail</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "FirstReturnAuditState": {
      "message": "\u5217 FirstReturnAuditState \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "FirstReturnRejectReason": {
      "message": "\u5217 FirstReturnRejectReason \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "ReceiveState": {
      "message": "\u5217 ReceiveState \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>home_usermapdaily</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 home_usermapdaily \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `home_usermapdaily` (
  `Id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增主键',
  `ProviderCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '服务商编码',
  `AreaType` smallint(6) DEFAULT NULL COMMENT '区域类型(1省份2城市3区县)',
  `AreaCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '区域编码',
  `AreaName` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '区域名称',
  `ProCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '省份编码',
  `Alng` decimal(18,6) DEFAULT NULL COMMENT '高德经度',
  `Alat` decimal(18,6) DEFAULT NULL COMMENT '高德纬度',
  `ServicerCnt` int(11) DEFAULT NULL COMMENT '覆盖人数',
  `InsertTime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '数据写入时间',
  PRIMARY KEY (`Id`),
  KEY `NON-AreaType` (`AreaType`),
  KEY `NON-ProviderCode` (`ProviderCode`),
  KEY `NON-AreaCode` (`AreaCode`)
) ENGINE=InnoDB AUTO_INCREMENT=16639 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='智能工单大屏_服务人员地图日报'</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>tb_userworkphonedetail</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tb_userworkphonedetail \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tb_userworkphonedetail` (
  `Id` varchar(12) NOT NULL COMMENT '主键(WH)',
  `PhoneInfoId` varchar(12) DEFAULT NULL COMMENT '工作手机主表ID（tb_userworkphoneinfo.Id）',
  `ConnectTime` datetime DEFAULT NULL COMMENT '沟通时间（通话/微信语音-[通话时间]、短信-[发送/接收时间]、微信-[最近沟通时间]）',
  `ConnectInfo` int(11) DEFAULT NULL COMMENT '沟通情况（通话/微信语音-[通话时长(秒)]、微信-[聊天记录字符数]）',
  `ConnectType` smallint(6) DEFAULT '0' COMMENT '沟通方式（0-无数据，1-呼入，2-呼出，3-接收，4-发送）',
  `ConnectStatus` smallint(6) DEFAULT '0' COMMENT '接通状态（0-无数据，1-接通，2-未接通）',
  `RecordDay` date DEFAULT NULL COMMENT '微信记录日期',
  `RecordTime` int(11) DEFAULT NULL COMMENT '微信记录时间（1[0:00:00~5：59：59];2[6:00:00~11：59：59];3[12:00:00~17：59：59];4[18:00:00~23：59:59])',
  `ChatHistory` json DEFAULT NULL COMMENT '聊天记录Json',
  `DataInfo` text COMMENT '数据信息（短信内容）',
  `Url` varchar(500) DEFAULT NULL COMMENT '附件链接',
  `ExternalId` varchar(100) DEFAULT NULL COMMENT '外部id',
  `CreatedAt` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间/数据同步时间',
  `UpdatedAt` datetime DEFAULT NULL COMMENT '最后一次修改时间',
  `DeletedAt` datetime DEFAULT NULL COMMENT '删除时间',
  `Deleted` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否删除(0:否,1:是)',
  PRIMARY KEY (`Id`),
  KEY `CreatedAt` (`CreatedAt`),
  KEY `RecordTime` (`RecordTime`),
  KEY `RecordDay` (`RecordDay`),
  KEY `ConnectTime` (`ConnectTime`),
  KEY `ConnectStatus` (`ConnectStatus`),
  KEY `ExternalId` (`ExternalId`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='工作手机沟通信息冗余表'</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>rp_vhsworkorderinfodetail</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "FirstReturnAuditState": {
      "message": "\u5217 FirstReturnAuditState \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "FirstReturnRejectReason": {
      "message": "\u5217 FirstReturnRejectReason \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "ReceiveState": {
      "message": "\u5217 ReceiveState \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>tb_workfeeitem</h4>
                
                <div class="diff-details">
                    <pre>{
  "indexes": {
    "NON-FeePurpose": {
      "message": "\u7d22\u5f15 NON-FeePurpose \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tmp_delorderid</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "remark": {
      "message": "\u5217 remark \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>vi_workorderusedcarcheck2</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 vi_workorderusedcarcheck2 \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE ALGORITHM=MERGE DEFINER=`user_service`@`%` SQL SECURITY INVOKER VIEW `vi_workorderusedcarcheck2` AS select `a`.`Id` AS `WorkOrderId`,`fn_GetOrderTypeByCode`(`a`.`OrderType`) AS `OrderType`,`a`.`CustomerId` AS `CustomerId`,`a`.`CustomerName` AS `CustomerName`,`a`.`CustStoreId` AS `CustStoreId`,`a`.`CustStoreCode` AS `CustStoreCode`,`a`.`CustStoreName` AS `CustStoreName`,`a`.`CustSettleId` AS `CustSettleId`,`a`.`CustSettleName` AS `CustSettleName`,`a`.`AppCode` AS `AppCode`,`b`.`VinNumber` AS `VinNumber`,`b`.`PlateNumber` AS `PlateNumber`,`b`.`UserName` AS `UserName`,`b`.`UserTel` AS `UserTel`,if((`d`.`ServiceType` = 6),1,0) AS `IsCentralize`,`a`.`WorkStatus` AS `OrderStatus`,`fn_GetStatusNameByCode`(`a`.`WorkStatus`) AS `OrderStatusName`,`a`.`ProCode` AS `ProCode`,`a`.`ProName` AS `ProName`,`a`.`CityCode` AS `CityCode`,`a`.`CityName` AS `CityName`,`a`.`AreaCode` AS `AreaCode`,`a`.`AreaName` AS `AreaName`,`a`.`InstallAddress` AS `InstallAddress`,`fn_GetTaskOrderTime`(`a`.`Id`) AS `AcceptTime`,`fn_GetCurrentPersonInfo`(`a`.`Id`,2) AS `CurrentPersonName`,`fn_GetCurrentPersonInfo`(`a`.`Id`,4) AS `CurrentPersonTel`,`a`.`LinkMan` AS `LinkMan`,`a`.`LinkTel` AS `LinkTel`,`a`.`Remark` AS `CustRemark`,`d`.`Remark` AS `InstallRemark`,`a`.`CreatePersonCode` AS `CreatedCode`,`a`.`CreatePersonName` AS `CreatedName`,`a`.`CreatedAt` AS `SubmitTime`,ifnull(`a`.`EffectiveTime`,`fn_GetWorkTime`(`a`.`CreatedAt`)) AS `EffectiveTime`,`g`.`FirstAppointTime` AS `MinOrderTime`,`a`.`InstallTime` AS `MaxOrderTime`,`e`.`CompleteTime` AS `FirstRecordTime`,`fn_GetWorkFlowTimeInfo`(`a`.`Id`,'结束') AS `CompleteTime`,(select group_concat(distinct ifnull(`oo`.`OrderNo`,'') separator ',') from `tb_workgoodsinfo` `oo` where ((`oo`.`WorkOrderId` = `a`.`Id`) and (`oo`.`Deleted` = 0)) group by `oo`.`WorkOrderId`) AS `OrderNoConcat`,`e`.`RecordPersonCode` AS `KeepCode`,`e`.`RecordPersonName` AS `KeepName`,(select ifnull(`e`.`LoginName`,convert(`a0`.`RecordPersonCode` using utf8mb4)) from ((((`tb_recordinfo` `a0` join `tb_userinfo` `b` on(((convert(`a0`.`RecordPersonCode` using utf8mb4) = `b`.`LoginName`) and (`b`.`Deleted` = 0)))) join `tb_userdetail` `c` on((`b`.`Id` = `c`.`Id`))) left join `basic_institutionalinfo` `d` on(((`c`.`AffiliatedInstitution` = `d`.`Code`) and (`d`.`OrgCode` = 1001) and (`d`.`Deleted` = 0) and (`d`.`ParentId` = (select `basic_institutionalinfo`.`Id` from `basic_institutionalinfo` where (`basic_institutionalinfo`.`Name` = '三方服务团队')))))) left join `tb_userinfo` `e` on(((`d`.`LeaderLoginName` = `e`.`LoginName`) and (`e`.`Deleted` = 0)))) where (`a0`.`WorkOrderId` = `a`.`Id`) limit 1) AS `KeepCode_zg`,(select ifnull(`e`.`UserName`,convert(`a0`.`RecordPersonName` using utf8mb4)) from ((((`tb_recordinfo` `a0` join `tb_userinfo` `b` on(((convert(`a0`.`RecordPersonCode` using utf8mb4) = `b`.`LoginName`) and (`b`.`Deleted` = 0)))) join `tb_userdetail` `c` on((`b`.`Id` = `c`.`Id`))) left join `basic_institutionalinfo` `d` on(((`c`.`AffiliatedInstitution` = `d`.`Code`) and (`d`.`OrgCode` = 1001) and (`d`.`Deleted` = 0) and (`d`.`ParentId` = (select `basic_institutionalinfo`.`Id` from `basic_institutionalinfo` where (`basic_institutionalinfo`.`Name` = '三方服务团队')))))) left join `tb_userinfo` `e` on(((`d`.`LeaderLoginName` = `e`.`LoginName`) and (`e`.`Deleted` = 0)))) where (`a0`.`WorkOrderId` = `a`.`Id`) limit 1) AS `KeepName_zg`,if((`d`.`Privoder` = 0),'中瑞','客户') AS `Provider`,`d`.`ServiceCode` AS `InstallCode`,`d`.`ServiceName` AS `InstallName`,ifnull(`d`.`WorkerCode`,`d`.`ServiceCode`) AS `InstallCode_Actual`,ifnull(`d`.`WorkerName`,`d`.`ServiceName`) AS `InstallName_Actual`,`fn_GetWorkFlowPersonInfoNew`(`a`.`Id`,'质检',2) AS `OperName`,`f`.`SaleName` AS `GoodsConcat`,NULL AS `ServiceMateriel`,`fn_GetAppointStatusByCode`(`g`.`AppointStatus`) AS `AppointResult`,`fn_GetAppointById`(`a`.`Id`,3) AS `AppointRecord`,`fn_GetAppointById`(`a`.`Id`,1) AS `FirstAppoint`,`fn_GetAppointById`(`a`.`Id`,2) AS `LastAppoint`,`b`.`CarFullName` AS `CarModelName`,`h`.`Value` AS `LoanAmount`,now() AS `InsertTime`,0 AS `Deleted` from ((((((`tb_workorderinfo` `a` left join `tb_appointmentconcat` `g` on(((`g`.`WorkOrderId` = `a`.`Id`) and (`g`.`Deleted` = 0)))) left join `tb_workcarinfo` `b` on(((`a`.`Id` = `b`.`WorkOrderId`) and (`b`.`Deleted` = 0)))) left join `tb_workserviceinfo` `d` on((`a`.`Id` = `d`.`WorkOrderId`))) left join `tb_recordinfo` `e` on(((`a`.`Id` = `e`.`WorkOrderId`) and (`e`.`Deleted` = 0)))) left join `tb_workgoodsinfo` `f` on(((`a`.`Id` = `f`.`WorkOrderId`) and (`f`.`Deleted` = 0)))) left join `tb_custcolumn` `h` on(((`h`.`WorkOrderId` = `a`.`Id`) and (`h`.`TypeCode` = 'loanNum') and (`h`.`Deleted` = 0)))) where ((`a`.`Deleted` = 0) and (`a`.`OrderType` = '1404'))</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>vi_datalastest</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "CategoryName": {
      "type": {
        "source": "text",
        "target": "mediumtext"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>de_xichashiti</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "testJson": {
      "message": "\u5217 testJson \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>tb_chpworkbussinessjsoninfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tb_chpworkbussinessjsoninfo \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tb_chpworkbussinessjsoninfo` (
  `Id` int(11) NOT NULL AUTO_INCREMENT COMMENT '自增主键',
  `WorkOrderId` char(12) DEFAULT NULL COMMENT '工单主单主键(tb_workorderinfo.Id)',
  `BussinessJson` json DEFAULT NULL COMMENT '处理人信息JSON',
  `InsertTime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `Deleted` tinyint(1) NOT NULL DEFAULT '0',
  `DynamicId` varchar(20) NOT NULL DEFAULT 'FA-' COMMENT '动态表单Id',
  `LastUpdateTimeStamp` datetime(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3) COMMENT '最近更新时间',
  `v_chpWXAddProgress` varchar(50) GENERATED ALWAYS AS (json_unquote(json_extract(`BussinessJson`,_utf8mb4'$.chpWXAddProgress'))) VIRTUAL COMMENT '(CHP)车主微信添加进度',
  `v_chpCarUserName` varchar(50) GENERATED ALWAYS AS (json_unquote(json_extract(`BussinessJson`,_utf8mb4'$.chpCarUserName'))) VIRTUAL COMMENT '(CHP)车主姓名',
  `v_chpCarUserTel` varchar(50) GENERATED ALWAYS AS (json_unquote(json_extract(`BussinessJson`,_utf8mb4'$.chpCarUserTel'))) VIRTUAL COMMENT '(CHP)车主电话',
  `v_chpSurveyInstallType` varchar(50) GENERATED ALWAYS AS (json_unquote(json_extract(`BussinessJson`,_utf8mb4'$.chpSurveyInfo.InstallType'))) VIRTUAL COMMENT '(CHP)安装方式',
  `v_chpElectricityMetersType` varchar(50) GENERATED ALWAYS AS (json_unquote(json_extract(`BussinessJson`,_utf8mb4'$.chpSurveyInfo.ElectricityMetersType'))) VIRTUAL COMMENT '(CHP)电表类型',
  `v_chpFirstContactRole` smallint(6) GENERATED ALWAYS AS (if((json_unquote(json_extract(`BussinessJson`,_utf8mb4'$.chpFirstContact.Role')) = _utf8mb4''),0,json_unquote(json_extract(`BussinessJson`,_utf8mb4'$.chpFirstContact.Role')))) VIRTUAL COMMENT '(CHP)首联人角色(1-运营，2-服务人员)',
  `v_chpNextFollowTime` datetime GENERATED ALWAYS AS (if((json_unquote(json_extract(`BussinessJson`,_utf8mb4'$.chpNextFollowTime')) = _utf8mb4''),NULL,if((json_unquote(json_extract(`BussinessJson`,_utf8mb4'$.chpNextFollowTime')) = _utf8mb4'null'),NULL,json_unquote(json_extract(`BussinessJson`,_utf8mb4'$.chpNextFollowTime'))))) VIRTUAL COMMENT '(CHP)下次跟进时间',
  `v_chpCarVinNumber` varchar(100) GENERATED ALWAYS AS (json_unquote(json_extract(`BussinessJson`,_utf8mb4'$.chpCarVinNumber'))) VIRTUAL COMMENT '(CHP)车架号',
  `v_ChpLineActualUsage` int(11) GENERATED ALWAYS AS ((if((json_unquote(json_extract(json_extract(json_unquote(json_extract(`BussinessJson`,_utf8mb4'$.chpAccessories')),json_unquote(json_search(json_unquote(json_extract(`BussinessJson`,_utf8mb4'$.chpAccessories[*].AccessoriesType')),_utf8mb4'one',_utf8mb4'电缆硬线'))),_utf8mb4'$.ActualUsage')) in (_utf8mb4'null',_utf8mb4'')),0,json_unquote(json_extract(json_extract(json_unquote(json_extract(`BussinessJson`,_utf8mb4'$.chpAccessories')),json_unquote(json_search(json_unquote(json_extract(`BussinessJson`,_utf8mb4'$.chpAccessories[*].AccessoriesType')),_utf8mb4'one',_utf8mb4'电缆硬线'))),_utf8mb4'$.ActualUsage'))) + if((json_unquote(json_extract(json_extract(json_unquote(json_extract(`BussinessJson`,_utf8mb4'$.chpAccessories')),json_unquote(json_search(json_unquote(json_extract(`BussinessJson`,_utf8mb4'$.chpAccessories[*].AccessoriesType')),_utf8mb4'one',_utf8mb4'电缆软线'))),_utf8mb4'$.ActualUsage')) in (_utf8mb4'null',_utf8mb4'')),0,json_unquote(json_extract(json_extract(json_unquote(json_extract(`BussinessJson`,_utf8mb4'$.chpAccessories')),json_unquote(json_search(json_unquote(json_extract(`BussinessJson`,_utf8mb4'$.chpAccessories[*].AccessoriesType')),_utf8mb4'one',_utf8mb4'电缆软线'))),_utf8mb4'$.ActualUsage'))))) VIRTUAL COMMENT '(CHP)线缆实际用量（电缆硬线+电缆软线实际用量）',
  `v_chpFactoryBrand` varchar(200) GENERATED ALWAYS AS (json_unquote(json_extract(`BussinessJson`,_utf8mb4'$.chpFactoryBrand'))) VIRTUAL COMMENT '(CHP)主机厂品牌',
  `v_chpActualSolutionCode` varchar(200) GENERATED ALWAYS AS (json_unquote(json_extract(`BussinessJson`,_utf8mb4'$.chpActualSolutionCode'))) VIRTUAL COMMENT '(CHP)实际处理方案Code',
  `v_chpOrderCompleteTime` datetime GENERATED ALWAYS AS (if((json_unquote(json_extract(`BussinessJson`,_utf8mb4'$.chpOrderCompleteTime')) = _utf8mb4'null'),NULL,json_unquote(json_extract(`BussinessJson`,_utf8mb4'$.chpOrderCompleteTime')))) VIRTUAL COMMENT '(CHP)工单完成时间',
  PRIMARY KEY (`Id`,`DynamicId`),
  KEY `NON-WorkOrderId` (`WorkOrderId`),
  KEY `NON-DynamicId` (`DynamicId`) USING BTREE,
  KEY `NON-LastUpdateTimeStamp` (`LastUpdateTimeStamp`),
  KEY `NON-v_chpWXAddProgress` (`v_chpWXAddProgress`) USING BTREE,
  KEY `NON-v_chpCarUserName` (`v_chpCarUserName`) USING BTREE,
  KEY `NON-v_chpCarUserTel` (`v_chpCarUserTel`) USING BTREE,
  KEY `NON-v_chpSurveyInstallType` (`v_chpSurveyInstallType`) USING BTREE,
  KEY `NON-v_chpElectricityMetersType` (`v_chpElectricityMetersType`) USING BTREE,
  KEY `NON-v_chpFirstContactRole` (`v_chpFirstContactRole`) USING BTREE,
  KEY `NON-v_chpNextFollowTime` (`v_chpNextFollowTime`) USING BTREE,
  KEY `NON-v_chpCarVinNumber` (`v_chpCarVinNumber`) USING BTREE,
  KEY `NON-v_chpFactoryBrand` (`v_chpFactoryBrand`) USING BTREE,
  KEY `NON-v_chpActualSolutionCode` (`v_chpActualSolutionCode`) USING BTREE,
  KEY `NON-chpOrderCompleteTime` (`v_chpOrderCompleteTime`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=4131 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='业务域_工单业务信息JOSN冗余表(CHP)'</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>workflowrelatedactors</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "Deleted": {
      "default": {
        "source": null,
        "target": "0"
      },
      "nullable": {
        "source": false,
        "target": true
      },
      "type": {
        "source": "bit(1)",
        "target": "smallint(6)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>workflowruntimestatus</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "Deleted": {
      "default": {
        "source": null,
        "target": "0"
      },
      "nullable": {
        "source": false,
        "target": true
      },
      "type": {
        "source": "bit(1)",
        "target": "smallint(6)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>tb_userworkphoneinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tb_userworkphoneinfo \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tb_userworkphoneinfo` (
  `Id` varchar(12) NOT NULL COMMENT '主键(WP)',
  `DataStatus` smallint(6) DEFAULT '0' COMMENT '数据状态（0-待匹配，1-匹配中，2-已匹配）',
  `DataSource` smallint(6) DEFAULT NULL COMMENT '来源（1-云客，2-安米）',
  `DataType` smallint(6) DEFAULT NULL COMMENT '数据类型（1-通话，2-短信，3-微信，4-微信语音）',
  `LoginName` varchar(50) DEFAULT NULL COMMENT '员工账号',
  `UserName` varchar(100) DEFAULT NULL COMMENT '员工姓名',
  `UserTel` varchar(50) DEFAULT NULL COMMENT '员工电话',
  `UserRole` varchar(50) DEFAULT NULL COMMENT '员工角色',
  `UserWxId` varchar(50) DEFAULT NULL COMMENT '员工微信Id(tb_wxuserinfo.WxId)',
  `CustomerWxId` varchar(50) DEFAULT NULL COMMENT '客户微信Id(tb_wxuserinfo.WxId)',
  `WxRelationType` smallint(6) DEFAULT NULL COMMENT '微信关系类型（1-好友，2-群）',
  `CustomerName` varchar(100) DEFAULT NULL COMMENT '客户姓名/备注(通话/短信-[客户姓名]、微信-[客户微信/群备注]、微信语音-[通话人备注])',
  `CustomerTel` varchar(50) DEFAULT NULL COMMENT '客户手机号',
  `FirstConnectTime` datetime DEFAULT NULL COMMENT '第一次沟通时间/数据同步时间',
  `LastConnectTime` datetime DEFAULT NULL COMMENT '最新沟通时间',
  `DateMatedAt` datetime DEFAULT NULL COMMENT '匹配时间',
  `WXPhoneInfoId` varchar(12) DEFAULT NULL COMMENT '微信语音绑定微信聊天记录ID（tb_userworkphoneinfo.Id）',
  `CreatedAt` datetime DEFAULT CURRENT_TIMESTAMP,
  `UpdatedAt` datetime DEFAULT NULL COMMENT '最后一次修改时间',
  `Deleted` tinyint(4) DEFAULT '0',
  PRIMARY KEY (`Id`),
  KEY `DataStatus` (`DataStatus`),
  KEY `UserName` (`UserName`),
  KEY `UserTel` (`UserTel`),
  KEY `UserRole` (`UserRole`),
  KEY `LoginName` (`LoginName`),
  KEY `CustomerName` (`CustomerName`),
  KEY `CustomerTel` (`CustomerTel`),
  KEY `LastConnectTime` (`LastConnectTime`),
  KEY `WXPhoneInfoId` (`WXPhoneInfoId`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='工作手机信息表'</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>teststruct</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 teststruct \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `teststruct` (
  `TABLE_CATALOG` text,
  `TABLE_SCHEMA` text,
  `TABLE_NAME` text,
  `COLUMN_NAME` text,
  `ORDINAL_POSITION` int(11) DEFAULT NULL,
  `COLUMN_DEFAULT` int(11) DEFAULT NULL,
  `IS_NULLABLE` text,
  `DATA_TYPE` text,
  `CHARACTER_MAXIMUM_LENGTH` double DEFAULT NULL,
  `CHARACTER_OCTET_LENGTH` double DEFAULT NULL,
  `NUMERIC_PRECISION` int(11) DEFAULT NULL,
  `NUMERIC_SCALE` int(11) DEFAULT NULL,
  `DATETIME_PRECISION` int(11) DEFAULT NULL,
  `CHARACTER_SET_NAME` text,
  `COLLATION_NAME` text,
  `COLUMN_TYPE` text,
  `COLUMN_KEY` text,
  `EXTRA` text,
  `PRIVILEGES` text,
  `COLUMN_COMMENT` text,
  `GENERATION_EXPRESSION` text,
  `SRS_ID` text
) ENGINE=InnoDB DEFAULT CHARSET=utf8</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>事务、沟通、会议任务工时明细</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 \u4e8b\u52a1\u3001\u6c9f\u901a\u3001\u4f1a\u8bae\u4efb\u52a1\u5de5\u65f6\u660e\u7ec6 \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `事务、沟通、会议任务工时明细` (
  `项目工作量统计` varchar(255) DEFAULT NULL,
  `f2` varchar(255) DEFAULT NULL,
  `f3` varchar(255) DEFAULT NULL,
  `f4` varchar(255) DEFAULT NULL,
  `f5` varchar(255) DEFAULT NULL,
  `f6` varchar(255) DEFAULT NULL,
  `f7` varchar(255) DEFAULT NULL,
  `f8` varchar(255) DEFAULT NULL,
  `f9` varchar(255) DEFAULT NULL,
  `f10` varchar(255) DEFAULT NULL,
  `f11` varchar(255) DEFAULT NULL,
  `f12` varchar(255) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>move_hisworkorderinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 move_hisworkorderinfo \u5728\u6e90\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_source"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>DROP TABLE IF EXISTS `move_hisworkorderinfo`;</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>workflownodecommentactors</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "Deleted": {
      "default": {
        "source": null,
        "target": "0"
      },
      "nullable": {
        "source": false,
        "target": true
      },
      "type": {
        "source": "bit(1)",
        "target": "smallint(6)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tb_userclockin_log</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tb_userclockin_log \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tb_userclockin_log` (
  `Id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '自增主键',
  `LoginName` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '用户登录名',
  `UserName` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '用户姓名',
  `StartTime` datetime DEFAULT NULL COMMENT '上班时间',
  `EndTime` datetime DEFAULT NULL COMMENT '下班时间',
  `InsertTime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `Deleted` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`Id`) USING BTREE,
  KEY `NON-LoginName` (`LoginName`) USING BTREE,
  KEY `NON-StartTime` (`StartTime`) USING BTREE,
  KEY `NON-EndTime` (`EndTime`) USING BTREE,
  KEY `NON-InsertTime` (`InsertTime`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=418115 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC COMMENT='员工打卡日志表（31天）'</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>vvi_workorderauditinfoforafc</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 vvi_workorderauditinfoforafc \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE ALGORITHM=MERGE DEFINER=`user_service`@`%` SQL SECURITY INVOKER VIEW `vvi_workorderauditinfoforafc` AS select `a`.`Id` AS `id`,`a`.`AppCode` AS `appcode`,`a`.`OrderType` AS `ordertype`,`fn_GetOrderTypeByCode`(`a`.`OrderType`) AS `ordertypename`,if((`c`.`TypeStatus` = 1),'（待关闭）',NULL) AS `statustypename`,`a`.`WorkStatus` AS `workstatus`,`fn_getstatusnamebycode`(`a`.`WorkStatus`) AS `workstatusname`,`fn_GetWorkPayStatus`(`a`.`Id`) AS `paystatus`,(case `c`.`TypeStatus` when 1 then '请求关闭（客户审核）' when 2 then '请求关闭' when 3 then '等通知' end) AS `closestatusname`,`f`.`SubjectCodeSummary` AS `subjectcode`,`f`.`SubjectNameSummary` AS `subjectname`,ifnull(`a`.`RequiredTime`,`a`.`InstallTime`) AS `requiredtime`,`a`.`CustomerId` AS `customerid`,`a`.`CustomerName` AS `customername`,`a`.`ProCode` AS `procode`,`a`.`ProName` AS `proname`,`a`.`CityCode` AS `citycode`,`a`.`CityName` AS `cityname`,`a`.`AreaCode` AS `areacode`,`a`.`AreaName` AS `areaname`,`a`.`InstallAddress` AS `installaddress`,concat(ifnull(`a`.`ProName`,''),ifnull(`a`.`CityName`,''),ifnull(`a`.`AreaName`,'')) AS `addressfullname`,concat(ifnull(`a`.`ProName`,''),ifnull(`a`.`CityName`,''),ifnull(`a`.`AreaName`,''),ifnull(`a`.`InstallAddress`,'')) AS `serviceaddress`,`a`.`LinkMan` AS `linkman`,`a`.`LinkTel` AS `linktel`,`a`.`Remark` AS `remark`,`a`.`CreatePersonCode` AS `createpersoncode`,`a`.`CreatePersonName` AS `createpersonname`,`a`.`ServiceProviderCode` AS `serviceprovidercode`,`a`.`CreatedAt` AS `createdat`,`d`.`v_canaltest1` AS `v_canaltest1`,`e`.`ServiceCode` AS `servicecode`,`e`.`ServiceName` AS `servicename`,(select `w1`.`DoneAt` from `tb_workflowinfo` `w1` where ((`w1`.`WorkOrderId` = `a`.`Id`) and (`w1`.`StepName` = '质检') and (`w1`.`StepStatus` = 1) and (`w1`.`Deleted` = 0)) order by `w1`.`DoneAt` desc limit 1) AS `auditaccepttime`,(select `w1`.`OperCode` from `tb_workflowinfo` `w1` where ((`w1`.`WorkOrderId` = `a`.`Id`) and (`w1`.`StepName` = '质检') and (`w1`.`StepStatus` = 1) and (`w1`.`Deleted` = 0)) order by `w1`.`DoneAt` desc limit 1) AS `auditacceptcode`,(select `w1`.`OperName` from `tb_workflowinfo` `w1` where ((`w1`.`WorkOrderId` = `a`.`Id`) and (`w1`.`StepName` = '质检') and (`w1`.`StepStatus` = 1) and (`w1`.`Deleted` = 0)) order by `w1`.`DoneAt` desc limit 1) AS `auditacceptname`,`fn_GetWorkFlowTimeInfo`(`a`.`Id`,'结束') AS `completetime`,`c`.`ClosedAt` AS `orderclosetime`,`c`.`ClosePersonCode` AS `orderclosecode`,`c`.`ClosePersonName` AS `orderclosename`,`fn_GetRequestCloseById`(`a`.`Id`,1) AS `requestclosetime`,`fn_GetRequestCloseById`(`a`.`Id`,2) AS `requestclosecode`,`fn_GetRequestCloseById`(`a`.`Id`,3) AS `requestclosename`,`fn_GetDispatchRecordTimeById`(`a`.`Id`,1) AS `firstdispatchtime`,`fn_GetDispatchRecordTimeById`(`a`.`Id`,2) AS `lastdispatchtime`,`fn_GetDispatchRecordTimeById`(`a`.`Id`,3) AS `firstdispatchcode`,`fn_GetDispatchRecordTimeById`(`a`.`Id`,4) AS `firstdispatchcname`,`fn_GetDispatchRecordTimeById`(`a`.`Id`,5) AS `lastdispatchcode`,`fn_GetDispatchRecordTimeById`(`a`.`Id`,6) AS `lastdispatchname`,`fn_GetDispatchRecordTimeById`(`a`.`Id`,7) AS `firstrecordtime`,`fn_GetDispatchRecordTimeById`(`a`.`Id`,8) AS `lastrecordtime`,`w5`.`Value` AS `contractno`,`w9`.`IntervieweeType` AS `intervieweetype`,`w9`.`IntervieweeName` AS `intervieweename`,`w9`.`AddressType` AS `addresstype`,`fn_GetAppointTime`(`a`.`Id`,'4') AS `lastappointtime`,`w9`.`IsNightVisit` AS `isnightvisit`,`w9`.`EstimatedDepartureTime` AS `estimateddeparturetime` from ((((((`tb_workorderinfo` `a` join `tb_workorderstatus` `c` on(((`c`.`WorkOrderId` = `a`.`Id`) and (`c`.`Deleted` = 0)))) left join `tb_workbussinessjsoninfo` `d` on(((`d`.`WorkOrderId` = `a`.`Id`) and (`d`.`Deleted` = 0)))) left join `tb_workserviceinfo` `e` on(((`a`.`Id` = `e`.`WorkOrderId`) and (`e`.`Deleted` = 0)))) left join `tb_worksubjectsummary` `f` on(((`a`.`Id` = `f`.`WorkOrderId`) and (`f`.`Deleted` = 0)))) left join `tb_custcolumn` `w5` on(((`a`.`Id` = `w5`.`WorkOrderId`) and (`w5`.`Deleted` = 0) and (`w5`.`TypeCode` = 1)))) join `tb_afcworkorderinfo` `w9` on(((`a`.`Id` = `w9`.`Id`) and (`w9`.`Deleted` = 0)))) where ((`a`.`Deleted` = 0) and (`a`.`WorkStatus` = '11'))</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>tb_chpworkorderinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "Distance": {
      "type": {
        "source": "decimal(18,1)",
        "target": "varchar(255)"
      }
    },
    "LastAuditRejectRemark": {
      "message": "\u5217 LastAuditRejectRemark \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "LastUpdateTimeStamp": {
      "message": "\u5217 LastUpdateTimeStamp \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  },
  "indexes": {
    "NON-LastUpdateTimeStamp": {
      "message": "\u7d22\u5f15 NON-LastUpdateTimeStamp \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>home_completerate</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 home_completerate \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `home_completerate` (
  `Id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增主键',
  `ProviderCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '服务商编码',
  `ProCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '省份编码',
  `7CompCnt` int(11) NOT NULL DEFAULT '0' COMMENT '7日内完成单量',
  `15CompCnt` int(11) NOT NULL DEFAULT '0' COMMENT '15日内完成单量',
  `30CompCnt` int(11) NOT NULL DEFAULT '0' COMMENT '30日内完成单量',
  `TotalCnt` int(11) DEFAULT NULL COMMENT '总单量',
  `InsertTime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '数据写入时间',
  PRIMARY KEY (`Id`)
) ENGINE=InnoDB AUTO_INCREMENT=128 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='智能工单大屏_服务网络_工单完成率'</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>basic_accessoryresource</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "ResourceClassName": {
      "message": "\u5217 ResourceClassName \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>workflowrelatedactors_bak</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 workflowrelatedactors_bak \u5728\u6e90\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_source"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>DROP TABLE IF EXISTS `workflowrelatedactors_bak`;</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>check_workflowjsonexclude</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 check_workflowjsonexclude \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `check_workflowjsonexclude` (
  `WorkOrderId` char(12) NOT NULL COMMENT '工单主单主键(tb_workorderinfo.Id)',
  `InsertTime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`WorkOrderId`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 AVG_ROW_LENGTH=49 ROW_FORMAT=DYNAMIC COMMENT='工作流冗余数据排除单据'</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>common_ruleactionlog</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 common_ruleactionlog \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `common_ruleactionlog` (
  `Id` varchar(12) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '主键ID(AL)',
  `TargetId` varchar(12) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '业务Id(tb_workorderinfo.Id)',
  `InputParams` json DEFAULT NULL COMMENT '输入参数json',
  `OutParams` json DEFAULT NULL COMMENT '输出参数json',
  `SubRuleCode` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '子规则编码(common_subruleinfo.SubRuleCode)',
  `SubRuleName` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '子规则名称(common_subruleinfo.SubRuleName)',
  `RuleTypeCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '规则类别编码（basic_datadictionary.code)',
  `VersionIndex` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '版本',
  `IsMatching` int(11) DEFAULT NULL COMMENT '是否匹配（1是 0否）',
  `ExceptionInfo` varchar(200) DEFAULT NULL COMMENT '异常信息',
  `MatchRulesJson` json DEFAULT NULL COMMENT '匹配条件Json',
  `ActionsJson` json DEFAULT NULL COMMENT '执行动作Json',
  `RuleMessageJson` json DEFAULT NULL COMMENT '规则报文json',
  `OrgCode` varchar(10) DEFAULT NULL COMMENT '服务商Code',
  `InsertTime` datetime DEFAULT CURRENT_TIMESTAMP,
  `Deleted` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`Id`) USING BTREE,
  KEY `NON-OrgCode` (`OrgCode`) USING BTREE,
  KEY `NON-TargetId` (`TargetId`) USING BTREE,
  KEY `NON-RuleTypeCode` (`RuleTypeCode`) USING BTREE,
  KEY `NON-SubRuleCode` (`SubRuleCode`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='通用域_规则操作日志表'</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tb_workflowjsoninfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "SourceMode": {
      "default": {
        "source": "1",
        "target": null
      }
    },
    "v_LastAddRecordTime": {
      "message": "\u5217 v_LastAddRecordTime \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  },
  "indexes": {
    "NON-v_LastAddRecordTime": {
      "message": "\u7d22\u5f15 NON-v_LastAddRecordTime \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>vi_workfakeoffline</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "MaterialNo": {
      "type": {
        "source": "varchar(100)",
        "target": "varchar(50)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>tb_riskdatatime</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "Deleted": {
      "default": {
        "source": null,
        "target": "b\u00270\u0027"
      },
      "type": {
        "source": "smallint(1)",
        "target": "bit(1)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>flink_tablea</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 flink_tablea \u5728\u6e90\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_source"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>DROP TABLE IF EXISTS `flink_tablea`;</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>workflownodeactions</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "Deleted": {
      "default": {
        "source": null,
        "target": "0"
      },
      "nullable": {
        "source": false,
        "target": true
      },
      "type": {
        "source": "bit(1)",
        "target": "smallint(6)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>tmp_userclockininfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tmp_userclockininfo \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tmp_userclockininfo` (
  `Id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '自增主键',
  `LoginName` varchar(50) DEFAULT NULL COMMENT '用户登录名',
  `UserCenterId` char(36) DEFAULT NULL,
  `UserName` varchar(100) DEFAULT NULL COMMENT '用户姓名',
  `UserWorkStatus` int(11) DEFAULT NULL COMMENT '员工工作状态（0休息中 1工作中）',
  `ChangeType` int(11) DEFAULT NULL COMMENT '工作状态切换方式（0自动 1手动）',
  `IsAutomatic` int(11) DEFAULT NULL COMMENT '是否自动下班打卡（0否 1是）',
  `WorkTimeJson` json DEFAULT NULL COMMENT '工作时间Json',
  `InsertTime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `Deleted` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`Id`)
) ENGINE=InnoDB AUTO_INCREMENT=66 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='员工打卡设置信息表'</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>tmp_canaltest1</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tmp_canaltest1 \u5728\u6e90\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_source"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>DROP TABLE IF EXISTS `tmp_canaltest1`;</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>tb_afcreceiverecordinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tb_afcreceiverecordinfo \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tb_afcreceiverecordinfo` (
  `Id` varchar(12) NOT NULL COMMENT '主键（RC）',
  `WorkOrderId` varchar(12) DEFAULT NULL,
  `ReceiveDate` date DEFAULT NULL COMMENT '客户回款日期',
  `ReceivePrice` decimal(20,2) DEFAULT NULL COMMENT '客户回款金额',
  `ReceiveIssue` int(11) DEFAULT NULL COMMENT '客户回款期数',
  `ReceiveStatus` varchar(20) DEFAULT NULL COMMENT '状态描述',
  `ReceiveStatusRemark` varchar(50) DEFAULT NULL COMMENT '状态描述备注',
  `PersonAssess` tinyint(4) DEFAULT NULL COMMENT '人员考核(0-否，1-是)',
  `ProAssess` tinyint(4) DEFAULT NULL COMMENT '省份考核(0-否，1-是)',
  `AddRemark1` varchar(200) DEFAULT NULL COMMENT '补充描述1',
  `AddRemark2` varchar(200) DEFAULT NULL COMMENT '补充描述2',
  `PromptMerits` decimal(20,2) DEFAULT NULL COMMENT '协催绩效',
  `SettleTime` datetime DEFAULT NULL COMMENT '结算时间',
  `SettleRemark` int(11) DEFAULT NULL COMMENT '结算备注(0-正常结算,1-超期还款,2-结清/交车,3-项目对账)',
  `CreatedById` varchar(36) DEFAULT NULL,
  `CreatedAt` datetime DEFAULT NULL,
  `UpdateById` varchar(36) DEFAULT NULL,
  `UpdatedAt` datetime DEFAULT NULL COMMENT '运营登记日期',
  `Deleted` tinyint(4) DEFAULT '0',
  PRIMARY KEY (`Id`),
  KEY `NON-WorkOrderId` (`WorkOrderId`) USING BTREE,
  KEY `NON-ReceiveTime` (`ReceiveDate`) USING BTREE,
  KEY `NON-ReceiveStatus` (`ReceiveStatus`) USING BTREE,
  KEY `NON-Deleted` (`Deleted`) USING BTREE,
  KEY `NON-CreatedAt` (`CreatedAt`) USING BTREE,
  KEY `NON-UpdatedAt` (`UpdatedAt`) USING BTREE,
  KEY `NON-SettleTime` (`SettleTime`),
  KEY `NON-SettleRemark` (`SettleRemark`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='金融运营回款信息'</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tmp_districtyx</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tmp_districtyx \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tmp_districtyx` (
  `省编码` varchar(255) DEFAULT NULL,
  `省名称` varchar(255) DEFAULT NULL,
  `市编码` varchar(255) DEFAULT NULL,
  `市名称` varchar(255) DEFAULT NULL,
  `区编码` varchar(255) DEFAULT NULL,
  `区名称` varchar(255) DEFAULT NULL,
  `区编码1` varchar(255) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>basic_district_bak_a</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 basic_district_bak_a \u5728\u6e90\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_source"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>DROP TABLE IF EXISTS `basic_district_bak_a`;</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>tb_remarkinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "indexes": {
    "NON-RemarkTime": {
      "message": "\u7d22\u5f15 NON-RemarkTime \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tb_workfixgoodsdetail</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "IsLoss": {
      "message": "\u5217 IsLoss \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>tm_flowstatus</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tm_flowstatus \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tm_flowstatus` (
  `Id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增主键',
  `ItemCode` varchar(50) DEFAULT NULL,
  `ItemName` varchar(50) DEFAULT NULL,
  `NodeCode` varchar(50) DEFAULT NULL,
  `NodeName` varchar(50) DEFAULT NULL,
  `StatusName` varchar(50) DEFAULT NULL,
  `InsertTime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`Id`),
  KEY `NON-ItemName` (`ItemName`),
  KEY `NON-NodeName` (`NodeName`),
  KEY `NON-StatusName` (`StatusName`)
) ENGINE=InnoDB AUTO_INCREMENT=577 DEFAULT CHARSET=utf8 COMMENT='各工作流中各步骤与状态取值对应关系表'</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>workflownodestepconditions_bak</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 workflownodestepconditions_bak \u5728\u6e90\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_source"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>DROP TABLE IF EXISTS `workflownodestepconditions_bak`;</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>tmp_aes_encrypt</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tmp_aes_encrypt \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tmp_aes_encrypt` (
  `ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `NUM` varbinary(100) DEFAULT NULL,
  `num1` varchar(200) DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tb_userclockindeviceinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tb_userclockindeviceinfo \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tb_userclockindeviceinfo` (
  `Id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '自增主键',
  `LoginName` varchar(100) DEFAULT NULL COMMENT '用户登录名',
  `UserName` varchar(100) DEFAULT NULL COMMENT '用户姓名',
  `VisitorRole` varchar(50) DEFAULT NULL COMMENT '角色',
  `InstitutionName` varchar(100) DEFAULT NULL COMMENT '部门',
  `ProCode` varchar(20) DEFAULT NULL COMMENT '省份Code',
  `ProName` varchar(50) DEFAULT NULL COMMENT '省份名称',
  `CityCode` varchar(20) DEFAULT NULL COMMENT '城市Code',
  `CityName` varchar(50) DEFAULT NULL COMMENT '城市名称',
  `AreaCode` varchar(20) DEFAULT NULL COMMENT '区域Code',
  `AreaName` varchar(50) DEFAULT NULL COMMENT '区域名称',
  `Address` varchar(500) DEFAULT NULL COMMENT '详细地址',
  `ClockInDate` date NOT NULL COMMENT '打卡日期',
  `ClockInTime` time NOT NULL COMMENT '打卡时间',
  `ClockInLng` varchar(20) DEFAULT NULL COMMENT '打卡经度',
  `ClockInLat` varchar(50) DEFAULT NULL COMMENT '打卡纬度',
  `ClockInAddress` varchar(200) DEFAULT NULL COMMENT '打卡地址',
  `InsertTime` datetime(6) DEFAULT NULL,
  `Deleted` smallint(6) NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `NON-LoginName` (`LoginName`) USING BTREE,
  KEY `NON-ClockInDate` (`ClockInDate`) USING BTREE,
  KEY `NON-ClockInTime` (`ClockInTime`) USING BTREE,
  KEY `NON-Deleted` (`Deleted`) USING BTREE,
  KEY `NON-InsertTime` (`InsertTime`) USING BTREE,
  KEY `NON-ProCode` (`ProCode`) USING BTREE,
  KEY `NON-CityCode` (`CityCode`) USING BTREE,
  KEY `NON-AreaCode` (`AreaCode`) USING BTREE,
  KEY `NON-ProName` (`ProName`) USING BTREE,
  KEY `NON-CityName` (`CityName`) USING BTREE,
  KEY `NON-AreaName` (`AreaName`) USING BTREE,
  KEY `NON-ClockInLng` (`ClockInLng`) USING BTREE,
  KEY `NON-ClockInLat` (`ClockInLat`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=48 DEFAULT CHARSET=utf8 AVG_ROW_LENGTH=213 ROW_FORMAT=DYNAMIC COMMENT='用户下班打卡信息表'</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>rp_workordercount</h4>
                
                <div class="diff-details">
                    <pre>{
  "indexes": {
    "NON-ArtificialServicePriceName": {
      "message": "\u7d22\u5f15 NON-ArtificialServicePriceName \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "NON-WorkOrderId": {
      "message": "\u7d22\u5f15 NON-WorkOrderId \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>job</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 job \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `job` (
  `Id` int(11) NOT NULL AUTO_INCREMENT,
  `StateId` int(11) DEFAULT NULL,
  `StateName` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `InvocationData` longtext NOT NULL,
  `Arguments` longtext NOT NULL,
  `CreatedAt` datetime(6) NOT NULL,
  `ExpireAt` datetime(6) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `IX_Job_StateName` (`StateName`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>de_testuser20240327101659637</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 de_testuser20240327101659637 \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `de_testuser20240327101659637` (
  `Id` varchar(36) NOT NULL,
  `name` varchar(50) DEFAULT NULL,
  `password` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`Id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='测试人员'</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tb_riskhistoryorder</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "Deleted": {
      "default": {
        "source": null,
        "target": "b\u00270\u0027"
      },
      "type": {
        "source": "smallint(1)",
        "target": "bit(1)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>workflowruntimereminderlogs</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "Deleted": {
      "default": {
        "source": null,
        "target": "0"
      },
      "nullable": {
        "source": false,
        "target": true
      },
      "type": {
        "source": "bit(1)",
        "target": "smallint(6)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>vi_workorderlistforafc</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 vi_workorderlistforafc \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE ALGORITHM=MERGE DEFINER=`user_service`@`%` SQL SECURITY DEFINER VIEW `vi_workorderlistforafc` AS select `a`.`Id` AS `id`,`a`.`AppCode` AS `appcode`,`a`.`OrderType` AS `ordertype`,`fn_GetOrderTypeByCode`(`a`.`OrderType`) AS `ordertypename`,if((`c`.`TypeStatus` = 1),'（待关闭）','') AS `statustypename`,`a`.`WorkStatus` AS `workstatus`,ifnull(convert(`fn_getstatusnamebycode`(`a`.`WorkStatus`) using utf8mb4),'无') AS `workstatusname`,`fn_GetWorkPayStatus`(`a`.`Id`) AS `paystatus`,`c`.`TypeStatus` AS `typestatus`,(case `c`.`TypeStatus` when 1 then '请求关闭（客户审核）' when 2 then '请求关闭' when 3 then '等通知' else '' end) AS `closestatusname`,`f`.`SubjectCode` AS `subjectcode`,`f`.`SubjectName` AS `subjectname`,`a`.`RequiredTime` AS `requiredtime`,`a`.`CustomerId` AS `customerid`,`a`.`CustomerName` AS `customername`,`a`.`ProCode` AS `procode`,`a`.`ProName` AS `proname`,`a`.`CityCode` AS `citycode`,`a`.`CityName` AS `cityname`,`a`.`AreaCode` AS `areacode`,`a`.`AreaName` AS `areaname`,`a`.`InstallAddress` AS `installaddress`,concat(ifnull(`a`.`ProName`,''),ifnull(`a`.`CityName`,''),ifnull(`a`.`AreaName`,'')) AS `addressfullname`,concat(ifnull(`a`.`ProName`,''),ifnull(`a`.`CityName`,''),ifnull(`a`.`AreaName`,''),ifnull(`a`.`InstallAddress`,'')) AS `serviceaddress`,`a`.`LinkMan` AS `linkman`,`a`.`LinkTel` AS `linktel`,`a`.`Remark` AS `remark`,`a`.`CreatePersonCode` AS `createpersoncode`,`a`.`CreatePersonName` AS `createpersonname`,`a`.`ServiceProviderCode` AS `serviceprovidercode`,`w9`.`CreatedAt` AS `createdat`,`e`.`ServiceCode` AS `servicecode`,`e`.`ServiceName` AS `servicename`,`d`.`v_afcAuditPassTime` AS `auditaccepttime`,`fn_GetWorkFlowTimeInfo`(`a`.`Id`,'结束') AS `ordercompletetime`,`c`.`ClosedAt` AS `closedat`,`c`.`ClosePersonCode` AS `closepersoncode`,`c`.`ClosePersonName` AS `closepersonname`,`fn_GetRequestCloseById`(`a`.`Id`,1) AS `requestclosetime`,`fn_GetRequestCloseById`(`a`.`Id`,2) AS `requestclosecode`,`fn_GetRequestCloseById`(`a`.`Id`,3) AS `requestclosename`,`w9`.`FirstDistributeTime` AS `firstdistributetime`,`fn_GetDispatchRecordTimeById`(`a`.`Id`,2) AS `lastdistributetime`,`fn_GetDispatchRecordTimeById`(`a`.`Id`,3) AS `firstdispatchercode`,`fn_GetDispatchRecordTimeById`(`a`.`Id`,4) AS `firstdispatchername`,`fn_GetDispatchRecordTimeById`(`a`.`Id`,5) AS `dispatchercode`,`fn_GetDispatchRecordTimeById`(`a`.`Id`,6) AS `dispatchername`,`i`.`CompleteTime` AS `completetime`,ifnull(`w11`.`LastRecordTime`,`fn_GetDispatchRecordTimeById`(`a`.`Id`,8)) AS `lastrecordtime`,`c`.`AuditStatus` AS `AuditStatus`,`c`.`NodeCode` AS `CurrentNodeCode`,`fn_GetLastFailAppointReasonById`(`a`.`Id`) AS `appointreason`,`fn_GetLastAppointReasonById`(`a`.`Id`) AS `appointremark`,`w5`.`ContractNumber` AS `contractnumber`,`w9`.`IntervieweeType` AS `intervieweetype`,(case `w9`.`IntervieweeType` when 0 then '借款人' when 1 then '共借人' when 2 then '担保人' when 3 then '亲友' when 4 then '配偶' when 5 then '承租人' when 6 then '实际用车人' when 7 then '申请人' when 8 then '其它' else `w9`.`IntervieweeType` end) AS `intervieweetypename`,`w9`.`IntervieweeName` AS `intervieweename`,`w10`.`AddressTypeCode` AS `addresstypecode`,(case `w10`.`AddressTypeCode` when 200 then '户籍地址' when 201 then '居住地址' when 202 then '单位地址' when 203 then '其他地址（居住）' when 204 then '其他地址（单位）' when 205 then '房产地址' when 206 then '其他地址' else `w10`.`AddressTypeCode` end) AS `addresstypename`,`fn_GetAppointTime`(`a`.`Id`,'4') AS `lastappointtime`,`w9`.`IsNightVisit` AS `isnightvisit`,`w9`.`EstimatedDepartureTime` AS `estimateddeparturetime`,`w6`.`UserName` AS `username`,`w6`.`VinNumber` AS `vinnumber`,`w6`.`PlateNumber` AS `platenumber`,`w6`.`CarFullName` AS `carfullname`,`w5`.`BorrowerName` AS `borrowername`,`w5`.`LinkPhone` AS `linkphone`,`w5`.`CaseTime` AS `casetime`,`w5`.`RetreatTime` AS `retreattime`,`w10`.`LocationLat` AS `locationlat`,`w10`.`LocationLng` AS `locationlng`,`w9`.`PaymentEnable` AS `paymentenable`,`a`.`UpdatedAt` AS `updatedat`,`w12`.`AuditTime` AS `audittime`,`d`.`appointTime` AS `appointtime`,`d`.`v_LastNegotiatorTime` AS `lastnegotiatortime`,`d`.`v_FollowFrequency` AS `followfrequency`,`d`.`v_ReturnedTypeCode` AS `returnedtypecode`,`d`.`v_IfRemove` AS `ifremove`,`d`.`v_FollowFrequencyType` AS `followfrequencytype`,`d`.`v_AfcCompleteType` AS `afcCompleteType`,`d`.`v_ReportDeadline` AS `reportDeadline`,`d`.`v_UnFollowDays` AS `unFollowDays`,`fn_GetFeeTypeById`(`a`.`Id`,'住宿费',ifnull(`a`.`ServiceProviderCode`,'1001'),1) AS `AccomFeeApplyTime`,`fn_GetFeeTypeById`(`a`.`Id`,'住宿费',ifnull(`a`.`ServiceProviderCode`,'1001'),2) AS `AccomFeeAuditStatus`,if((`w13`.`Id` is null),0,1) AS `IsAccomSign`,(select `g`.`SignTime` from `tb_worksignininfo` `g` where ((`a`.`Id` = `g`.`WorkOrderId`) and (`g`.`Deleted` = 0) and (`g`.`SignType` = 2)) order by `g`.`SignTime` desc limit 1) AS `ArrivalSignTime`,`d`.`v_OrderColor` AS `orderColor`,`w9`.`CustomerBriefName` AS `CustomerBriefName`,json_unquote(json_extract(`d`.`BussinessJson`,'$.afcRejectReason')) AS `afcRejectReason`,if((`a`.`RequiredTime` <= date_format(now(),'%Y-%m-%d 23:59:59')),true,false) AS `overTimeTag`,`d`.`v_SecondVisitStatus` AS `SecondVisitStatus`,`d`.`v_SecondVisitTime` AS `SecondVisitTime`,`d`.`v_ToBeAuditTag` AS `ToBeAuditTag` from ((((((((((((`tb_workorderinfo` `a` left join `tb_workorderstatus` `c` on(((`c`.`WorkOrderId` = `a`.`Id`) and (`c`.`Deleted` = 0)))) left join `tb_workbussinessjsoninfo` `d` on(((`d`.`WorkOrderId` = `a`.`Id`) and (`d`.`Deleted` = 0)))) left join `tb_workserviceinfo` `e` on(((`a`.`Id` = `e`.`WorkOrderId`) and (`e`.`Deleted` = 0)))) left join `tb_workservicesubject` `f` on(((`a`.`Id` = `f`.`WorkOrderId`) and (`f`.`Deleted` = 0)))) left join `tb_recordinfo` `i` on(((`a`.`Id` = `i`.`WorkOrderId`) and (`i`.`Deleted` = 0)))) left join `tb_afcworkfinanceinfo` `w5` on(((`a`.`Id` = `w5`.`WorkOrderId`) and (`w5`.`Deleted` = 0)))) join `tb_afcworkorderinfo` `w9` on(((`a`.`Id` = `w9`.`Id`) and (`w9`.`Deleted` = 0)))) left join `tb_workcarinfo` `w6` on(((`w6`.`WorkOrderId` = `a`.`Id`) and (`w6`.`Deleted` = 0)))) join `tb_workaddressinfo` `w10` on(((`a`.`Id` = `w10`.`WorkOrderId`) and (`w10`.`Deleted` = 0)))) left join `tb_afcworkfinancerecord` `w11` on(((`a`.`Id` = `w11`.`WorkOrderId`) and (`w11`.`Deleted` = 0)))) left join `tb_auditinfo` `w12` on(((`w12`.`WorkOrderId` = `a`.`Id`) and (`w12`.`Deleted` = 0)))) left join `tb_worksignininfo` `w13` on(((`a`.`Id` = `w13`.`WorkOrderId`) and (`w13`.`SignType` = 5) and (`w13`.`Deleted` = 0)))) where (`a`.`Deleted` = 0)</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>de_tb_merchant</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 de_tb_merchant \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `de_tb_merchant` (
  `Id` varchar(36) NOT NULL,
  `name` varchar(50) DEFAULT NULL,
  `code` varchar(20) DEFAULT NULL,
  PRIMARY KEY (`Id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='商户信息主表'</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>tm_appcode</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tm_appcode \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tm_appcode` (
  `appcode` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  PRIMARY KEY (`appcode`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 AVG_ROW_LENGTH=36 ROW_FORMAT=DYNAMIC COMMENT='临时存储工单编号20231220'</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>basic_workflowstatus_bak</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 basic_workflowstatus_bak \u5728\u6e90\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_source"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>DROP TABLE IF EXISTS `basic_workflowstatus_bak`;</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tm_vi_workstepinfo_2021</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tm_vi_workstepinfo_2021 \u5728\u6e90\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_source"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>DROP TABLE IF EXISTS `tm_vi_workstepinfo_2021`;</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tm_updatepropertycode20210923</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tm_updatepropertycode20210923 \u5728\u6e90\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_source"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>DROP TABLE IF EXISTS `tm_updatepropertycode20210923`;</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>workflowruntimecomments</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "Deleted": {
      "default": {
        "source": null,
        "target": "0"
      },
      "nullable": {
        "source": false,
        "target": true
      },
      "type": {
        "source": "bit(1)",
        "target": "smallint(6)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tb_prepaymentorderinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tb_prepaymentorderinfo \u5728\u6e90\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_source"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>DROP TABLE IF EXISTS `tb_prepaymentorderinfo`;</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>workflownodeactors</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "Deleted": {
      "default": {
        "source": null,
        "target": "0"
      },
      "nullable": {
        "source": false,
        "target": true
      },
      "type": {
        "source": "bit(1)",
        "target": "smallint(6)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>vi_afcworkorderdetailforexport</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 vi_afcworkorderdetailforexport \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE ALGORITHM=MERGE DEFINER=`user_service`@`%` SQL SECURITY DEFINER VIEW `vi_afcworkorderdetailforexport` AS select `a`.`Id` AS `WorkOrderId`,`a`.`OrderType` AS `OrderType`,`h`.`ContractNumber` AS `ContractNumber`,`f`.`SubjectName` AS `SubjectName`,`f`.`SubjectCode` AS `SubjectCode`,`g`.`CustomerName` AS `CustomerName`,`g`.`CustomerId` AS `CustomerId`,`a`.`WorkStatus` AS `WorkStatus`,`a`.`AppCode` AS `AppCode`,`fn_GetStatusNameByCode`(`a`.`WorkStatus`) AS `WorkStatusName`,`a`.`CreatePersonCode` AS `CreatePersonCode`,`a`.`CreatePersonName` AS `CreatePersonName`,`a`.`CreatedAt` AS `CreatedTime`,`h`.`BorrowerName` AS `UserName`,cast(`a`.`RequiredTime` as date) AS `RequiredTime`,`fn_GetCurrentPersonInfo`(`a`.`Id`,1) AS `CurrentPersonCode`,`fn_GetCurrentPersonInfo`(`a`.`Id`,2) AS `CurrentPersonName`,`h`.`OverdueDays` AS `OverdueDays`,(case `g`.`IntervieweeType` when '0' then '借款人' when '1' then '共借人' when '2' then '担保人' when '3' then '亲友' when '4' then '配偶' when '5' then '承租人' when '6' then '实际用车人' when '7' then '申请人' else '' end) AS `IntervieweeType`,`g`.`IntervieweeName` AS `IntervieweeName`,(case `e`.`AddressTypeCode` when '200' then '户籍地址' when '201' then '居住地址' when '202' then '单位地址' when '203' then '其他地址（居住）' when '204' then '其他地址（单位）' when '205' then '房产地址' when '206' then '其他地址' else NULL end) AS `Typee`,`e`.`ProCode` AS `ProCode`,`e`.`ProName` AS `ProName`,`e`.`CityCode` AS `CityCode`,`e`.`CityName` AS `CityName`,`e`.`AreaName` AS `AreaName`,`e`.`AreaCode` AS `AreaCode`,`e`.`Address` AS `Address`,if((`g`.`IsNightVisit` = 0),'否','是') AS `IsNightVisit`,if((`g`.`TripMode` = 0),'自驾','非自驾') AS `TripMode`,`k1`.`FeeValue` AS `Achievements`,`k2`.`FeeValue` AS `NightVisitFee`,`g`.`TotalDistance` AS `TotalDistance`,`g`.`ReturnDistance` AS `ReturnDistance`,`k3`.`FeeValue` AS `OilPrice`,`k4`.`FeeValue` AS `OilSubsidy`,`k5`.`FeeValue` AS `RoadBridgePrice`,`k6`.`FeeValue` AS `InTrafficPrice`,`k7`.`FeeValue` AS `TaxiFare`,`k8`.`FeeValue` AS `Accommodation`,`k9`.`FeeValue` AS `DifferenceFare`,`k11`.`FeeValue` AS `LimitationFee`,`k12`.`FeeValue` AS `ReportingQuality`,`h`.`OverduePrincipal` AS `OverduePrincipal`,`k13`.`FeeValue` AS `RefundPrice`,`k14`.`FeeValue` AS `ReceiveAmounts`,`k15`.`FeeValue` AS `ReturnCountReward`,`k16`.`FeeValue` AS `ReturnPriceReward`,concat(floor((timestampdiff(SECOND,`a`.`CreatedAt`,`fn_GetWorkFlowTimeInfo`(`a`.`Id`,'结束')) / 86400)),'天',(timestampdiff(HOUR,`a`.`CreatedAt`,`fn_GetWorkFlowTimeInfo`(`a`.`Id`,'结束')) % 24),'时',(timestampdiff(MINUTE,`a`.`CreatedAt`,`fn_GetWorkFlowTimeInfo`(`a`.`Id`,'结束')) % 60),'分') AS `UseTime`,(case `g`.`AddressType` when '0' then '城市' when '1' then '农村' when '2' then '单位' end) AS `AddressType`,(case json_extract(`m`.`RecordJson`,'$.IsFindPerson') when '0' then '否' when '1' then '是' else NULL end) AS `IsFindPerson`,(case json_extract(`m`.`RecordJson`,'$.IsOtherAccess') when '0' then '否' when '1' then '是' else NULL end) AS `IsOtherAccess`,(case json_extract(`m`.`RecordJson`,'$.AddressInfoTopCode') when '0' then '地址存在且有效' when '1' then '地址存在但无效' when '2' then '地址虚假/不存在' else '' end) AS `AddressInfoTopName`,if((json_extract(`m`.`RecordJson`,'$.LinkmanContactList[*].ContactResult') is not null),if(1 member of (json_extract(`m`.`RecordJson`,'$.LinkmanContactList[*].ContactResult')),'是',if(1 member of (json_extract(`m`.`RecordJson`,'$.CustomerContactList[*].ContactResult')),'是',if(1 member of (json_extract(`m`.`RecordJson`,'$.IsOtherAccess')),'是','否'))),if(((json_extract(`m`.`RecordJson`,'$.LinkmanIsContact') = 0) or (json_unquote(json_extract(`m`.`RecordJson`,'$.LinkmanIsContact')) = 'null')),if((json_extract(`m`.`RecordJson`,'$.CustomerIsContact') = 0),if((json_extract(`m`.`RecordJson`,'$.IsOtherAccess') = 0),'否','是'),'是'),if((json_extract(`m`.`RecordJson`,'$.LinkmanIsContact') = 1),'是',if(1 member of (json_extract(`m`.`RecordJson`,'$.LinkmanContactCommonList[*].ContactResult')),'是',NULL)))) AS `IsSecondLink`,`fn_afcgetsecondlinkrelationbyid`(`a`.`Id`,`a`.`CustomerName`) AS `SecondLinkMan`,json_extract(`m`.`RecordJson`,'$.CustomerIsContact') AS `CustomerIsContact`,json_extract(`m`.`RecordJson`,'$.LinkmanIsContact') AS `LinkmanIsContact`,(case json_extract(`m`.`RecordJson`,'$.IsFindCar') when '0' then '否' when '1' then '是' else NULL end) AS `IsFindCar`,if((cast(json_extract(`m`.`RecordJson`,'$.CarUseInfo') as char charset utf8mb4) = 'null'),NULL,json_unquote(json_extract(`m`.`RecordJson`,'$.CarUseInfo'))) AS `CarUseInfo`,if((cast(json_extract(`m`.`RecordJson`,'$.CustomerCommitmentDate') as char charset utf8mb4) <> 'null'),cast(json_extract(`m`.`RecordJson`,'$.CustomerCommitmentDate') as date),NULL) AS `CustomerCommitmentDate`,(case json_extract(`m`.`RecordJson`,'$.RiskLevel') when '0' then '低' when '1' then '中' when '2' then '高' end) AS `RiskLevel`,(case json_extract(`m`.`RecordJson`,'$.NeedLawsuit') when '0' then '否' when '1' then '是' else NULL end) AS `NeedLawsuit`,(case json_extract(`m`.`RecordJson`,'$.NeedSeizureCar') when '0' then '否' when '1' then '是' else NULL end) AS `NeedSeizureCar`,cast(`h`.`CaseTime` as date) AS `CaseTime`,cast(`h`.`RetreatTime` as date) AS `RetreatTime`,`g`.`FirstDistributeTime` AS `FirstDistributeTime`,`fn_GetAFCSetOutTimeById`(`a`.`Id`) AS `SetOutTime`,`fn_GetAFCEndVisitTimeById`(`a`.`Id`) AS `EndVisitTime`,`fn_GetAfcDispatcherName`(`a`.`Id`) AS `SendPerson`,`n`.`SignTime` AS `SignTime`,`fn_GetAFCLastRecordTimeById`(`a`.`Id`) AS `LastRecordTime`,`i`.`ServiceCode` AS `ServiceCode`,`i`.`ServiceName` AS `ServiceName`,`m`.`Department` AS `Department`,`m`.`VisitorRole` AS `VisitorRole`,`fn_GetServiceAuditFirstPersonById`(`a`.`Id`) AS `FirstOrderAuditPerson`,`fn_GetServiceAuditFirstTimeById`(`a`.`Id`) AS `FirstOrderAuditTime`,`fn_GetAFCPassAuditTimeById`(`a`.`Id`) AS `PassOrderAuditTime`,`fn_GetAFCPassAuditPersonNameById`(`a`.`Id`) AS `PassOrderAuditPerson`,`fn_GetAFCServiceAuditTimesById`(`a`.`Id`) AS `NoAuditTimes`,`fn_GetServiceAuditRejectReasonById`(`a`.`Id`) AS `FirstAuditRejectRemark`,`fn_GetRequestCloseTimeById`(`a`.`Id`) AS `RequestCloseTime`,if((`o1`.`CloseReasonCode` = 'CloseReason8101-00'),`o1`.`Remark`,`o1`.`CloseReasonName`) AS `CloseReasonName`,`o1`.`ClosePersonName` AS `RequestClosePerson`,`o1`.`ClosedAt` AS `ClosedAt`,`fn_GetAcceptTimeById`(`a`.`Id`) AS `AcceptTime`,`fn_GetWorkFlowTimeInfo`(`a`.`Id`,'结束') AS `CompleteTime`,`l`.`Amount` AS `Amount`,`a`.`Remark` AS `CreatedRemark`,`g`.`ReimbursableDistance` AS `ReimbursableDistance`,`g`.`AdjustReimbursableDistance` AS `AdjustReimbursableDistance`,`h`.`UserProName` AS `BelongingRegion`,`p`.`appointTime` AS `AppointTime`,`q`.`FeeValue` AS `ExpressFee`,(case `p`.`v_FollowFrequency` when 0 then '低频跟进' when 1 then '高频跟进' end) AS `FollowFrequency`,if((`fn_GetWorkFlowTimeInfo`(`a`.`Id`,'路况异常签到') is null),'否','是') AS `AbnormalRoadCondition`,`p`.`v_LastNegotiatorTime` AS `LastNegotiatorTime`,`p`.`v_ReportDeadline` AS `ReportDeadline`,`fn_GetAfcReturnTypeByCode`(json_unquote(json_extract(`p`.`BussinessJson`,'$.OrderReturnedTypeCode'))) AS `OrderReturnedTypeName`,(case `p`.`v_AfcCompleteType` when 1 then '是' when 3 then '是' when 2 then '否' end) AS `AssistComplete`,`h`.`ResPrincipal` AS `ResPrincipal`,`p`.`v_UnFollowDays` AS `UnFollowDays`,`n`.`SignAddr` AS `SignAddr`,json_unquote(json_extract(`p`.`BussinessJson`,'$.UnusualDistance')) AS `UnusualDistance`,json_unquote(json_extract(`p`.`BussinessJson`,'$.UnusualSign')) AS `UnusualSign`,(case `fn_GetFeeTypeById`(`a`.`Id`,'住宿费',ifnull(`a`.`ServiceProviderCode`,'1001'),2) when 0 then NULL when 1 then '待审核' when 2 then '已通过' when 3 then '未通过' else NULL end) AS `AuditStatus`,`s`.`SignTime` AS `AccommodateSign`,`g`.`OptimalReturnDistance` AS `OptimalReturnDistance`,json_unquote(json_extract(`p`.`BussinessJson`,'$.overdueGrade')) AS `OverdueGrade`,`l`.`Remark` AS `FeeRemark`,if((json_unquote(json_extract(`m`.`RecordJson`,'$.IsFindPerson')) = 1),json_unquote(json_extract(`m`.`RecordJson`,'$.FindWho')),NULL) AS `FindWho`,`g`.`AdjustReimReturnDistance` AS `AdjustReimReturnDistance`,(case `p`.`v_SecondVisitStatus` when 0 then '待走访' when 1 then '走访中' when 2 then '走访完成' when 3 then '走访拒绝' end) AS `SecondVisitStatus`,now() AS `CreatedAt`,0 AS `Deleted` from (((((((((((((((((((((((((((((`tb_workorderinfo` `a` join `tb_workaddressinfo` `e` on(((`e`.`WorkOrderId` = `a`.`Id`) and (`e`.`Deleted` = 0)))) left join `tb_workservicesubject` `f` on(((`f`.`WorkOrderId` = `a`.`Id`) and (`f`.`Deleted` = 0)))) join `tb_afcworkorderinfo` `g` on(((`g`.`Id` = `a`.`Id`) and (`g`.`Deleted` = 0)))) left join `tb_afcworkfinanceinfo` `h` on((`h`.`WorkOrderId` = `a`.`Id`))) left join `tb_workserviceinfo` `i` on(((`i`.`WorkOrderId` = `a`.`Id`) and (`i`.`Deleted` = 0)))) left join `tb_recordinfo` `j` on(((`j`.`WorkOrderId` = `a`.`Id`) and (`j`.`Deleted` = 0)))) left join `tb_afcfeeinfo` `l` on(((`l`.`WorkOrderId` = `a`.`Id`) and (`l`.`Deleted` = 0)))) left join `tb_afcfeedetail` `k1` on(((`k1`.`WorkOrderId` = `a`.`Id`) and (`k1`.`Deleted` = 0) and (`k1`.`PriceTypeCode` = 'Achievements')))) left join `tb_afcfeedetail` `k2` on(((`k2`.`WorkOrderId` = `a`.`Id`) and (`k2`.`Deleted` = 0) and (`k2`.`PriceTypeCode` = 'NightVisitFee')))) left join `tb_afcfeedetail` `k3` on(((`k3`.`WorkOrderId` = `a`.`Id`) and (`k3`.`Deleted` = 0) and (`k3`.`PriceTypeCode` = 'OilPrice')))) left join `tb_afcfeedetail` `k4` on(((`k4`.`WorkOrderId` = `a`.`Id`) and (`k4`.`Deleted` = 0) and (`k4`.`PriceTypeCode` = 'OilSubsidy')))) left join `tb_afcfeedetail` `k5` on(((`k5`.`WorkOrderId` = `a`.`Id`) and (`k5`.`Deleted` = 0) and (`k5`.`PriceTypeCode` = 'RoadBridgePrice')))) left join `tb_afcfeedetail` `k6` on(((`k6`.`WorkOrderId` = `a`.`Id`) and (`k6`.`Deleted` = 0) and (`k6`.`PriceTypeCode` = 'InTrafficPrice')))) left join `tb_afcfeedetail` `k7` on(((`k7`.`WorkOrderId` = `a`.`Id`) and (`k7`.`Deleted` = 0) and (`k7`.`PriceTypeCode` = 'TaxiFare')))) left join `tb_afcfeedetail` `k8` on(((`k8`.`WorkOrderId` = `a`.`Id`) and (`k8`.`Deleted` = 0) and (`k8`.`PriceTypeCode` = 'Accommodation')))) left join `tb_afcfeedetail` `k9` on(((`k9`.`WorkOrderId` = `a`.`Id`) and (`k9`.`Deleted` = 0) and (`k9`.`PriceTypeCode` = 'DifferenceFare')))) left join `tb_afcfeedetail` `k11` on(((`k11`.`WorkOrderId` = `a`.`Id`) and (`k11`.`Deleted` = 0) and (`k11`.`PriceTypeCode` = 'LimitationFee')))) left join `tb_afcfeedetail` `k12` on(((`k12`.`WorkOrderId` = `a`.`Id`) and (`k12`.`Deleted` = 0) and (`k12`.`PriceTypeCode` = 'ReportingQuality')))) left join `tb_afcfeedetail` `k13` on(((`k13`.`WorkOrderId` = `a`.`Id`) and (`k13`.`Deleted` = 0) and (`k13`.`PriceTypeCode` = 'RefundPrice')))) left join `tb_afcfeedetail` `k14` on(((`k14`.`WorkOrderId` = `a`.`Id`) and (`k14`.`Deleted` = 0) and (`k14`.`PriceTypeCode` = 'receiveAmounts')))) left join `tb_afcfeedetail` `k15` on(((`k15`.`WorkOrderId` = `a`.`Id`) and (`k15`.`Deleted` = 0) and (`k15`.`PriceTypeCode` = 'ReturnCountReward')))) left join `tb_afcfeedetail` `k16` on(((`k16`.`WorkOrderId` = `a`.`Id`) and (`k16`.`Deleted` = 0) and (`k16`.`PriceTypeCode` = 'ReturnPriceReward')))) left join `tb_afcworkfinancerecord` `m` on(((`m`.`WorkOrderId` = `a`.`Id`) and (`m`.`Deleted` = 0)))) left join `tb_worksignininfo` `n` on(((`n`.`WorkOrderId` = `a`.`Id`) and (`n`.`Deleted` = 0) and (`n`.`SignType` = 2)))) left join `tb_workorderstatus` `o1` on(((`o1`.`WorkOrderId` = `a`.`Id`) and (`o1`.`Deleted` = 0) and (`o1`.`TypeStatus` = 0)))) join `tb_workorderstatus` `o` on(((`o`.`WorkOrderId` = `a`.`Id`) and (`o`.`Deleted` = 0) and (`o`.`WorkStatus` not in (9,10))))) left join `tb_workbussinessjsoninfo` `p` on(((`a`.`Id` = `p`.`WorkOrderId`) and (`p`.`Deleted` = 0)))) left join `tb_afcfeedetail` `q` on(((`a`.`Id` = `q`.`WorkOrderId`) and (`q`.`Deleted` = 0) and (`q`.`PriceTypeCode` = 'ExpressFee')))) left join `tb_worksignininfo` `s` on(((`a`.`Id` = `s`.`WorkOrderId`) and (`s`.`Deleted` = 0) and (`s`.`SignType` = 5)))) where (`a`.`Deleted` = 0)</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tb_invoiceinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "Company": {
      "message": "\u5217 Company \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "Conpany": {
      "message": "\u5217 Conpany \u5728\u6e90\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_source"
    },
    "MainId": {
      "message": "\u5217 MainId \u5728\u6e90\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_source"
    }
  },
  "indexes": {
    "MainId": {
      "message": "\u7d22\u5f15 MainId \u5728\u6e90\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_source"
    }
  }
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>ALTER TABLE `tb_invoiceinfo` DROP COLUMN `MainId`;
ALTER TABLE `tb_invoiceinfo` DROP COLUMN `Conpany`;
ALTER TABLE `tb_invoiceinfo` DROP INDEX `MainId`;</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tb_exportlog</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "ExpStatus": {
      "message": "\u5217 ExpStatus \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  },
  "indexes": {
    "NON-ExportCode": {
      "message": "\u7d22\u5f15 NON-ExportCode \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "NON-IsRead": {
      "message": "\u7d22\u5f15 NON-IsRead \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "NON-OrgCode": {
      "message": "\u7d22\u5f15 NON-OrgCode \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>home_usermapdetail</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 home_usermapdetail \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `home_usermapdetail` (
  `Id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增主键',
  `ProviderCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '服务商编码',
  `OrderTypeName` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '工单类型',
  `AreaType` smallint(6) DEFAULT NULL COMMENT '区域类型(1省份2城市3区县)',
  `AreaCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '区域编码',
  `SelfCnt` int(11) DEFAULT NULL COMMENT '自有服务人员数量',
  `OtherCnt` int(11) DEFAULT NULL COMMENT '三方服务人员数量',
  `InsertTime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '数据写入时间',
  PRIMARY KEY (`Id`),
  KEY `NON-AreaType` (`AreaType`),
  KEY `NON-ProviderCode` (`ProviderCode`),
  KEY `NON-AreaCode` (`AreaCode`),
  KEY `NON-OrderTypeName` (`OrderTypeName`)
) ENGINE=InnoDB AUTO_INCREMENT=795635 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='智能工单大屏_服务人员地图明细'</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>vi_workorderteardetail</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "ODeviceNumber": {
      "type": {
        "source": "varchar(100)",
        "target": "varchar(50)"
      }
    },
    "OSimNumber": {
      "type": {
        "source": "varchar(100)",
        "target": "varchar(50)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>serviceinfodetail</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 serviceinfodetail \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `serviceinfodetail` (
  `Id` int(11) NOT NULL AUTO_INCREMENT COMMENT '自增主键',
  `CityName` varchar(50) DEFAULT NULL COMMENT '城市名称',
  `DynamicId` varchar(20) NOT NULL DEFAULT 'FA-' COMMENT '动态表单Id',
  PRIMARY KEY (`Id`,`DynamicId`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tb_workcarinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "indexes": {
    "NON-PlateColor": {
      "message": "\u7d22\u5f15 NON-PlateColor \u5728\u6e90\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_source"
    }
  }
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>ALTER TABLE `tb_workcarinfo` DROP INDEX `NON-PlateColor`;</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>workflownodes_bak</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 workflownodes_bak \u5728\u6e90\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_source"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>DROP TABLE IF EXISTS `workflownodes_bak`;</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>tb_workgoodsinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "ExtraJson": {
      "message": "\u5217 ExtraJson \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "InstallFailReason": {
      "message": "\u5217 InstallFailReason \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "InstallResult": {
      "message": "\u5217 InstallResult \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "v_ChargerType": {
      "message": "\u5217 v_ChargerType \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "v_Power": {
      "message": "\u5217 v_Power \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  },
  "indexes": {
    "NON-v_Power": {
      "message": "\u7d22\u5f15 NON-v_Power \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "NON-v_chpCarUserTel": {
      "message": "\u7d22\u5f15 NON-v_chpCarUserTel \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>basic_ordersearchproperty</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "DataSourceJson": {
      "message": "\u5217 DataSourceJson \u5728\u6e90\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_source"
    },
    "DataSourceJsons": {
      "message": "\u5217 DataSourceJsons \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "Deleted": {
      "nullable": {
        "source": true,
        "target": false
      }
    }
  }
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>ALTER TABLE `basic_ordersearchproperty` DROP COLUMN `DataSourceJson`;</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>tm_persons</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tm_persons \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tm_persons` (
  `LoginCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `RpDate` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `Company` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>tb_userworkphoneinfo_backup</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tb_userworkphoneinfo_backup \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tb_userworkphoneinfo_backup` (
  `Id` varchar(12) NOT NULL COMMENT '主键(WP)',
  `DataStatus` smallint(6) DEFAULT '0' COMMENT '数据状态（0-待匹配，1-匹配中，2-已匹配）',
  `DataSource` smallint(6) DEFAULT NULL COMMENT '来源（1-云客，2-安米）',
  `DataType` smallint(6) DEFAULT NULL COMMENT '数据类型（1-通话，2-短信，3-微信，4-微信语音）',
  `LoginName` varchar(50) DEFAULT NULL COMMENT '员工账号',
  `UserName` varchar(100) DEFAULT NULL COMMENT '员工姓名',
  `UserTel` varchar(50) DEFAULT NULL COMMENT '员工电话',
  `UserRole` varchar(50) DEFAULT NULL COMMENT '员工角色',
  `UserWxId` varchar(50) DEFAULT NULL COMMENT '员工微信Id(tb_wxuserinfo.WxId)',
  `CustomerWxId` varchar(50) DEFAULT NULL COMMENT '客户微信Id(tb_wxuserinfo.WxId)',
  `WxRelationType` smallint(6) DEFAULT NULL COMMENT '微信关系类型（1-好友，2-群）',
  `CustomerName` varchar(100) DEFAULT NULL COMMENT '客户姓名/备注(通话/短信-[客户姓名]、微信-[客户微信/群备注]、微信语音-[通话人备注])',
  `CustomerTel` varchar(50) DEFAULT NULL COMMENT '客户手机号',
  `FirstConnectTime` datetime DEFAULT NULL COMMENT '第一次沟通时间/数据同步时间',
  `LastConnectTime` datetime DEFAULT NULL COMMENT '最新沟通时间',
  `DateMatedAt` datetime DEFAULT NULL COMMENT '匹配时间',
  `CreatedAt` datetime DEFAULT CURRENT_TIMESTAMP,
  `UpdatedAt` datetime DEFAULT NULL COMMENT '最后一次修改时间',
  `Deleted` tinyint(4) DEFAULT '0',
  PRIMARY KEY (`Id`),
  KEY `DataStatus` (`DataStatus`),
  KEY `UserName` (`UserName`),
  KEY `UserTel` (`UserTel`),
  KEY `UserRole` (`UserRole`),
  KEY `LoginName` (`LoginName`),
  KEY `CustomerName` (`CustomerName`),
  KEY `CustomerTel` (`CustomerTel`),
  KEY `LastConnectTime` (`LastConnectTime`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='工作手机信息表'</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>vi_riskworkorderinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "IsRelation": {
      "message": "\u5217 IsRelation \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>vi_workorderinfo_mobile</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 vi_workorderinfo_mobile \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE ALGORITHM=UNDEFINED DEFINER=`user_service`@`%` SQL SECURITY DEFINER VIEW `vi_workorderinfo_mobile` AS select `a`.`Id` AS `Id`,`a`.`AppCode` AS `AppCode`,`a`.`OrderType` AS `OrderType`,`fn_GetOrderTypeByCode`(`a`.`OrderType`) AS `OrderTypeName`,if((`g`.`TypeStatus` = 1),'（待关闭）',NULL) AS `StatusTypeName`,`g`.`TypeStatus` AS `TypeStatus`,`a`.`WorkStatus` AS `WorkStatus`,`fn_GetWorkPayStatus`(`a`.`Id`) AS `PayStatus`,`fn_GetCloseStatusNameByOrderId`(`a`.`Id`) AS `CloseStatusName`,`a`.`CustomerId` AS `CustomerId`,`a`.`CustomerName` AS `CustomerName`,`a`.`CustStoreId` AS `CustStoreId`,`a`.`CustStoreName` AS `CustStoreName`,`a`.`CustStoreCode` AS `CustStoreCode`,`a`.`CustSettleId` AS `CustSettleId`,`a`.`CustSettleName` AS `CustSettleName`,`b`.`VinNumber` AS `VinNumber`,`b`.`PlateNumber` AS `PlateNumber`,`b`.`UserName` AS `UserName`,`a`.`InstallTime` AS `InstallTime`,`a`.`ProCode` AS `ProCode`,`a`.`ProName` AS `ProName`,`a`.`CityCode` AS `CityCode`,`a`.`CityName` AS `CityName`,`a`.`AreaCode` AS `AreaCode`,`a`.`AreaName` AS `AreaName`,`a`.`InstallAddress` AS `InstallAddress`,`a`.`LinkMan` AS `LinkMan`,`a`.`LinkTel` AS `LinkTel`,`a`.`Remark` AS `Remark`,`c`.`AppointStatus` AS `AppointStatus`,`a`.`CreatePersonCode` AS `CreatePersonCode`,`a`.`CreatePersonName` AS `CreatePersonName`,`d`.`ServiceCode` AS `ServiceCode`,`d`.`ServiceName` AS `ServiceName`,`b`.`ShortVin` AS `ShortVin`,`a`.`ServiceProviderCode` AS `ServiceProviderCode`,`a`.`CreatedAt` AS `CreatedAt`,`b`.`CarFullName` AS `CarFullName`,`a`.`CreateType` AS `CreateType`,`a`.`IsCustomer` AS `IsCustomer`,if((`c`.`AppointStatus` not in (0,4,7)),concat(`fn_GetAppointStatusByCode`(`c`.`AppointStatus`),',',replace(ifnull(if((`c`.`AppointStatus` = 5),NULL,`c`.`LastRemark`),''),';',','),' ',ifnull(if((`c`.`AppointStatus` = 5),NULL,`fn_GetLastAppointChangeRemarkById`(`a`.`Id`)),'')),NULL) AS `LastAppointInfo`,`a`.`SecondLinkTel` AS `SecondLinkTel`,`a`.`SecondLinkMan` AS `SecondLinkMan`,`h`.`SignType` AS `SignType`,`i`.`v_PostFillWorkOrder` AS `PostFillWorkOrder`,if((json_unquote(json_extract(`i`.`BussinessJson`,'$.YxServiceType')) = 'null'),NULL,json_unquote(json_extract(`i`.`BussinessJson`,'$.YxServiceType'))) AS `YxServiceType`,json_unquote(json_extract(`i`.`BussinessJson`,'$.RejectReason')) AS `RejectReason` from ((((((`tb_workorderinfo` `a` left join `tb_workcarinfo` `b` on(((`b`.`WorkOrderId` = `a`.`Id`) and (`b`.`Deleted` = 0)))) left join `tb_appointmentconcat` `c` on(((`c`.`WorkOrderId` = `a`.`Id`) and (`c`.`Deleted` = 0)))) join `tb_workserviceinfo` `d` on(((`d`.`WorkOrderId` = `a`.`Id`) and (`d`.`Deleted` = 0)))) join `tb_workorderstatus` `g` on(((`g`.`WorkOrderId` = `a`.`Id`) and (`g`.`Deleted` = 0)))) left join `tb_worksignininfo` `h` on(((`a`.`Id` = `h`.`WorkOrderId`) and (`h`.`SignType` = 2) and (`h`.`Deleted` = 0)))) left join `tb_workbussinessjsoninfo` `i` on(((`a`.`Id` = `i`.`WorkOrderId`) and (`i`.`Deleted` = 0)))) where ((`a`.`Deleted` = 0) and (`a`.`ServiceProviderCode` is null))</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>tb_afcnegotiationrecordinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "ConnectChannel": {
      "message": "\u5217 ConnectChannel \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "UserName": {
      "message": "\u5217 UserName \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "UserTel": {
      "message": "\u5217 UserTel \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "VisitorTel": {
      "message": "\u5217 VisitorTel \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "WxCode": {
      "message": "\u5217 WxCode \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "WxRemark": {
      "message": "\u5217 WxRemark \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>workflowruntimeactivities</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "Deleted": {
      "default": {
        "source": null,
        "target": "0"
      },
      "nullable": {
        "source": false,
        "target": true
      },
      "type": {
        "source": "bit(1)",
        "target": "smallint(6)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>tm_usermapsummary</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tm_usermapsummary \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tm_usermapsummary` (
  `Id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增主键',
  `ProviderCode` varchar(50) DEFAULT NULL COMMENT '服务商编码',
  `OrderTypeName` varchar(100) DEFAULT NULL COMMENT '工单类型',
  `AreaType` smallint(6) DEFAULT NULL COMMENT '区域类型(1省份2城市3区县)',
  `AreaCode` varchar(50) DEFAULT NULL COMMENT '区域编码',
  `SelfCnt` int(11) DEFAULT NULL COMMENT '自有服务人员数量',
  `OtherCnt` int(11) DEFAULT NULL COMMENT '三方服务人员数量',
  `InsertTime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '数据写入时间',
  PRIMARY KEY (`Id`),
  KEY `1` (`AreaCode`),
  KEY `2` (`AreaType`),
  KEY `3` (`OrderTypeName`),
  KEY `4` (`ProviderCode`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='智能工单大屏_服务人员地图明细'</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>home_usercount</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 home_usercount \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `home_usercount` (
  `Id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增主键',
  `ProviderCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '服务商编码',
  `ProCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '省份编码',
  `DateType` smallint(6) DEFAULT NULL COMMENT '时间类型(1上月2上周3昨日4今年)',
  `AreaCnt` int(11) NOT NULL DEFAULT '0' COMMENT '区域覆盖人数',
  `CoverCnt` int(11) NOT NULL DEFAULT '0' COMMENT '实际施工人数',
  `ActiveRate` int(11) DEFAULT NULL COMMENT '活跃率',
  `InsertTime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '数据写入时间',
  PRIMARY KEY (`Id`),
  KEY `NON-ProviderCode` (`ProviderCode`),
  KEY `NON-ProCode` (`ProCode`),
  KEY `NON-DateType` (`DateType`)
) ENGINE=InnoDB AUTO_INCREMENT=1280 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='智能工单大屏_服务网络_人员信息'</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>tb_workbussinessjsoninfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "LastUpdateTimeStamp": {
      "default": {
        "source": "CURRENT_TIMESTAMP",
        "target": "CURRENT_TIMESTAMP(3)"
      },
      "extra": {
        "source": "DEFAULT_GENERATED on update CURRENT_TIMESTAMP",
        "target": "DEFAULT_GENERATED on update CURRENT_TIMESTAMP(3)"
      },
      "type": {
        "source": "timestamp",
        "target": "timestamp(3)"
      }
    },
    "v_CustomerAuditStatus": {
      "message": "\u5217 v_CustomerAuditStatus \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "v_chpCarModel": {
      "message": "\u5217 v_chpCarModel \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "v_need_reinstall": {
      "message": "\u5217 v_need_reinstall \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "v_tireDeviceModel": {
      "message": "\u5217 v_tireDeviceModel \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "v_tireInflationPosition": {
      "message": "\u5217 v_tireInflationPosition \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "v_tireInspectedVehicleCount": {
      "message": "\u5217 v_tireInspectedVehicleCount \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "v_tireInstallationMethod": {
      "message": "\u5217 v_tireInstallationMethod \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "v_tireIsSupplementaryOrder": {
      "message": "\u5217 v_tireIsSupplementaryOrder \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "v_tireIssueSummary": {
      "message": "\u5217 v_tireIssueSummary \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "v_tireNeedOuterTireRemoval": {
      "message": "\u5217 v_tireNeedOuterTireRemoval \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "v_tireNumber": {
      "message": "\u5217 v_tireNumber \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "v_tirePlateNumber": {
      "message": "\u5217 v_tirePlateNumber \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "v_tirePosition": {
      "message": "\u5217 v_tirePosition \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "v_tirePositionChangeReason": {
      "message": "\u5217 v_tirePositionChangeReason \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "v_tirePositionChangeSuggestion": {
      "message": "\u5217 v_tirePositionChangeSuggestion \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "v_tirePressure": {
      "message": "\u5217 v_tirePressure \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "v_tireRemovalCount": {
      "message": "\u5217 v_tireRemovalCount \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "v_tireRemovalInstallationPosition": {
      "message": "\u5217 v_tireRemovalInstallationPosition \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "v_tireRemovalReason": {
      "message": "\u5217 v_tireRemovalReason \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "v_tireRepairTypeId": {
      "message": "\u5217 v_tireRepairTypeId \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "v_tireRepairTypeName": {
      "message": "\u5217 v_tireRepairTypeName \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "v_tireReplacementReason": {
      "message": "\u5217 v_tireReplacementReason \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "v_tireReplacementRemovalReason": {
      "message": "\u5217 v_tireReplacementRemovalReason \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  },
  "constraints": {
    "UNI-WORKORDERID": {
      "message": "\u7ea6\u675f UNI-WORKORDERID \u5728\u6e90\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_source"
    }
  },
  "indexes": {
    "NON-DynIsHelpers": {
      "message": "\u7d22\u5f15 NON-DynIsHelpers \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "NON-DynVinNumber": {
      "message": "\u7d22\u5f15 NON-DynVinNumber \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "NON-chpOrderCompleteTime": {
      "message": "\u7d22\u5f15 NON-chpOrderCompleteTime \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "NON-v_CompleteAging": {
      "message": "\u7d22\u5f15 NON-v_CompleteAging \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "NON-v_CustomerAuditStatus": {
      "message": "\u7d22\u5f15 NON-v_CustomerAuditStatus \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "NON-v_OrderRelationId": {
      "message": "\u7d22\u5f15 NON-v_OrderRelationId \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "NON-v_OutCardDate": {
      "message": "\u7d22\u5f15 NON-v_OutCardDate \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "NON-v_PostFillWorkOrder": {
      "message": "\u7d22\u5f15 NON-v_PostFillWorkOrder \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "NON-v_RescScreenshotAging": {
      "message": "\u7d22\u5f15 NON-v_RescScreenshotAging \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "NON-v_RescScreenshotResult": {
      "message": "\u7d22\u5f15 NON-v_RescScreenshotResult \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "NON-v_SecondVisitStatus": {
      "message": "\u7d22\u5f15 NON-v_SecondVisitStatus \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "NON-v_SecondVisitTime": {
      "message": "\u7d22\u5f15 NON-v_SecondVisitTime \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "NON-v_chpActualSolutionCode": {
      "message": "\u7d22\u5f15 NON-v_chpActualSolutionCode \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "NON-v_chpCarVinNumber": {
      "message": "\u7d22\u5f15 NON-v_chpCarVinNumber \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "NON-v_chpElectricityMetersType": {
      "message": "\u7d22\u5f15 NON-v_chpElectricityMetersType \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "NON-v_chpFactoryBrand": {
      "message": "\u7d22\u5f15 NON-v_chpFactoryBrand \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "NON-v_chpNextFollowTime": {
      "message": "\u7d22\u5f15 NON-v_chpNextFollowTime \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "NON-v_chpSurveyInstallType": {
      "message": "\u7d22\u5f15 NON-v_chpSurveyInstallType \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "NON-v_need_reinstall": {
      "message": "\u7d22\u5f15 NON-v_need_reinstall \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "UNI-WORKORDERID": {
      "message": "\u7d22\u5f15 UNI-WORKORDERID \u5728\u6e90\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_source"
    },
    "v_OrderColor": {
      "message": "\u7d22\u5f15 v_OrderColor \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "v_PostFillWorkOrder": {
      "message": "\u7d22\u5f15 v_PostFillWorkOrder \u5728\u6e90\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_source"
    },
    "v_afcAuditPassTime": {
      "message": "\u7d22\u5f15 v_afcAuditPassTime \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>ALTER TABLE `tb_workbussinessjsoninfo` DROP INDEX `v_PostFillWorkOrder`;
ALTER TABLE `tb_workbussinessjsoninfo` DROP INDEX `UNI-WORKORDERID`;
ALTER TABLE `tb_workbussinessjsoninfo` DROP CONSTRAINT `UNI-WORKORDERID`;</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>tm_workorder20250314</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tm_workorder20250314 \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tm_workorder20250314` (
  `工单编号` varchar(255) DEFAULT NULL,
  `省` varchar(255) DEFAULT NULL,
  `市` varchar(255) DEFAULT NULL,
  `区` varchar(255) DEFAULT NULL,
  `详细地址` varchar(255) DEFAULT NULL,
  `服务科目` varchar(255) DEFAULT NULL,
  `施工人（账号）` varchar(255) DEFAULT NULL,
  `施工人（姓名）` varchar(255) DEFAULT NULL,
  `电话` varchar(255) DEFAULT NULL,
  `工单提交时间` varchar(255) DEFAULT NULL,
  `施工完成时间` varchar(255) DEFAULT NULL,
  `工单状态` varchar(255) DEFAULT NULL,
  `服务商` varchar(255) DEFAULT NULL,
  `报表月份` varchar(255) DEFAULT NULL,
  `公司` varchar(255) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>tb_workorderoperationlog</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tb_workorderoperationlog \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tb_workorderoperationlog` (
  `Id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '自增主键',
  `MainId` varchar(50) DEFAULT NULL COMMENT '父表ID（tb_afcreceiverecordinfo.id,tb_userworkphoneinfo.Id，tb_userfeedetail.FeeGroupCode）',
  `WorkOrderId` varchar(12) DEFAULT NULL,
  `LogType` int(11) NOT NULL COMMENT '日志类别（1-金融运营回款日志,2-工作手机信息匹配日志,3-充电桩团队管理人员费用信息修改日志,4-车电匹配失败（临时）,5-团队管理变更日志）',
  `Object` varchar(50) DEFAULT NULL COMMENT '操作对象（回款登记/回款信息）',
  `OperCode` varchar(50) DEFAULT NULL COMMENT '操作人Code',
  `OperName` varchar(100) DEFAULT NULL COMMENT '操作人Name',
  `Operation` varchar(50) DEFAULT NULL COMMENT '操作',
  `SummaryInfo` varchar(500) DEFAULT NULL COMMENT '日志汇总',
  `ExtraJson` json DEFAULT NULL COMMENT '其它补充信息',
  `InsertTime` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间/操作时间',
  `Deleted` tinyint(4) DEFAULT '0',
  PRIMARY KEY (`Id`),
  KEY `NON-MainId` (`MainId`) USING BTREE,
  KEY `NON-LogType` (`LogType`) USING BTREE,
  KEY `NON-OperCode` (`OperCode`) USING BTREE,
  KEY `NON-OperName` (`OperName`) USING BTREE,
  KEY `NON-InsertTime` (`InsertTime`) USING BTREE,
  KEY `NON-Deleted` (`Deleted`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=121230 DEFAULT CHARSET=utf8 COMMENT='通用操作日志表'</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>basic_accessoryinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "DeviceUniqueNo": {
      "message": "\u5217 DeviceUniqueNo \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "IsBundingAsset": {
      "message": "\u5217 IsBundingAsset \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "IsUnusual": {
      "message": "\u5217 IsUnusual \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>workflowhandlingstatus</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "Deleted": {
      "default": {
        "source": null,
        "target": "0"
      },
      "nullable": {
        "source": false,
        "target": true
      },
      "type": {
        "source": "bit(1)",
        "target": "smallint(6)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>vi_riskworkorderinfo_other</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "IsRelation": {
      "message": "\u5217 IsRelation \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>workjsoninfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 workjsoninfo \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `workjsoninfo` (
  `Id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `WorkOrderId` char(12) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `CustStoreId` char(12) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `CustStoreName` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `CustStoreCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `PreCustStoreId` char(12) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `PreCustStoreName` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `CustSettleId` char(12) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `CustSettleName` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `IsCustomer` tinyint(1) DEFAULT NULL,
  `CustCoopType` smallint(6) DEFAULT NULL,
  `ProCode` varchar(10) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `AppCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `ProName` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `CityCode` varchar(10) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `CityName` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `AreaCode` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `AreaName` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `InstallAddress` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `InstallTime` datetime DEFAULT NULL,
  `RequiredTime` datetime DEFAULT NULL,
  `LinkMan` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `LinkTel` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `SourceType` smallint(6) DEFAULT NULL,
  `SecondLinkTel` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `SecondLinkMan` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `WarehouseId` char(12) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `WarehouseName` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `Remark` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `IsUrgent` tinyint(1) DEFAULT NULL,
  `CustUniqueSign` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `CreatePersonCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `CreatePersonName` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `EffectiveTime` datetime DEFAULT NULL,
  `OrderType` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `EffectiveSuccessfulTime` datetime DEFAULT NULL,
  `CreatedById` char(36) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `CreatedAt` datetime DEFAULT NULL,
  `UpdatedById` char(36) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `UpdatedAt` datetime DEFAULT NULL,
  `DeletedById` char(36) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `DeletedAt` datetime DEFAULT NULL,
  `Deleted` tinyint(1) DEFAULT NULL,
  `AppointStatus` smallint(6) DEFAULT NULL,
  `ServiceCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `CreateType` smallint(6) DEFAULT NULL,
  `ServiceName` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `RecCompleteTime` datetime DEFAULT NULL,
  `RecRecordPersonCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `RecRecordPersonName` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `WfOrderCompletetime` datetime DEFAULT NULL,
  `WfAssignor` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `WfDirectOrderAccept` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `WorkOdrTypeStatus` smallint(6) DEFAULT NULL,
  `WorkOdrCloseStatusName` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `WorkOdrSuspendStatus` smallint(6) DEFAULT NULL,
  `WorkStatus` smallint(6) DEFAULT NULL,
  `WorkOdrClosedAt` datetime DEFAULT NULL,
  `AFCCreatedAt` datetime DEFAULT NULL,
  `AFCRetreatTime` datetime DEFAULT NULL,
  `AFCFollowFrequency` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `AFCIfRemove` smallint(6) DEFAULT NULL,
  `AFCReturnedTypeCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `VHSAppraisalStatus` smallint(6) DEFAULT NULL,
  `VHSReceiverLoginName` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `OperatingInfo` json DEFAULT NULL,
  `OperatedInfo` json DEFAULT NULL,
  `ServiceProviderCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `WorkflowInfo` json DEFAULT NULL,
  `WorkServiceSubject` json DEFAULT NULL,
  `AFCWorkFinanceRecord` json DEFAULT NULL,
  `AFCPaymentReport` json DEFAULT NULL,
  `VHSWorkFileReceiveInfo` json DEFAULT NULL,
  `CustomerId` char(12) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `CustomerName` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `WorkAddressInfo` json DEFAULT NULL,
  `AFCLastNegotiatorTime` datetime DEFAULT NULL,
  `AFCFollowFrequencyType` smallint(6) DEFAULT NULL,
  `AFCCompleteType` smallint(6) DEFAULT NULL,
  `AFCReportDeadline` datetime DEFAULT NULL,
  `AFCUnFollowDays` bigint(20) DEFAULT NULL,
  `AFCAppointTime` datetime DEFAULT NULL,
  PRIMARY KEY (`Id`)
) ENGINE=InnoDB AUTO_INCREMENT=2416 DEFAULT CHARSET=utf8 AVG_ROW_LENGTH=2684 ROW_FORMAT=DYNAMIC</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>flink_tableb</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 flink_tableb \u5728\u6e90\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_source"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>DROP TABLE IF EXISTS `flink_tableb`;</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>workflownodes</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "DataDictionaryId": {
      "type": {
        "source": "varchar(36)",
        "target": "char(36)"
      }
    },
    "Deleted": {
      "default": {
        "source": null,
        "target": "0"
      },
      "nullable": {
        "source": false,
        "target": true
      },
      "type": {
        "source": "bit(1)",
        "target": "smallint(6)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>tmp_tablename</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tmp_tablename \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tmp_tablename` (
  `tablename` varchar(255) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tmp_districtyx1</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tmp_districtyx1 \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tmp_districtyx1` (
  `省编码` varchar(255) DEFAULT NULL,
  `省名称` varchar(255) DEFAULT NULL,
  `省编码1` varchar(255) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>tb_userruleinfo_serv</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tb_userruleinfo_serv \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tb_userruleinfo_serv` (
  `Id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `OrgCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `UserCenterId` varchar(36) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '人员ID（tb_userinfo.UserCenterId)',
  `LoginName` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '人员登录名',
  `OrderType` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '工单类型',
  `DistrictCode` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '权限内地区编码',
  `InsertTime` datetime DEFAULT CURRENT_TIMESTAMP,
  `Deleted` smallint(6) NOT NULL DEFAULT '0',
  PRIMARY KEY (`Id`),
  KEY `NON-DistrictCode` (`DistrictCode`),
  KEY `NON-LoginName` (`LoginName`),
  KEY `NON-OrderType` (`OrderType`),
  KEY `NON-OrgCode` (`OrgCode`),
  KEY `NON-UserCenterId` (`UserCenterId`)
) ENGINE=InnoDB AUTO_INCREMENT=2377 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='通用域_人员区域权限表'</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>tb_userinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "UserStatus": {
      "type": {
        "source": "smallint(6)",
        "target": "smallint(1)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tmp_chpfixorder</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tmp_chpfixorder \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tmp_chpfixorder` (
  `Id` bigint(20) NOT NULL AUTO_INCREMENT,
  `WorkOrderId` varchar(12) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `OrderTypeCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `OrderTypeName` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `AppCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `SubjectCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `SubjectName` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `CustomerId` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `CustomerName` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `StoreId` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `StoreName` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `SettleId` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `SettleName` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `ProCode` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `ProName` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `CityCode` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `CityName` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `AreaCode` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `AreaName` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `InstallAddress` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `OrderRemark` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `CarUserName` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `CarUserTel` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `RecordPersonCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `RecordPersonName` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `OrderCompleteTime` datetime DEFAULT NULL,
  `StoreCode` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `RecordPersonName` (`RecordPersonName`) USING BTREE,
  KEY `NON-OrderTypeName` (`OrderTypeName`) USING BTREE,
  KEY `ProName` (`ProName`) USING BTREE,
  KEY `StoreName` (`StoreName`) USING BTREE,
  KEY `SubjectName` (`SubjectName`) USING BTREE,
  KEY `CityName` (`CityName`) USING BTREE,
  KEY `CustomerId` (`CustomerId`) USING BTREE,
  KEY `AppCode` (`AppCode`) USING BTREE,
  KEY `AreaName` (`AreaName`) USING BTREE,
  KEY `SubjectCode` (`SubjectCode`) USING BTREE,
  KEY `WorkOrderId` (`WorkOrderId`) USING BTREE,
  KEY `CustomerName` (`CustomerName`) USING BTREE,
  KEY `SettleName` (`SettleName`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=864 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='20231010\r\n导入充电桩私桩巡检虚拟数据864单'</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>common_propertymapping</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "MappingPropertyCode": {
      "type": {
        "source": "varchar(200)",
        "target": "varchar(50)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tb_workorderrelation</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "RelateNo": {
      "message": "\u5217 RelateNo \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  },
  "indexes": {
    "NON-RelateNo": {
      "message": "\u7d22\u5f15 NON-RelateNo \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>vi_workorderfilmdetail_2</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 vi_workorderfilmdetail_2 \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE ALGORITHM=MERGE DEFINER=`user_service`@`%` SQL SECURITY INVOKER VIEW `vi_workorderfilmdetail_2` AS select `a`.`Id` AS `WorkOrderId`,`a`.`AppCode` AS `AppCode`,`b`.`PlateNumber` AS `PlateNumber`,`b`.`VinNumber` AS `VinNumber`,`b`.`UserName` AS `UserName`,`a`.`WorkStatus` AS `OrderStatus`,`a`.`OrderType` AS `OrderType`,`fn_GetTaskOrderTime`(`a`.`Id`) AS `AcceptTime`,`fn_GetCurrentPersonInfo`(`a`.`Id`,1) AS `CurrentCode`,`fn_GetCurrentPersonInfo`(`a`.`Id`,2) AS `CurrentPerson`,NULL AS `CustTrade`,`a`.`CustomerId` AS `CustomerId`,`a`.`CustomerName` AS `CustomerName`,`a`.`CustStoreId` AS `CustStoerId`,`a`.`CustStoreCode` AS `CustStoreCode`,`a`.`CustStoreName` AS `CustStoreName`,`a`.`CustSettleId` AS `CustSettleId`,`a`.`CustSettleName` AS `CustSettleName`,`a`.`ProCode` AS `ProCode`,`a`.`ProName` AS `ProName`,`a`.`CityCode` AS `CityCode`,`a`.`CityName` AS `CityName`,`a`.`AreaCode` AS `AreaCode`,`a`.`AreaName` AS `AreaName`,`a`.`InstallAddress` AS `InstallAddress`,`a`.`LinkMan` AS `LinkMan`,`a`.`LinkTel` AS `LinkTel`,`a`.`Remark` AS `CustRemark`,`h`.`Remark` AS `RecordRemark`,`a`.`CreatePersonCode` AS `CreatePersonCode`,`a`.`CreatePersonName` AS `CreatePersonName`,`a`.`CreatedAt` AS `SubmitTime`,`i`.`FirstAppointTime` AS `FirstAppointedTime`,`a`.`InstallTime` AS `RequireTime`,`h`.`CompleteTime` AS `RecordTime`,`h`.`RecordPersonCode` AS `RecordCode`,`h`.`RecordPersonName` AS `RecordName`,(select ifnull(`e`.`LoginName`,convert(`a0`.`RecordPersonCode` using utf8mb4)) from ((((`tb_recordinfo` `a0` join `tb_userinfo` `b` on(((convert(`a0`.`RecordPersonCode` using utf8mb4) = `b`.`LoginName`) and (`b`.`Deleted` = 0)))) join `tb_userdetail` `c` on((`b`.`Id` = `c`.`Id`))) left join `basic_institutionalinfo` `d` on(((`c`.`AffiliatedInstitution` = `d`.`Code`) and (`d`.`OrgCode` = 1001) and (`d`.`Deleted` = 0) and (`d`.`ParentId` = (select `basic_institutionalinfo`.`Id` from `basic_institutionalinfo` where (`basic_institutionalinfo`.`Name` = '三方服务团队')))))) left join `tb_userinfo` `e` on(((`d`.`LeaderLoginName` = `e`.`LoginName`) and (`e`.`Deleted` = 0)))) where (`a0`.`WorkOrderId` = `a`.`Id`) limit 1) AS `RecordCode_zg`,(select ifnull(`e`.`UserName`,convert(`a0`.`RecordPersonName` using utf8mb4)) from ((((`tb_recordinfo` `a0` join `tb_userinfo` `b` on(((convert(`a0`.`RecordPersonCode` using utf8mb4) = `b`.`LoginName`) and (`b`.`Deleted` = 0)))) join `tb_userdetail` `c` on((`b`.`Id` = `c`.`Id`))) left join `basic_institutionalinfo` `d` on(((`c`.`AffiliatedInstitution` = `d`.`Code`) and (`d`.`OrgCode` = 1001) and (`d`.`Deleted` = 0) and (`d`.`ParentId` = (select `basic_institutionalinfo`.`Id` from `basic_institutionalinfo` where (`basic_institutionalinfo`.`Name` = '三方服务团队')))))) left join `tb_userinfo` `e` on(((`d`.`LeaderLoginName` = `e`.`LoginName`) and (`e`.`Deleted` = 0)))) where (`a0`.`WorkOrderId` = `a`.`Id`) limit 1) AS `RecordName_zg`,(case `c`.`Privoder` when 0 then '中瑞' when 1 then '客户' end) AS `Provider`,`c`.`ServiceCode` AS `ServiceCode`,`c`.`ServiceName` AS `ServiceName`,ifnull(`c`.`WorkerCode`,`c`.`ServiceCode`) AS `ServiceCode_Actual`,ifnull(`c`.`WorkerName`,`c`.`ServiceName`) AS `ServicePerson_Actual`,(select group_concat(`s`.`SaleName` separator ',') from `tb_workgoodsinfo` `s` where ((`s`.`WorkOrderId` = `a`.`Id`) and (`s`.`Deleted` = 0))) AS `ItemDetail`,`fn_GetAppointStatusByCode`(`i`.`AppointStatus`) AS `AppointResult`,`i`.`RemarkConcat` AS `AppiontRemark`,concat(ifnull(`d`.`CloseReasonName`,''),ifnull(`d`.`Remark`,'')) AS `CloseReason`,`d`.`ClosedAt` AS `CloseTime`,`c`.`Remark` AS `ServiceRemark` from (((((`tb_workorderinfo` `a` left join `tb_workcarinfo` `b` on(((`b`.`WorkOrderId` = `a`.`Id`) and (`b`.`Deleted` = 0)))) left join `tb_workserviceinfo` `c` on(((`c`.`WorkOrderId` = `a`.`Id`) and (`c`.`Deleted` = 0)))) left join `tb_workorderstatus` `d` on(((`d`.`WorkOrderId` = `a`.`Id`) and (`d`.`Deleted` = 0)))) left join `tb_recordinfo` `h` on(((`h`.`WorkOrderId` = `a`.`Id`) and (`h`.`Deleted` = 0)))) left join `tb_appointmentconcat` `i` on(((`i`.`WorkOrderId` = `a`.`Id`) and (`i`.`Deleted` = 0)))) where ((`a`.`OrderType` in ('0301','1401','1402','1403')) and (`a`.`Deleted` = 0))</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>阶段目标生产达成</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 \u9636\u6bb5\u76ee\u6807\u751f\u4ea7\u8fbe\u6210 \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `阶段目标生产达成` (
  `研发生产目标模板-产品迭代优化/集成项目/客制化项目` varchar(255) DEFAULT NULL,
  `f2` varchar(255) DEFAULT NULL,
  `f3` varchar(255) DEFAULT NULL,
  `f4` varchar(255) DEFAULT NULL,
  `阶段基线` varchar(255) DEFAULT NULL,
  `工时
（人天）` varchar(255) DEFAULT NULL,
  `交期
（YY-MM-DD）` varchar(255) DEFAULT NULL,
  `范围
（PRD版本/架构优化）` varchar(255) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>workflowcompleterelatedactors</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "Deleted": {
      "default": {
        "source": null,
        "target": "0"
      },
      "nullable": {
        "source": false,
        "target": true
      },
      "type": {
        "source": "bit(1)",
        "target": "smallint(6)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>有效任务工时明细</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 \u6709\u6548\u4efb\u52a1\u5de5\u65f6\u660e\u7ec6 \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `有效任务工时明细` (
  `项目工作量统计` varchar(255) DEFAULT NULL,
  `f2` varchar(255) DEFAULT NULL,
  `f3` varchar(255) DEFAULT NULL,
  `f4` varchar(255) DEFAULT NULL,
  `f5` varchar(255) DEFAULT NULL,
  `f6` varchar(255) DEFAULT NULL,
  `f7` varchar(255) DEFAULT NULL,
  `f8` varchar(255) DEFAULT NULL,
  `f9` varchar(255) DEFAULT NULL,
  `f10` varchar(255) DEFAULT NULL,
  `f11` varchar(255) DEFAULT NULL,
  `f12` varchar(255) DEFAULT NULL,
  `f13` varchar(255) DEFAULT NULL,
  `f14` varchar(255) DEFAULT NULL,
  `f15` varchar(255) DEFAULT NULL,
  `f16` varchar(255) DEFAULT NULL,
  `f17` varchar(255) DEFAULT NULL,
  `f18` varchar(255) DEFAULT NULL,
  `f19` varchar(255) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>vi_formlastest</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "CategoryName": {
      "type": {
        "source": "text",
        "target": "mediumtext"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>workflownodeactions_bak</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 workflownodeactions_bak \u5728\u6e90\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_source"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>DROP TABLE IF EXISTS `workflownodeactions_bak`;</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>tb_phoneorderrelation</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tb_phoneorderrelation \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tb_phoneorderrelation` (
  `Id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '自增主键',
  `PhoneInfoId` varchar(12) DEFAULT NULL COMMENT '工作手机信息表ID（tb_userworkphoneinfo.Id）',
  `WorkOrderId` varchar(12) DEFAULT NULL COMMENT '工单ID(tb_workorderinfo.Id)',
  `AppCode` varchar(50) DEFAULT NULL COMMENT '工单编号',
  `CustomerId` varchar(100) DEFAULT NULL COMMENT '工单客户ID',
  `CustomerName` varchar(100) DEFAULT NULL COMMENT '工单客户名称',
  `NegotiatorId` varchar(12) DEFAULT NULL COMMENT '谈判记录ID(tb_afcnegotiationrecordinfo.Id)',
  `NegotiatorTime` datetime DEFAULT NULL COMMENT '谈判记录生成时间',
  `CreatedAt` datetime DEFAULT CURRENT_TIMESTAMP,
  `Deleted` tinyint(4) DEFAULT '0',
  PRIMARY KEY (`Id`),
  KEY `NegotiatorId` (`NegotiatorId`),
  KEY `NegotiatorTime` (`NegotiatorTime`),
  KEY `PhoneInfoId` (`PhoneInfoId`),
  KEY `WorkOrderId` (`WorkOrderId`)
) ENGINE=InnoDB AUTO_INCREMENT=2933 DEFAULT CHARSET=utf8 COMMENT='工作手机与工单关系表（匹配结果表）'</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>rp_chpworkorderdetail</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 rp_chpworkorderdetail \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `rp_chpworkorderdetail` (
  `Id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `WorkOrderId` varchar(36) DEFAULT NULL COMMENT '工单ID',
  `AppCode` varchar(50) DEFAULT NULL COMMENT '工单编码',
  `OrderType` varchar(50) DEFAULT NULL,
  `SubjectNameSummary` varchar(100) DEFAULT NULL COMMENT '科目名称汇总',
  `CustomerName` varchar(100) DEFAULT NULL COMMENT '客户名称',
  `CustStoreName` varchar(100) DEFAULT NULL COMMENT '门店名称',
  `CustSettleName` varchar(100) DEFAULT NULL COMMENT '结算单位名称',
  `LinkMan` varchar(50) DEFAULT NULL COMMENT '联系人姓名',
  `LinkTel` varchar(20) DEFAULT NULL COMMENT '联系电话',
  `ProName` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `CityName` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `AreaName` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `InstallAddress` varchar(150) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `Remark` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '下单备注',
  `FirstConcatRole` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '首联人角色',
  `chpCarUserName` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '(CHP)车主姓名',
  `chpCarUserTel` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '(CHP)车主电话',
  `chpCarVinNumber` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '车架号',
  `IsWithPile` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '带桩上门',
  `IsSelfBuiltHouse` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '是否自建房',
  `CarParkin` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '车位',
  `ProtectionBox` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '保护箱',
  `InstallType` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '安装方式',
  `GetElectricityType` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '取电方式',
  `Schedule` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '立表进度',
  `ElectricityMetersType` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '电表类型',
  `PowerPointLocation` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '取电点位置',
  `WechatNumber` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '车主微信号/群名',
  `chpWXAddProgress` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '车主微信添加进度',
  `FirstContactRemark` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '首联备注',
  `WorkStatusName` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `CurrentPerson` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '当前处理人',
  `SubmmitTime` datetime DEFAULT NULL COMMENT '工单提交时间',
  `RequiredTime` datetime DEFAULT NULL COMMENT '要求时间',
  `chpNextFollowTime` datetime DEFAULT NULL COMMENT '下次跟进时间',
  `LastAppointStatus` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '最新异常反馈类型',
  `LastFailAppointConcat` varchar(500) DEFAULT NULL COMMENT '最新异常反馈详情(取最后一次的异常反馈提交记录，展示：记录提交时间+申请原因（申请原因＋预约失败原因）+描述 +下次联系时间)',
  `AllFailAppointConcat` text COMMENT '异常反馈记录(按321的顺序排列，时间靠后的展示在上 。展示形式：时间+申请原因（申请原因＋预约失败原因）+描述+下次联系时间)',
  `SurveyTime` datetime DEFAULT NULL COMMENT '勘测完成时间',
  `CompleteTime` datetime DEFAULT NULL COMMENT '安装完成时间(安装)/施工完成时间(售后)',
  `ClosedAt` datetime DEFAULT NULL COMMENT '关闭时间',
  `AuditRejectRemark` text COMMENT '质检不通过备注(勘测、安装/售后)每次不通过的备注都放一起。',
  `AuditRejectNum` int(11) DEFAULT NULL COMMENT '质检驳回次数(勘测驳回+安装驳回/售后驳回的次数)',
  `LastAuditRejectTime` datetime DEFAULT NULL COMMENT '最新质检驳回时间',
  `AuditTime` datetime DEFAULT NULL COMMENT '(安装/售后)质检通过时间',
  `IsAddition` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '是否存在增项',
  `LastSurveyAuditCode` varchar(50) DEFAULT NULL COMMENT '最新勘测质检人工号',
  `LastSurveyAuditName` varchar(50) DEFAULT NULL COMMENT '最新勘测质检人姓名',
  `LastInstallAuditCode` varchar(50) DEFAULT NULL COMMENT '最新(安装/售后)质检人工号',
  `LastInstallAuditName` varchar(50) DEFAULT NULL COMMENT '最新(安装/售后)质检人姓名',
  `AdditionFeeSettleRoad` varchar(100) DEFAULT NULL COMMENT '增项结算路径',
  `AdditionFeePayTypeName` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '结算方式',
  `AdditionFeeChangeRemark` varchar(200) DEFAULT NULL COMMENT '增项结算修改原因',
  `AdditionFeeDetail` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci COMMENT '增项明细',
  `AdditionFeePrice` decimal(18,5) DEFAULT NULL COMMENT '增项费（元）',
  `AdditionFeePaySource` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '增项付款方式',
  `AdditionFeeOfflinePayer` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '增项打款人',
  `AdditionFeePayTime` datetime DEFAULT NULL COMMENT '增项打款时间',
  `ServiceGoodsName` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '安装服务商品',
  `ServiceGoodsPrice` decimal(18,5) DEFAULT NULL COMMENT '安装服务商品价格',
  `Power` decimal(18,1) DEFAULT NULL COMMENT '功率',
  `FirstPartySettleLength` varchar(50) DEFAULT NULL COMMENT '甲方结算套餐长度',
  `PackageLength` varchar(50) DEFAULT NULL COMMENT '车企套餐长度',
  `BrandName` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '品牌',
  `chpBrandInfoURL` varchar(200) DEFAULT NULL COMMENT '品牌资料',
  `ProjectWarrantyPeriod` int(11) DEFAULT NULL COMMENT '工程质保期（年）',
  `SurveyName` varchar(45) DEFAULT NULL COMMENT '勘测人姓名',
  `Surveycode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '勘测人账号',
  `InstallName` varchar(100) DEFAULT NULL COMMENT '安装人姓名(安装)/施工人姓名(售后)',
  `InstallCode` varchar(50) DEFAULT NULL COMMENT '安装人Code(安装)/施工人Code(售后)',
  `Distance` decimal(18,1) DEFAULT NULL COMMENT '单程服务距离（km）',
  `InstallAscription` varchar(50) DEFAULT NULL COMMENT '安装人员外勤属性(安装)/施工人属性(售后)',
  `FirstRecordTime` datetime DEFAULT NULL COMMENT '首次提交安装结果时间',
  `LastRecordTime` datetime DEFAULT NULL COMMENT '最新一次提交安装结果时间',
  `EmployeeAttributes` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '安装人员属性',
  `SurveyMethod` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '勘测方式',
  `IndividualReason` varchar(200) DEFAULT NULL COMMENT '单独上门原因',
  `SurveyResult` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '是否继续安装',
  `ResultReason` varchar(200) DEFAULT NULL COMMENT '不安装原因',
  `SurveyRemark` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '勘测施工备注',
  `Seller` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '充电桩销售方',
  `GoodsName` varchar(50) DEFAULT NULL COMMENT '桩商品',
  `MaterialPrice` decimal(18,5) DEFAULT NULL COMMENT '桩价格',
  `GoodsSource` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '桩来源',
  `MaterialNo` varchar(50) DEFAULT NULL COMMENT '中瑞桩编码',
  `MaterialType` varchar(50) DEFAULT NULL COMMENT '充电桩类型',
  `EscrowMaterialType` varchar(50) DEFAULT NULL COMMENT '代管桩物料',
  `EscrowMaterialNo` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '代管桩编码',
  `PileWarrantyPeriod` int(11) DEFAULT NULL COMMENT '电桩质保期（年）',
  `WarehouseName` varchar(100) DEFAULT NULL COMMENT '充电桩出货仓库',
  `chpIsSelfWiring` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '车主是否自布线',
  `HardWire` text COMMENT '电缆硬线LM00008497(出库方式|实际用量|品牌|规格。字段用 | 连接；未使用不展示品牌、规格；品牌是其他时展示 其他：录入备注)',
  `FlexibleCord` text COMMENT '电缆软线LM00008498',
  `Drivepipe` text COMMENT '套管LM00008502',
  `LeakageInsurance` text COMMENT '漏保LM00008500',
  `AirSwitchBox` text COMMENT '空开盒LM00008501',
  `ChargingPileColumn` text COMMENT '立柱LM00008499',
  `chpInstallRemark` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '安装施工备注',
  `chpNextFollow` varchar(500) DEFAULT NULL COMMENT '安装后跟进记录',
  `CreatedAt` datetime DEFAULT NULL COMMENT '建单时间',
  `FirstConcatPersonCode` varchar(50) DEFAULT NULL COMMENT '首联人code',
  `FirstConcatPersonName` varchar(100) DEFAULT NULL COMMENT '首联人name',
  `FirstConcatTime` datetime DEFAULT NULL COMMENT '首联人时间',
  `ChpLineActualUsage` int(11) DEFAULT NULL COMMENT '线缆实际用量（电缆硬线+电缆软线实际用量）',
  `chpGoodsPackageSubsidyPrice` decimal(18,4) DEFAULT NULL COMMENT '充电桩补贴套餐价格）',
  `LastApplyReason` varchar(200) DEFAULT NULL COMMENT '最新异常反馈的申请原因',
  `chpCarModel` varchar(200) DEFAULT NULL COMMENT '车型(售后)',
  `chpProModel` varchar(200) DEFAULT NULL COMMENT '产品型号(售后)',
  `chpChargerNo` varchar(200) DEFAULT NULL COMMENT '桩编号(售后)',
  `chpOriginalInstallPerson` varchar(200) DEFAULT NULL COMMENT '原施工人(售后)',
  `chpFactoryBrand` varchar(200) DEFAULT NULL COMMENT '主机厂品牌(售后)',
  `chpProblemDescription` varchar(600) DEFAULT NULL COMMENT '问题描述(售后)',
  `chpFaulttime` varchar(200) DEFAULT NULL COMMENT '故障时间(售后)',
  `chpFaultClass` varchar(200) DEFAULT NULL COMMENT '故障分类(售后)',
  `chpSuggestedSolution` varchar(600) DEFAULT NULL COMMENT '建议解决方案(售后)',
  `chpWarrantyStatus` varchar(60) DEFAULT NULL COMMENT '保修状态(售后)',
  `chpActualSolutionName` varchar(1000) DEFAULT NULL COMMENT '实际处理方案(实际处理方案为其它时展示详细处理信息）(售后)',
  `chpIfCharge` varchar(60) DEFAULT NULL COMMENT '是否收费(售后)',
  `chpAfterSaleRemark` varchar(600) DEFAULT NULL COMMENT '施工备注(售后)',
  `chpLogisticsNum` varchar(100) DEFAULT NULL COMMENT '物流单号(售后)',
  `chpShippingWarehouse` varchar(200) DEFAULT NULL COMMENT '出货仓库(售后)',
  `chpWarehouseMaterials` text COMMENT '所用物料(拼接)(售后)',
  `InsertTime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `Deleted` tinyint(4) NOT NULL DEFAULT '0',
  `chpMaterialSN` varchar(100) DEFAULT NULL COMMENT '故障物料SN',
  `chpWorkerSettlePrice` varchar(50) DEFAULT NULL COMMENT '优工结算价（总价）',
  `chpWorkerSettlementMethod` varchar(50) DEFAULT NULL COMMENT '客户结算价',
  `chpWorkerFeeRemark` varchar(500) DEFAULT NULL COMMENT '备注-操作人/操作时间',
  `chpInstallConditionDate` date DEFAULT NULL COMMENT '具备安装条件日期',
  `chpPileInventoryResults` varchar(50) DEFAULT NULL COMMENT '桩盘点结果',
  `chpColumnInventoryResults` varchar(50) DEFAULT NULL COMMENT '立柱盘点结果',
  `AdditionFeeCommissionRatio` varchar(50) DEFAULT NULL COMMENT '增项费分佣比例（%）',
  `AllSubsidy` decimal(20,2) DEFAULT NULL COMMENT '总费用',
  `InstallPriPileSubsidy` decimal(20,2) DEFAULT NULL COMMENT '私桩计件-安装',
  `AfterSalePriPileSubsidy` decimal(20,2) DEFAULT NULL COMMENT '私桩计件-售后',
  `ChargingPileSubsidy` decimal(20,2) DEFAULT NULL COMMENT '公桩计件（申请）',
  `LeakageInsuranceSubsidy` decimal(20,2) DEFAULT NULL COMMENT '漏保补贴',
  `GalvanizedPipeSubsidy` decimal(20,2) DEFAULT NULL COMMENT '镀锌管补贴',
  `AdditionSubsidy` decimal(20,2) DEFAULT NULL COMMENT '增项',
  `LineSubsidy` decimal(20,2) DEFAULT NULL COMMENT '电缆补贴',
  `RemoteSubsidy` decimal(20,2) DEFAULT NULL COMMENT '远补',
  `CarSubsidy` decimal(20,2) DEFAULT NULL COMMENT '用车补贴',
  `BonusSubsidy` decimal(20,2) DEFAULT NULL COMMENT '奖金',
  `DifferenceSubsidy` decimal(20,2) DEFAULT NULL COMMENT '差异补发',
  `ComplaintDeduction` decimal(20,2) DEFAULT NULL COMMENT '客诉扣款',
  `DifferenceDeduction` decimal(20,2) DEFAULT NULL COMMENT '差异扣除',
  `chpPilesNum` int(11) DEFAULT NULL COMMENT '（充电桩）桩数量',
  `chpGunsNum` int(11) DEFAULT NULL COMMENT '（充电桩）枪数量',
  `chpParkSpaceNum` int(11) DEFAULT NULL COMMENT '（充电桩）车位数量',
  `DispatchTime` datetime DEFAULT NULL COMMENT '勘测调度完成时间/调度完成时间',
  `CustomerAuditApprovalTime` datetime DEFAULT NULL COMMENT '客户审核通过时间',
  `chpOrderSource` varchar(50) DEFAULT NULL COMMENT '(充电桩)订单来源',
  `CurrentPersonCode` varchar(50) DEFAULT NULL COMMENT '当前处理人编号',
  PRIMARY KEY (`Id`),
  KEY `NON-WorkOrderId` (`WorkOrderId`),
  KEY `NON-CreatedAt` (`CreatedAt` DESC)
) ENGINE=InnoDB AUTO_INCREMENT=19432 DEFAULT CHARSET=utf8 COMMENT='充电桩已完成工单明细表'</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>basic_resourceitem</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "FileSource": {
      "message": "\u5217 FileSource \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tm_userarea</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tm_userarea \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tm_userarea` (
  `Id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增主键',
  `ProviderCode` varchar(50) DEFAULT NULL COMMENT '服务供应商Code(serviceordercenter.basic_serviceprovider.code)',
  `ProCode` varchar(50) DEFAULT NULL COMMENT '省份Code',
  `AreaCnt` int(11) DEFAULT NULL COMMENT '区域覆盖人数',
  PRIMARY KEY (`Id`),
  KEY `1` (`ProviderCode`),
  KEY `2` (`ProCode`)
) ENGINE=InnoDB AUTO_INCREMENT=256 DEFAULT CHARSET=utf8</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>tb_wxuserinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tb_wxuserinfo \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tb_wxuserinfo` (
  `WxId` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '主键(WxId,安米无微信ID，数据同微信号)',
  `DataSource` smallint(6) NOT NULL DEFAULT '0' COMMENT '来源（1-云客，2-安米）',
  `WxCode` varchar(50) DEFAULT NULL COMMENT '微信号',
  `WxName` varchar(50) DEFAULT NULL COMMENT '微信昵称',
  `WxHead` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '微信头像URL',
  `WxNameRemark` varchar(100) DEFAULT NULL COMMENT '微信备注名',
  `LoginName` varchar(50) DEFAULT NULL COMMENT '员工账号',
  `UserType` smallint(6) DEFAULT NULL COMMENT '类型（1-员工,2-客户（员工好友）,3-群,4-群成员）',
  `CreatedAt` datetime DEFAULT CURRENT_TIMESTAMP,
  `Deleted` tinyint(4) DEFAULT '0',
  PRIMARY KEY (`WxId`,`DataSource`),
  KEY `UserType` (`UserType`),
  KEY `LoginName` (`LoginName`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='人员微信信息表'</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>tmp_dists</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tmp_dists \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tmp_dists` (
  `lv3code` varchar(255) DEFAULT NULL,
  `lv3name` varchar(255) DEFAULT NULL,
  `zr3code` varchar(255) DEFAULT NULL,
  `zr3name` varchar(255) DEFAULT NULL,
  `zr2code` varchar(255) DEFAULT NULL,
  `zr2name` varchar(255) DEFAULT NULL,
  `zr1code` varchar(255) DEFAULT NULL,
  `lv1name` varchar(255) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>tb_workauditphotoinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tb_workauditphotoinfo \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tb_workauditphotoinfo` (
  `Id` bigint(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `WorkOrderId` char(12) DEFAULT NULL COMMENT '工单Id',
  `AuditPhotoType` smallint(6) DEFAULT NULL COMMENT '质检照片类型：1.人车合影照片；2.三合一照片；3.安装远照（设备0059）；4.安装近照（设备0059）；5.环境照片；',
  `AuditPhotoRule` varchar(200) DEFAULT NULL COMMENT '质检照片类型识别规则',
  `AuditStatus` smallint(6) DEFAULT NULL COMMENT '质检状态：0.未通过；1.已通过；',
  `ResourceId` char(12) DEFAULT NULL COMMENT '资源表Id(basic_resourceitem.Id)',
  `AuditRemark` varchar(50) DEFAULT NULL COMMENT '质检备注',
  `IsAuditError` smallint(6) DEFAULT NULL COMMENT '是否质检系统识别有误：0.否；1.是；',
  `CreatedById` char(36) DEFAULT NULL,
  `CreatedAt` datetime DEFAULT NULL,
  `UpdatedById` char(36) DEFAULT NULL,
  `UpdatedAt` datetime DEFAULT NULL,
  `DeletedById` char(36) DEFAULT NULL,
  `DeletedAt` datetime DEFAULT NULL,
  `Deleted` smallint(6) DEFAULT '0',
  PRIMARY KEY (`Id`),
  KEY `NON-WorkOrderId` (`WorkOrderId`) USING BTREE,
  KEY `NON-ResourceId` (`ResourceId`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=14 DEFAULT CHARSET=utf8 COMMENT='业务域_自动质检图片信息'</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>move_workorder2023</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "IsConsume": {
      "message": "\u5217 IsConsume \u5728\u6e90\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_source"
    }
  },
  "indexes": {
    "1": {
      "message": "\u7d22\u5f15 1 \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "NON-BatchNo": {
      "message": "\u7d22\u5f15 NON-BatchNo \u5728\u6e90\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_source"
    }
  }
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>ALTER TABLE `move_workorder2023` DROP COLUMN `IsConsume`;
ALTER TABLE `move_workorder2023` DROP INDEX `NON-BatchNo`;</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>home_ordercusttrend</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 home_ordercusttrend \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `home_ordercusttrend` (
  `Id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增主键',
  `ProviderCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '服务商编码',
  `CustomerName` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '客户名称',
  `CreateCnt` int(11) NOT NULL DEFAULT '0' COMMENT '建单量',
  `CheckMonth` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '报表月份',
  `InsertTime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '数据写入时间',
  PRIMARY KEY (`Id`),
  KEY `NON-ProviderCode` (`ProviderCode`),
  KEY `NON-CheckMonth` (`CheckMonth`)
) ENGINE=InnoDB AUTO_INCREMENT=16 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='智能工单大屏_TOP3客户下单量趋势'</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>serviceinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 serviceinfo \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `serviceinfo` (
  `Id` int(11) NOT NULL AUTO_INCREMENT COMMENT '自增主键',
  `Name` varchar(50) DEFAULT NULL COMMENT '服务名称',
  `Code` varchar(20) DEFAULT NULL COMMENT '服务编号',
  `DynamicId` varchar(20) NOT NULL DEFAULT 'FA-' COMMENT '动态表单Id',
  PRIMARY KEY (`Id`,`DynamicId`)
) ENGINE=InnoDB AUTO_INCREMENT=14 DEFAULT CHARSET=utf8</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>basic_orgroleinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "ApiPermission": {
      "message": "\u5217 ApiPermission \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>vi_accessoryresource</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "ResourceClassName": {
      "message": "\u5217 ResourceClassName \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tb_afcsecondvisitinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tb_afcsecondvisitinfo \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tb_afcsecondvisitinfo` (
  `Id` varchar(12) NOT NULL COMMENT '主键(SV)',
  `WorkOrderId` varchar(20) DEFAULT NULL COMMENT '工单ID',
  `InitiatorCode` varchar(50) DEFAULT NULL COMMENT '发起人Code',
  `InitiatorName` varchar(100) DEFAULT NULL COMMENT '发起人Name',
  `InitiateTime` datetime DEFAULT NULL COMMENT '发起时间',
  `InitiateRemark` varchar(2000) DEFAULT NULL COMMENT '发起原因',
  `SubmitType` smallint(6) DEFAULT NULL COMMENT '二访保存状态（0保存，1提交）',
  `SubmitterCode` varchar(50) DEFAULT NULL COMMENT '提交人Code',
  `SubmitterName` varchar(100) DEFAULT NULL COMMENT '提交人Name',
  `SubmitStatus` smallint(6) DEFAULT '0' COMMENT '确认二访（0-无操作，1-确认，2-拒绝）',
  `SubmitTime` datetime DEFAULT NULL COMMENT '提交时间',
  `SubmitRemark` varchar(2000) DEFAULT NULL COMMENT '提交备注',
  `RejectReason` varchar(2000) DEFAULT NULL COMMENT '拒绝原因',
  `InsertTime` datetime DEFAULT CURRENT_TIMESTAMP,
  `Deleted` tinyint(4) DEFAULT '0',
  PRIMARY KEY (`Id`),
  KEY `NON-WorkOrderId` (`WorkOrderId`) USING BTREE,
  KEY `NON-InsertTime` (`InsertTime`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='金融二访信息'</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>tmp_chprporderid</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tmp_chprporderid \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tmp_chprporderid` (
  `WorkOrderId` varchar(12) NOT NULL,
  `WorkStatus` int(11) DEFAULT NULL,
  `BatchNo` varchar(50) DEFAULT NULL,
  `Result` int(11) DEFAULT NULL,
  `Remark` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`WorkOrderId`),
  KEY `WorkStatus` (`WorkStatus`) USING BTREE,
  KEY `Result` (`Result`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='充电桩明细表导出工单ID及批次（即用即删）_长期表'</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>rp_afcworkorderdetail</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "AccommodateSign": {
      "message": "\u5217 AccommodateSign \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "AdjustReimReturnDistance": {
      "message": "\u5217 AdjustReimReturnDistance \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "AdjustReimbursableDistance": {
      "type": {
        "source": "decimal(18,2)",
        "target": "varchar(500)"
      }
    },
    "AuditStatus": {
      "message": "\u5217 AuditStatus \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "FeeRemark": {
      "message": "\u5217 FeeRemark \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "FindWho": {
      "message": "\u5217 FindWho \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "OptimalReturnDistance": {
      "message": "\u5217 OptimalReturnDistance \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "OverdueGrade": {
      "message": "\u5217 OverdueGrade \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "ReturnCountReward": {
      "message": "\u5217 ReturnCountReward \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "ReturnPriceReward": {
      "message": "\u5217 ReturnPriceReward \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "SecondLinkMan": {
      "message": "\u5217 SecondLinkMan \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "SecondVisitStatus": {
      "message": "\u5217 SecondVisitStatus \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  },
  "constraints": {
    "NON-WorkOrderId": {
      "message": "\u7ea6\u675f NON-WorkOrderId \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  },
  "indexes": {
    "NON-WorkOrderId": {
      "message": "\u7d22\u5f15 NON-WorkOrderId \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>vi_workorderswitchdetail</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "ODeviceNumber": {
      "type": {
        "source": "varchar(100)",
        "target": "varchar(50)"
      }
    },
    "OSimNumber": {
      "type": {
        "source": "varchar(100)",
        "target": "varchar(50)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>workflowruntimedelegatedactors</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "Deleted": {
      "default": {
        "source": null,
        "target": "0"
      },
      "nullable": {
        "source": false,
        "target": true
      },
      "type": {
        "source": "bit(1)",
        "target": "smallint(6)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>slow1114</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 slow1114 \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `slow1114` (
  `api` varchar(255) DEFAULT NULL,
  `loginName` varchar(255) DEFAULT NULL,
  `name` varchar(255) DEFAULT NULL,
  `date` varchar(255) DEFAULT NULL,
  `count` varchar(255) DEFAULT NULL,
  `maxValue` varchar(255) DEFAULT NULL,
  `minValue` varchar(255) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>tm_resource</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tm_resource \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tm_resource` (
  `resourceid` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `appcode` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `workorderid` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `resourcename` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `URL` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  PRIMARY KEY (`resourceid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='临时存储工单编号20231220'</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>tmp_zhusuwei</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tmp_zhusuwei \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tmp_zhusuwei` (
  `省份` varchar(255) DEFAULT NULL,
  `父级` varchar(255) DEFAULT NULL,
  `城市` varchar(255) DEFAULT NULL,
  `汇总的` varchar(255) DEFAULT NULL,
  `城市等级` varchar(255) DEFAULT NULL,
  `职等信息` varchar(255) DEFAULT NULL,
  `金额` varchar(255) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tb_vhsworkorderinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "indexes": {
    "NON-CreatedAt": {
      "message": "\u7d22\u5f15 NON-CreatedAt \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>slow918</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 slow918 \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `slow918` (
  `api` varchar(1000) DEFAULT NULL,
  `loginName` varchar(50) DEFAULT NULL,
  `name` varchar(50) DEFAULT NULL,
  `count911` int(11) DEFAULT NULL,
  `count918` int(11) DEFAULT NULL,
  `countminus` int(11) DEFAULT NULL,
  `maxValue` int(11) DEFAULT NULL,
  `minValue` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tb_userdetail</h4>
                
                <div class="diff-details">
                    <pre>{
  "indexes": {
    "NON-AffiliatedInstitution": {
      "message": "\u7d22\u5f15 NON-AffiliatedInstitution \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tm_userinfo20210727</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tm_userinfo20210727 \u5728\u6e90\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_source"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>DROP TABLE IF EXISTS `tm_userinfo20210727`;</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>z_qianyi</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 z_qianyi \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `z_qianyi` (
  `table_name` varchar(200) NOT NULL,
  `table_comment` varchar(200) DEFAULT NULL,
  `rows` int(11) DEFAULT NULL,
  `remark` varchar(1000) DEFAULT NULL,
  PRIMARY KEY (`table_name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>tm_main</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tm_main \u5728\u6e90\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_source"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>DROP TABLE IF EXISTS `tm_main`;</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>vi_vhsworkedorderinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "ReturnState": {
      "type": {
        "source": "int(6)",
        "target": "smallint(6)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>slow1119</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 slow1119 \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `slow1119` (
  `api` varchar(255) DEFAULT NULL,
  `loginName` varchar(255) DEFAULT NULL,
  `name` varchar(255) DEFAULT NULL,
  `date` varchar(255) DEFAULT NULL,
  `count` varchar(255) DEFAULT NULL,
  `maxValue` varchar(255) DEFAULT NULL,
  `minValue` varchar(255) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>home_ordercount</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 home_ordercount \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `home_ordercount` (
  `Id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增主键',
  `ProviderCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '服务商编码',
  `ProCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '省份编码',
  `DateType` smallint(6) DEFAULT NULL COMMENT '时间类型(1上月2上周3昨日4今年)',
  `CreateCnt` int(11) NOT NULL DEFAULT '0' COMMENT '建单量',
  `FinishedCnt` int(11) NOT NULL DEFAULT '0' COMMENT '完单量',
  `FinishedRate` int(11) DEFAULT NULL COMMENT '完单率',
  `InsertTime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '数据写入时间',
  PRIMARY KEY (`Id`),
  KEY `NON-ProviderCode` (`ProviderCode`),
  KEY `NON-ProCode` (`ProCode`),
  KEY `NON-DateType` (`DateType`)
) ENGINE=InnoDB AUTO_INCREMENT=20649 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='智能工单大屏_服务网络_单据信息'</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tb_importlog</h4>
                
                <div class="diff-details">
                    <pre>{
  "indexes": {
    "NON-ImportCode": {
      "message": "\u7d22\u5f15 NON-ImportCode \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "NON-IsRead": {
      "message": "\u7d22\u5f15 NON-IsRead \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "NON-OrgCode": {
      "message": "\u7d22\u5f15 NON-OrgCode \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>workflowruntimeactors</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "Deleted": {
      "default": {
        "source": null,
        "target": "0"
      },
      "nullable": {
        "source": false,
        "target": true
      },
      "type": {
        "source": "bit(1)",
        "target": "smallint(6)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>tmp_workimp</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tmp_workimp \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tmp_workimp` (
  `ordertype` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `classname` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `appcode` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `custname` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `storename` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `settlename` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `brandname` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `proname` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `cityname` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `areaname` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `address` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `carusername` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `carusertel` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `installperson` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `compdate` date DEFAULT NULL,
  `submittime` datetime DEFAULT NULL COMMENT '工单提交时间'
) ENGINE=InnoDB DEFAULT CHARSET=utf8</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>columnss</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 columnss \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `columnss` (
  `columnsss` text
) ENGINE=InnoDB DEFAULT CHARSET=utf8</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>vi_workorderacceptinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "IsRelation": {
      "message": "\u5217 IsRelation \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>vi_riskworkorderinfo_other1</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "IsRelation": {
      "message": "\u5217 IsRelation \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tm_persons20250304</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tm_persons20250304 \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tm_persons20250304` (
  `LoginCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `RpDate` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `Company` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>tb_workaddressinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "indexes": {
    "NON-Address": {
      "message": "\u7d22\u5f15 NON-Address \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tb_workfeeinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "IsAddition": {
      "message": "\u5217 IsAddition \u5728\u6e90\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_source"
    }
  },
  "indexes": {
    "PrePaymentOrderNo": {
      "message": "\u7d22\u5f15 PrePaymentOrderNo \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>ALTER TABLE `tb_workfeeinfo` DROP COLUMN `IsAddition`;</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>vi_workresourceinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "FileSource": {
      "message": "\u5217 FileSource \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "ImageAddressUrl": {
      "message": "\u5217 ImageAddressUrl \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "ResourceClassName": {
      "message": "\u5217 ResourceClassName \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>workflowruntimesteps</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "Deleted": {
      "default": {
        "source": null,
        "target": "0"
      },
      "nullable": {
        "source": false,
        "target": true
      },
      "type": {
        "source": "bit(1)",
        "target": "smallint(6)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>vi_workorderfixdetail</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "ODeviceNumber": {
      "type": {
        "source": "varchar(100)",
        "target": "varchar(50)"
      }
    },
    "OSimNumber": {
      "type": {
        "source": "varchar(100)",
        "target": "varchar(50)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>vi_workingorderinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "IsRelation": {
      "message": "\u5217 IsRelation \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>vi_workorderlistforchp</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 vi_workorderlistforchp \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE ALGORITHM=MERGE DEFINER=`user_service`@`%` SQL SECURITY DEFINER VIEW `vi_workorderlistforchp` AS select `a`.`AppCode` AS `AppCode`,`k`.`TypeStatus` AS `TypeStatus`,`a`.`Id` AS `id`,`a`.`WorkStatus` AS `WorkStatus`,`fn_GetStatusNameByCode`(`a`.`WorkStatus`) AS `WorkStatusName`,`a`.`CreatedAt` AS `CreatedAt`,concat(ifnull(`f`.`v_chpCarUserName`,''),' ',ifnull(`f`.`v_chpCarUserTel`,''),if((ifnull(`f`.`v_chpCarModel`,'') = ''),'',concat(',',`f`.`v_chpCarModel`))) AS `chpCarInfo`,`f`.`v_chpCarUserName` AS `chpCarUserName`,`f`.`v_chpCarUserTel` AS `chpCarUserTel`,`f`.`v_chpCarVinNumber` AS `chpCarVinNumber`,`a`.`RequiredTime` AS `RequiredTime`,`a`.`ProCode` AS `ProCode`,`a`.`CityCode` AS `CityCode`,`a`.`AreaCode` AS `AreaCode`,concat(ifnull(`a`.`ProName`,''),ifnull(`a`.`CityName`,''),ifnull(`a`.`AreaName`,''),ifnull(`a`.`InstallAddress`,'')) AS `serviceaddress`,`a`.`OrderType` AS `OrderType`,`fn_GetOrderTypeByCode`(`a`.`OrderType`) AS `ordertypename`,`c`.`SurveyTime` AS `SurveyTime`,`a`.`CustomerName` AS `CustomerName`,`a`.`CustomerId` AS `CustomerId`,`a`.`CustStoreId` AS `CustStoreId`,`a`.`CustStoreName` AS `CustStoreName`,`a`.`CustSettleId` AS `CustSettleId`,`a`.`CustSettleName` AS `CustSettleName`,`d`.`CompleteTime` AS `CompleteTime`,`c`.`Surveycode` AS `Surveycode`,ifnull(`d`.`ServiceCode`,(select `a1`.`OperCode` from `tb_operatinginfo` `a1` where ((`a1`.`WorkOrderId` = `a`.`Id`) and (`a1`.`Deleted` = 0)) group by `a1`.`WorkOrderId` having (count(1) = 1))) AS `ServiceCode`,`d`.`ServiceCode` AS `installCode`,concat(ifnull(`a`.`LinkMan`,''),' ',ifnull(`a`.`LinkTel`,'')) AS `LinkInfo`,`a`.`LinkMan` AS `LinkMan`,`a`.`LinkTel` AS `LinkTel`,concat(ifnull(concat(`e`.`BrandName`,'/'),''),ifnull(`e`.`SaleName`,'')) AS `GoodsInfo`,`e`.`BrandName` AS `BrandName`,`e`.`SaleName` AS `ServiceGoodsName`,`g`.`SubjectNameSummary` AS `SubjectNameSummary`,ifnull(`d`.`ServiceName`,(select `a1`.`OperName` from `tb_operatinginfo` `a1` where ((`a1`.`WorkOrderId` = `a`.`Id`) and (`a1`.`Deleted` = 0)) group by `a1`.`WorkOrderId` having (count(1) = 1))) AS `ServiceName`,(select replace(concat(cast(`h`.`CreatedAt` as date),',',`h`.`OperatorName`,',',`fn_GetAppointStatusByCode`(`h`.`AppointStatus`),',',`h`.`ApplyReason`,ifnull(concat(',',`h`.`Remark`),''),'。',ifnull(concat('已撤回，',`ta`.`Remark`),'')),',。','。') from (`tb_appointment` `h` left join `tb_appointauditinfo` `ta` on(((`h`.`Id` = `ta`.`AppointId`) and (`ta`.`Deleted` = 0) and (`ta`.`AuditStatus` = 2)))) where ((`h`.`Deleted` = 0) and (`a`.`Id` = `h`.`WorkOrderId`)) order by `h`.`CreatedAt` desc limit 1) AS `AppointRemark`,`f`.`v_chpWXAddProgress` AS `chpWXAddProgress`,`f`.`v_chpFirstContactRole` AS `chpFirstContactRole`,(case `f`.`v_chpFirstContactRole` when 1 then '运营' when 2 then '服务人员' end) AS `chpFirstContactRoleName`,`a`.`ServiceProviderCode` AS `ServiceProviderCode`,`i`.`AppointStatus` AS `LastAppointStatus`,`f`.`v_chpSurveyInstallType` AS `chpSurveyInstallType`,`f`.`v_chpElectricityMetersType` AS `chpElectricityMetersType`,(select `a1`.`CreatedAt` from `tb_appointment` `a1` where ((`a1`.`WorkOrderId` = `a`.`Id`) and (`a1`.`AppointSource` in (1,3)) and (`a1`.`Deleted` = 0) and (`a1`.`AppointStatus` <> 5)) order by `a1`.`Id` limit 1) AS `LastAppointSubmmitTime`,`i`.`ApplyReason` AS `LastAppointApplyReason`,(select `a1`.`Remark` from `tb_appointment` `a1` where ((`a1`.`WorkOrderId` = `a`.`Id`) and (`a1`.`AppointSource` in (1,3)) and (`a1`.`Deleted` = 0) and (`a1`.`AppointStatus` <> 5)) order by `a1`.`Id` limit 1) AS `LastAppointRemark`,`f`.`v_chpNextFollowTime` AS `chpNextFollowTime`,`f1`.`v_EmployeeAttributes` AS `EmployeeAttributes`,`fn_GetRequestCloseById`(`a`.`Id`,1) AS `RequestCloseTime`,`fn_GetRequestCloseById`(`a`.`Id`,3) AS `RequestClosePerson`,`fn_GetRequestCloseById`(`a`.`Id`,4) AS `RequestCloseApplyReason`,`k`.`NodeCode` AS `CurrentNodeCode`,`a`.`Remark` AS `Remark`,concat(ifnull(concat(`e`.`BrandName`,'+'),''),convert(ifnull(json_unquote(json_extract(`e`.`ExtraJson`,'$.Power')),'') using utf8),convert(ifnull(concat(',',json_unquote(json_extract(`e`.`ExtraJson`,'$.PackageLength'))),'') using utf8),ifnull(concat(',',`e`.`v_ChargerType`),'')) AS `ServiceInfo`,json_unquote(json_extract(`f`.`BussinessJson`,'$.chpFirstContact.IsWithPile')) AS `IsWithPile`,(case `k`.`TypeStatus` when 1 then '请求关闭（客户审核）' when 2 then '请求关闭' when 3 then '等通知' else '' end) AS `closestatusname`,(select `w1`.`DoneAt` from `tb_workflowinfo` `w1` where ((`w1`.`WorkOrderId` = `a`.`Id`) and (`w1`.`Deleted` = 0) and (`w1`.`StepName` in ('提交结果（勘测）','提交结果（安装）','重新提交处理结果（勘测）','重新提交处理结果（安装）','提交结果','重新提交处理结果'))) order by `w1`.`Id` desc limit 1) AS `lastrecordtime`,(select group_concat(ifnull(`w1`.`Remark`,'') order by `w1`.`InsertTime` DESC separator ';') from `tb_workflowinfo` `w1` where ((`w1`.`NextStepName` in ('重新提交处理结果（安装）','重新提交处理结果（勘测）','重新提交处理结果')) and (`w1`.`WorkOrderId` = `a`.`Id`) and (`w1`.`Deleted` = 0) and (`w1`.`StepStatus` = 4)) group by `w1`.`WorkOrderId`) AS `AuditRejectRemark`,`c`.`LastAuditRejectRemark` AS `LastAuditRejectRemark`,NULL AS `AuditTime`,NULL AS `OperCode`,(select `wc`.`DoneAt` from `tb_workflowinfo` `wc` where ((`wc`.`StepName` in ('质检工单（安装）','质检工单')) and (`wc`.`WorkOrderId` = `a`.`Id`) and (`wc`.`StepStatus` = 1) and (`wc`.`Deleted` = 0)) limit 1) AS `AuditAcceptTime`,`i`.`ApplyReason` AS `LastApplyReason`,`k`.`ClosedAt` AS `ClosedAt`,`k`.`Remark` AS `CloseReasonName`,`e`.`v_ChargerType` AS `ChargerType`,`a`.`CreateType` AS `CreateType`,replace(replace(concat(ifnull(concat((case json_unquote(json_extract(`f`.`BussinessJson`,'$.chpWarrantyStatus')) when 0 then '保外' when 1 then '保内' end),','),''),ifnull(concat(json_unquote(json_extract(`f`.`BussinessJson`,'$.chpFaulttime')),','),''),ifnull(concat(json_unquote(json_extract(`f`.`BussinessJson`,'$.chpFaultClass')),','),''),ifnull(json_unquote(json_extract(`f`.`BussinessJson`,'$.chpSuggestedSolution')),'')),',,,',''),',,','') AS `FaultInfo`,`d`.`InstitutionCode` AS `InstitutionCode`,(select `a1`.`Name` from `basic_institutionalinfo` `a1` where ((`a1`.`Code` = convert(`d`.`InstitutionCode` using utf8mb4)) and (`a1`.`Deleted` = 0)) limit 1) AS `InstitutionName`,`f`.`v_chpOrderCompleteTime` AS `OrderCompleteTime`,if((json_unquote(json_extract(`f`.`BussinessJson`,'$.chpInstallConditionDate')) = 'null'),NULL,json_unquote(json_extract(`f`.`BussinessJson`,'$.chpInstallConditionDate'))) AS `chpInstallConditionDate`,json_unquote(json_extract(`f`.`BussinessJson`,'$.chpOrderSource')) AS `chpOrderSource`,if((ifnull(`f`.`v_chpCarModel`,'') = ''),ifnull(`a`.`Remark`,''),if((ifnull(`a`.`Remark`,'') = ''),`f`.`v_chpCarModel`,concat(`a`.`Remark`,',',`f`.`v_chpCarModel`))) AS `chpRemark` from (((((((((`tb_workorderinfo` `a` left join `tb_chpworkorderinfo` `c` on(((`a`.`Id` = `c`.`Id`) and (`c`.`Deleted` = 0)))) left join `tb_workserviceinfo` `d` on(((`a`.`Id` = `d`.`WorkOrderId`) and (`d`.`Deleted` = 0)))) left join `tb_workgoodsinfo` `e` on(((`a`.`Id` = `e`.`WorkOrderId`) and (`e`.`Deleted` = 0) and (`e`.`GoodsType` = 29)))) left join `tb_workbussinessjsoninfo` `f` on(((`a`.`Id` = `f`.`WorkOrderId`) and (`f`.`Deleted` = 0)))) left join `tb_worksubjectsummary` `g` on(((`a`.`Id` = `g`.`WorkOrderId`) and (`g`.`Deleted` = 0)))) left join `tb_appointmentconcat` `i` on(((`a`.`Id` = `i`.`WorkOrderId`) and (`i`.`Deleted` = 0)))) left join `tb_userinfo` `e1` on(((convert(`d`.`ServiceCode` using utf8mb4) = `e1`.`LoginName`) and (`e1`.`Deleted` = 0) and (`e1`.`TeamCode` = '10670001')))) left join `tb_userdetail` `f1` on((`e1`.`Id` = `f1`.`Id`))) left join `tb_workorderstatus` `k` on(((`a`.`Id` = `k`.`WorkOrderId`) and (`k`.`Deleted` = 0)))) where ((`a`.`Deleted` = 0) and (`a`.`ServiceProviderCode` = '1067'))</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>home_completebaseinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "indexes": {
    "NON-OrgCode": {
      "message": "\u7d22\u5f15 NON-OrgCode \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>tb_workflowrestartlog</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tb_workflowrestartlog \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tb_workflowrestartlog` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `WorkOrderId` varchar(15) DEFAULT NULL COMMENT '工单ID',
  `RestartType` int(11) DEFAULT NULL COMMENT '事件类型',
  `OrgCode` varchar(10) DEFAULT NULL COMMENT '服务商编码',
  `OrderType` varchar(20) DEFAULT NULL COMMENT '工单类型',
  `CreatedAt` datetime(3) DEFAULT NULL COMMENT '数据创建时间',
  `Num` int(11) DEFAULT '0' COMMENT '重试次数',
  `LastRestartTime` datetime(3) DEFAULT NULL COMMENT '上次重试时间',
  `OtherData` text COMMENT '附加数据',
  `Remark` text COMMENT '备注',
  PRIMARY KEY (`id`),
  KEY `WorkOrderId` (`WorkOrderId`),
  KEY `Num` (`Num`),
  KEY `CreatedAt` (`CreatedAt`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8 COMMENT='作流外挂接口执行失败重试日志'</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>home_orderdetaildaily</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 home_orderdetaildaily \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `home_orderdetaildaily` (
  `Id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '自增主键',
  `DetailType` smallint(6) DEFAULT NULL COMMENT '明细类型(1下单时间2首次接单时间3下单成功时间4首次提交结果时间\n5最后一次提交结果时间6首次质检时间7工单质检时间8质检驳回时间9首次质检即通过10工单完成时间11工单关闭时间)',
  `WorkOrderId` char(12) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '工单Id',
  `WorkStatus` smallint(6) DEFAULT NULL COMMENT '工单状态',
  `ProviderCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '服务供应商Code(serviceordercenter.basic_serviceprovider.code)',
  `OrderType` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '工单类型',
  `CustomerId` char(12) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '客户Id',
  `CustomerName` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '客户名称',
  `ProCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '省份Code',
  `ProName` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '省份名称',
  `CityCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '城市Code',
  `CityName` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '城市名称',
  `AreaCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '区域Code',
  `AreaName` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '区域名称',
  `ServiceId` varchar(36) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '服务人员Id',
  `ServiceCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '服务人员Code',
  `ServiceName` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '服务人员姓名',
  `DetailTime` datetime DEFAULT NULL COMMENT '明细事件时间',
  `CheckDate` varchar(10) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '查询日期',
  `InsertTime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '数据写入时间',
  PRIMARY KEY (`Id`),
  KEY `NON_ServiceCode` (`ServiceCode`),
  KEY `UNI-DetailWorkId` (`DetailType`,`WorkOrderId`),
  KEY `NON_AreaCode` (`AreaCode`),
  KEY `NON_ProCode` (`ProCode`),
  KEY `NON_ServiceId` (`ServiceId`),
  KEY `NON_DetailType` (`DetailType`),
  KEY `NON_ProviderCode` (`ProviderCode`),
  KEY `NON_WorkOrderId` (`WorkOrderId`),
  KEY `NON_CustomerName` (`CustomerName`),
  KEY `NON_CityCode` (`CityCode`),
  KEY `NON_OrderType` (`OrderType`),
  KEY `NON_CheckDate` (`CheckDate`),
  KEY `NON_DetailTime` (`DetailTime`),
  KEY `NON_CustomerId` (`CustomerId`)
) ENGINE=InnoDB AUTO_INCREMENT=107630197 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='智能工单大屏_基础数据_每日工单明细'</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tmp_chpresourcedetail</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tmp_chpresourcedetail \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tmp_chpresourcedetail` (
  `Id` bigint(20) NOT NULL AUTO_INCREMENT,
  `WorkOrderId` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `AppCode` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `CustomerName` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `BrandName` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `WorkStatus` int(11) DEFAULT NULL,
  `SourceType` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '附件类型',
  `FileName` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '文件名',
  `Url` varchar(2000) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '链接',
  `CreatedAt` datetime DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `WorkOrderId` (`WorkOrderId`)
) ENGINE=InnoDB AUTO_INCREMENT=1024 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='充电桩导出附件临时表'</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>changhe</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 changhe \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `changhe` (
  `结算单位` varchar(255) DEFAULT NULL,
  `结算属性` varchar(255) DEFAULT NULL,
  `商品名称` varchar(255) DEFAULT NULL,
  `类型` varchar(255) DEFAULT NULL,
  `商品属性` varchar(255) DEFAULT NULL,
  `下单方式` varchar(255) DEFAULT NULL,
  `是否关联保险` varchar(255) DEFAULT NULL,
  `商品价格` varchar(255) DEFAULT NULL,
  `建立时间` varchar(255) DEFAULT NULL,
  `下架时间` varchar(255) DEFAULT NULL,
  `产品名称` varchar(255) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>workflowcompleteitems</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "Deleted": {
      "default": {
        "source": null,
        "target": "0"
      },
      "nullable": {
        "source": false,
        "target": true
      },
      "type": {
        "source": "bit(1)",
        "target": "smallint(6)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>tmp_tablename2</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tmp_tablename2 \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tmp_tablename2` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `tablename` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=70 DEFAULT CHARSET=utf8</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>workflowruntimetimingmsgsends</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "Deleted": {
      "default": {
        "source": null,
        "target": "0"
      },
      "nullable": {
        "source": false,
        "target": true
      },
      "type": {
        "source": "bit(1)",
        "target": "smallint(6)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>workflowitems_bak</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 workflowitems_bak \u5728\u6e90\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_source"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>DROP TABLE IF EXISTS `workflowitems_bak`;</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>vi_userworkphoneinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 vi_userworkphoneinfo \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE ALGORITHM=MERGE DEFINER=`user_service`@`%` SQL SECURITY DEFINER VIEW `vi_userworkphoneinfo` AS select `a`.`Id` AS `PhoneInfoId`,`a`.`UserName` AS `UserName`,`a`.`LoginName` AS `LoginName`,`a`.`UserTel` AS `UserTel`,`a`.`DataStatus` AS `DataStatus`,`a`.`DataSource` AS `DataSource`,`a`.`DataType` AS `DataType`,`b`.`ConnectTime` AS `ConnectTime`,`b`.`ConnectType` AS `ConnectType`,`b`.`ConnectStatus` AS `ConnectStatus`,`b`.`ConnectInfo` AS `ConnectInfo`,`a`.`CustomerName` AS `CustomerName`,`b`.`CreatedAt` AS `CreatedAt`,`a`.`DateMatedAt` AS `DateMatedAt`,`a`.`CustomerTel` AS `CustomerTel`,`e2`.`WxCode` AS `CustomerWxCode`,`d`.`ProCode` AS `ProCode`,`d`.`CityCode` AS `CityCode`,`d`.`AreaCode` AS `AreaCode`,`a`.`UserRole` AS `UserRole`,`b`.`Url` AS `Url`,`b`.`DataInfo` AS `DataInfo`,`e1`.`WxCode` AS `UserWxCode`,`e2`.`WxName` AS `CustomerWxName`,`a`.`WxRelationType` AS `WxRelationType`,`a`.`FirstConnectTime` AS `FirstConnectTime`,`a`.`LastConnectTime` AS `LastConnectTime`,`b`.`RecordDay` AS `RecordDay`,`b`.`RecordTime` AS `RecordTime`,`a`.`UserWxId` AS `UserWxId`,`a`.`CustomerWxId` AS `CustomerWxId` from (((((`tb_userworkphoneinfo` `a` left join `tb_userworkphonedetail` `b` on(((`a`.`Id` = `b`.`PhoneInfoId`) and (`b`.`Deleted` = 0)))) left join `tb_userinfo` `c` on(((convert(`a`.`LoginName` using utf8mb4) = `c`.`LoginName`) and (`c`.`TeamCode` = '10020001') and (`c`.`Deleted` = 0)))) left join `tb_userdetail` `d` on((`c`.`Id` = `d`.`Id`))) left join `tb_wxuserinfo` `e1` on(((`a`.`UserWxId` = `e1`.`WxId`) and (`e1`.`Deleted` = 0) and (`a`.`DataSource` = `e1`.`DataSource`)))) left join `tb_wxuserinfo` `e2` on(((`a`.`CustomerWxId` = `e2`.`WxId`) and (`e2`.`Deleted` = 0) and (`a`.`DataSource` = `e2`.`DataSource`)))) where (`a`.`Deleted` = 0)</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>home_worktimetrend</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 home_worktimetrend \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `home_worktimetrend` (
  `Id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增主键',
  `ProviderCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '服务商编码',
  `WorkHour` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '工作时间段',
  `WorkDayCnt` int(11) NOT NULL DEFAULT '0' COMMENT '工作日完成数量',
  `WeekendCnt` int(11) NOT NULL DEFAULT '0' COMMENT '非工作日完成数量',
  `InsertTime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '数据写入时间',
  PRIMARY KEY (`Id`),
  KEY `NON-WorkHour` (`WorkHour`),
  KEY `NON_ProviderCode` (`ProviderCode`)
) ENGINE=InnoDB AUTO_INCREMENT=128 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='智能工单大屏_近1周作业结束时间段分布'</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>workflownodecommentactors_bak</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 workflownodecommentactors_bak \u5728\u6e90\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_source"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>DROP TABLE IF EXISTS `workflownodecommentactors_bak`;</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>rp_afcreceiverecordinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 rp_afcreceiverecordinfo \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `rp_afcreceiverecordinfo` (
  `Id` bigint(20) NOT NULL AUTO_INCREMENT,
  `RelateId` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT 'RelateId',
  `WorkOrderId` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `BatchNo` varchar(36) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `AppCode` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `WorkStatus` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `CustomerName` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `ContractNumber` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `LinkMan` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `UserProName` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `OverdueDays` int(11) DEFAULT NULL,
  `OverdueGrade` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `CaseDate` date DEFAULT NULL,
  `RetreatDate` date DEFAULT NULL,
  `ReceiveDate` date DEFAULT NULL,
  `ReceivePrice` decimal(20,2) DEFAULT NULL,
  `ReceiveIssue` int(11) DEFAULT NULL,
  `ReceiveStatus` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `ReceiveStatusRemark` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `PersonAssess` varchar(10) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `ProAssess` varchar(10) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `Grade` varchar(10) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `ProName` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `ServiceName` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `ServiceCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `RegistrationDate` datetime DEFAULT NULL,
  `AddRemark1` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `AddRemark2` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `ReceiveAmounts` decimal(18,2) DEFAULT NULL,
  `ReturnedType` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `ReturnedType2` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `ApprovalStatus` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `EntryAmount` decimal(18,2) DEFAULT NULL,
  `IfReport` tinyint(1) DEFAULT NULL,
  `PresentName` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `ApprovalTime` datetime DEFAULT NULL,
  `AuditTime` datetime DEFAULT NULL,
  `SubjectNameSummary` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `WorkOrderId` (`WorkOrderId`) USING BTREE,
  KEY `BatchNo` (`BatchNo`) USING BTREE,
  KEY `RelateId` (`RelateId`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=8222 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='金融回款登记明细表-测试'</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>vi_chpworkorderdetail_test</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 vi_chpworkorderdetail_test \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE ALGORITHM=MERGE DEFINER=`user_service`@`%` SQL SECURITY DEFINER VIEW `vi_chpworkorderdetail_test` AS select `a`.`Id` AS `WorkOrderId`,`a`.`AppCode` AS `AppCode`,`fn_GetOrderTypeByCode`(`a`.`OrderType`) AS `OrderType`,`b`.`SubjectNameSummary` AS `SubjectNameSummary`,`a`.`CustomerName` AS `CustomerName`,`a`.`CustStoreName` AS `CustStoreName`,`a`.`CustSettleName` AS `CustSettleName`,`a`.`LinkMan` AS `LinkMan`,`a`.`LinkTel` AS `LinkTel`,`a`.`ProName` AS `ProName`,`a`.`CityName` AS `CityName`,`a`.`AreaName` AS `AreaName`,`a`.`InstallAddress` AS `InstallAddress`,`a`.`Remark` AS `Remark`,(case `c`.`v_chpFirstContactRole` when 1 then '运营' when 2 then '服务人员' end) AS `FirstConcatRole`,`c`.`v_chpCarUserName` AS `chpCarUserName`,`c`.`v_chpCarUserTel` AS `chpCarUserTel`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpCarVinNumber')) AS `chpCarVinNumber`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpFirstContact.IsWithPile')) AS `IsWithPile`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpSurveyInfo.IsSelfBuiltHouse')) AS `IsSelfBuiltHouse`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpSurveyInfo.CarParkin')) AS `CarParkin`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpSurveyInfo.ProtectionBox')) AS `ProtectionBox`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpSurveyInfo.InstallType')) AS `InstallType`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpSurveyInfo.GetElectricityType')) AS `GetElectricityType`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpSurveyInfo.Schedule')) AS `Schedule`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpSurveyInfo.ElectricityMetersType')) AS `ElectricityMetersType`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpSurveyInfo.PowerPointLocation')) AS `PowerPointLocation`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpFirstContact.WechatNumber')) AS `WechatNumber`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpWXAddProgress')) AS `chpWXAddProgress`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpFirstContact.Remark')) AS `FirstContactRemark`,`fn_GetStatusNameByCode`(`a`.`WorkStatus`) AS `WorkStatusName`,(select `a1`.`OperName` from `tb_operatinginfo` `a1` where ((`a1`.`WorkOrderId` = `a`.`Id`) and (`a1`.`Deleted` = 0)) group by `a1`.`WorkOrderId` having (count(1) = 1)) AS `CurrentPerson`,(select max(`b1`.`DoneAt`) from (`workflowruntimeitems` `a1` join `workflowruntimesteps` `b1`) where ((`a1`.`Id` = `b1`.`RuntimeItemId`) and (`a1`.`Deleted` = 0) and (`b1`.`Deleted` = 0) and (`b1`.`Name` = '开始') and (`b1`.`DoneAt` is not null) and (`a`.`Id` = `a1`.`TargetEntityId`)) group by `a1`.`TargetEntityId`) AS `SubmmitTime`,`a`.`RequiredTime` AS `RequiredTime`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpNextFollowTime')) AS `chpNextFollowTime`,(select (case `tb_appointment`.`AppointStatus` when 0 then '' when 1 then '改约' when 2 then '等通知' when 3 then '请求关闭/冻结' when 4 then '客服异常反馈记录' when 5 then '请求关闭（客户审核）' when 6 then '需再次上门' when 7 then '智能改约' when 8 then '改约' when 9 then '等通知' when 10 then '请求关闭' when 11 then '跟进记录' end) from `tb_appointment` where ((`tb_appointment`.`WorkOrderId` = `a`.`Id`) and (`tb_appointment`.`AppointSource` in (1,3)) and (`tb_appointment`.`Deleted` = 0) and (`tb_appointment`.`AppointStatus` in (3,11))) order by `tb_appointment`.`CreatedAt` desc limit 1) AS `LastAppointStatus`,`fn_GetLastFailAppointConcat`(`a`.`Id`) AS `LastFailAppointConcat`,(select group_concat(concat(convert(if((`tb_appointment`.`CreatedAt` is not null),concat('记录提交时间：',`tb_appointment`.`CreatedAt`,'；'),'') using utf8),if(((`tb_appointment`.`ApplyReason` is null) and (`tb_appointment`.`FailText` is null)),'',concat('申请原因：',concat(ifnull(`tb_appointment`.`ApplyReason`,''),ifnull(`tb_appointment`.`FailText`,'')),'；')),if((`tb_appointment`.`Remark` is not null),concat('描述：',`tb_appointment`.`Remark`,'；'),''),convert(if((`tb_appointment`.`NextContactTime` is not null),concat('下次联系时间：',`tb_appointment`.`NextContactTime`,'；'),'') using utf8)) order by `tb_appointment`.`CreatedAt` DESC separator '\r\n') from `tb_appointment` where ((`tb_appointment`.`Deleted` = 0) and (`tb_appointment`.`WorkOrderId` = `a`.`Id`)) group by `tb_appointment`.`WorkOrderId`) AS `AllFailAppointConcat`,`d`.`SurveyTime` AS `SurveyTime`,`e`.`CompleteTime` AS `CompleteTime`,(select `w1`.`ClosedAt` from `tb_workorderstatus` `w1` where ((`a`.`Id` = `w1`.`WorkOrderId`) and (`w1`.`Deleted` = 0))) AS `ClosedAt`,(select group_concat(ifnull(`w1`.`Remark`,'') order by `w1`.`InsertTime` DESC separator ';') from `tb_workflowinfo` `w1` where ((`w1`.`NextStepName` in ('质检驳回（安装）','质检驳回（勘测）')) and (`w1`.`WorkOrderId` = `a`.`Id`) and (`w1`.`Deleted` = 0) and (`w1`.`StepStatus` = 4)) group by `w1`.`WorkOrderId`) AS `AuditRejectRemark`,(select count(1) from `tb_workflowinfo` `w1` where ((`w1`.`NextStepName` in ('质检驳回（安装）','质检驳回（勘测）')) and (`w1`.`WorkOrderId` = `a`.`Id`) and (`w1`.`Deleted` = 0) and (`w1`.`StepStatus` = 4)) group by `w1`.`WorkOrderId`) AS `AuditRejectNum`,(select `w1`.`DoneAt` from `tb_workflowinfo` `w1` where ((`w1`.`StepName` = '质检工单（安装）') and (`w1`.`WorkOrderId` = `a`.`Id`) and (`w1`.`Deleted` = 0) and (`w1`.`StepStatus` = 1)) order by `w1`.`InsertTime` desc limit 1) AS `AuditTime`,(case when (`g2`.`Id` is not null) then '是' else '否' end) AS `IsAddition`,json_unquote(json_extract(`gg`.`ExtraJson`,'$.SettleRoad')) AS `AdditionFeeSettleRoad`,`f1`.`PayTypeName` AS `AdditionFeePayTypeName`,(select `r2`.`Remark` from `tb_remarkinfo` `r2` where ((`r2`.`Type` = 13) and (`r2`.`WorkOrderId` = `a`.`Id`) and (`r2`.`Deleted` = 0))) AS `AdditionFeeChangeRemark`,json_unquote(json_extract(`g2`.`ExtraJson`,'$.AdditionFeeDetail')) AS `AdditionFeeDetail`,`g2`.`Price` AS `AdditionFeePrice`,(case `g2`.`PaySource` when 1 then '扫码支付' when 2 then '线下转账' when 3 then '银行转账' end) AS `AdditionFeePaySource`,`g2`.`OfflinePayer` AS `AdditionFeeOfflinePayer`,`g2`.`PayTime` AS `AdditionFeePayTime`,`gg`.`SaleName` AS `ServiceGoodsName`,`gg`.`GoodsPrice` AS `ServiceGoodsPrice`,json_unquote(json_extract(`gg`.`ExtraJson`,'$.Power')) AS `Power`,json_unquote(json_extract(`gg`.`ExtraJson`,'$.FirstPartySettleLength')) AS `FirstPartySettleLength`,json_unquote(json_extract(`gg`.`ExtraJson`,'$.PackageLength')) AS `PackageLength`,`gg`.`BrandName` AS `BrandName`,json_unquote(json_extract(`gg`.`ExtraJson`,'$.chpBrandInfoURL')) AS `chpBrandInfoURL`,json_unquote(json_extract(`gg`.`ExtraJson`,'$.ProjectWarrantyPeriod')) AS `ProjectWarrantyPeriod`,`d`.`SurveyName` AS `SurveyName`,`d`.`Surveycode` AS `Surveycode`,`e`.`ServiceName` AS `InstallName`,`e`.`ServiceCode` AS `InstallCode`,`d`.`Distance` AS `Distance`,(select `f1`.`v_EmployeeAttributes` from (`tb_userinfo` `e1` left join `tb_userdetail` `f1` on((`e1`.`Id` = `f1`.`Id`))) where ((convert(`e`.`ServiceCode` using utf8mb4) = `e1`.`LoginName`) and (`e1`.`Deleted` = 0) and (`e1`.`TeamCode` = '10670001')) limit 1) AS `EmployeeAttributes`,(case `d`.`SurveyMethod` when 1 then '单独上门勘测' when 2 then '视频等远程勘测' when 3 then '勘测+安装一起完成' end) AS `SurveyMethod`,`d`.`IndividualReason` AS `IndividualReason`,(case `d`.`SurveyResult` when 1 then '是' when 0 then '否' end) AS `SurveyResult`,`d`.`ResultReason` AS `ResultReason`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpSurveyInfo.Remark')) AS `SurveyRemark`,(case `g`.`Seller` when 0 then '中瑞' when 1 then '非中瑞' end) AS `Seller`,`g`.`GoodsName` AS `GoodsName`,`h`.`MaterialPrice` AS `MaterialPrice`,(case `g`.`GoodsSource` when 0 then '分仓货品' when 1 then '批发货品' end) AS `GoodsSource`,(case when (`g`.`Seller` = 0) then `h`.`MaterialNo` end) AS `MaterialNo`,json_unquote(json_extract(`g`.`ExtraJson`,'$.ChargerType')) AS `MaterialType`,(case when (`g`.`Seller` = 1) then `h`.`MaterialName` end) AS `EscrowMaterialType`,(case when (`g`.`Seller` = 1) then `h`.`MaterialNo` end) AS `EscrowMaterialNo`,json_unquote(json_extract(`g`.`ExtraJson`,'$.PileWarrantyPeriod')) AS `PileWarrantyPeriod`,`h`.`WarehouseName` AS `WarehouseName`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpIsSelfWiring')) AS `chpIsSelfWiring`,replace(concat(json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008497'))),'$.DeliveryMethod')),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008497'))),'$.NotUsed')) = 1),'未使用',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008497'))),'$.ActualUsage'))),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008497'))),'$.NotUsed')) = 1),'',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008497'))),'$.Brand')) = '其他'),concat(json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008497'))),'$.Brand')),':',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008497'))),'$.BrandRemark'))),json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008497'))),'$.Brand')))),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008497'))),'$.NotUsed')) = 1),'',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008497'))),'$.Specifications')))),'||','') AS `HardWire`,replace(concat(json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008498'))),'$.DeliveryMethod')),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008498'))),'$.NotUsed')) = 1),'未使用',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008498'))),'$.ActualUsage'))),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008498'))),'$.NotUsed')) = 1),'',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008498'))),'$.Brand')) = '其他'),concat(json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008498'))),'$.Brand')),':',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008498'))),'$.BrandRemark'))),json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008498'))),'$.Brand')))),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008498'))),'$.NotUsed')) = 1),'',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008498'))),'$.Specifications')))),'||','') AS `FlexibleCord`,replace(concat(json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008502'))),'$.DeliveryMethod')),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008502'))),'$.NotUsed')) = 1),'未使用',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008502'))),'$.ActualUsage'))),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008502'))),'$.NotUsed')) = 1),'',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008502'))),'$.Brand')) = '其他'),concat(json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008502'))),'$.Brand')),':',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008502'))),'$.BrandRemark'))),json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008502'))),'$.Brand')))),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008502'))),'$.NotUsed')) = 1),'',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008502'))),'$.Specifications')))),'||','') AS `Drivepipe`,replace(concat(json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008500'))),'$.DeliveryMethod')),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008500'))),'$.NotUsed')) = 1),'未使用',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008500'))),'$.ActualUsage'))),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008500'))),'$.NotUsed')) = 1),'',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008500'))),'$.Brand')) = '其他'),concat(json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008500'))),'$.Brand')),':',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008500'))),'$.BrandRemark'))),json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008500'))),'$.Brand')))),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008500'))),'$.NotUsed')) = 1),'',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008500'))),'$.Specifications')))),'||','') AS `LeakageInsurance`,replace(concat(json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008501'))),'$.DeliveryMethod')),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008501'))),'$.NotUsed')) = 1),'未使用',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008501'))),'$.ActualUsage'))),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008501'))),'$.NotUsed')) = 1),'',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008501'))),'$.Brand')) = '其他'),concat(json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008501'))),'$.Brand')),':',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008501'))),'$.BrandRemark'))),json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008501'))),'$.Brand')))),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008501'))),'$.NotUsed')) = 1),'',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008501'))),'$.Specifications')))),'||','') AS `AirSwitchBox`,replace(concat(json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008499'))),'$.DeliveryMethod')),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008499'))),'$.NotUsed')) = 1),'未使用',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008499'))),'$.ActualUsage'))),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008499'))),'$.NotUsed')) = 1),'',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008499'))),'$.Brand')) = '其他'),concat(json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008499'))),'$.Brand')),':',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008499'))),'$.BrandRemark'))),json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008499'))),'$.Brand')))),'|',if((json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008499'))),'$.NotUsed')) = 1),'',json_unquote(json_extract(json_extract(json_extract(`c`.`BussinessJson`,'$.chpAccessories'),json_unquote(json_search(json_extract(`c`.`BussinessJson`,'$.chpAccessories[*].AccessoriesTypeCode'),'one','LM00008499'))),'$.Specifications')))),'||','') AS `ChargingPileColumn`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpInstallRemark')) AS `chpInstallRemark`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpNextFollow')) AS `chpNextFollow`,`a`.`CreatedAt` AS `CreatedAt` from (((((((((`tb_workorderinfo` `a` left join `tb_worksubjectsummary` `b` on(((`a`.`Id` = `b`.`WorkOrderId`) and (`b`.`Deleted` = 0)))) left join `tb_workbussinessjsoninfo` `c` on(((`a`.`Id` = `c`.`WorkOrderId`) and (`c`.`Deleted` = 0)))) left join `tb_chpworkorderinfo` `d` on(((`a`.`Id` = `d`.`Id`) and (`d`.`Deleted` = 0)))) left join `tb_workserviceinfo` `e` on(((`a`.`Id` = `e`.`WorkOrderId`) and (`e`.`Deleted` = 0)))) left join `tb_workfeeinfo` `f1` on(((`a`.`Id` = `f1`.`WorkOrderId`) and (`f1`.`Deleted` = 0)))) left join `tb_workfeeitem` `g2` on(((`f1`.`Id` = `g2`.`FeeInfoId`) and (`g2`.`FeePurpose` = '增项费用') and (`g2`.`Deleted` = 0)))) left join `tb_workgoodsinfo` `g` on(((`a`.`Id` = `g`.`WorkOrderId`) and (`g`.`Deleted` = 0) and (`g`.`GoodsType` = 0)))) left join `tb_workgoodsinfo` `gg` on(((`a`.`Id` = `gg`.`WorkOrderId`) and (`gg`.`Deleted` = 0) and (`gg`.`GoodsType` = 29)))) left join `tb_workgoodsdetail` `h` on(((`g`.`Id` = `h`.`WorkGoodsId`) and (`h`.`Deleted` = 0) and (`h`.`MaterialTypeCode` like '0101%')))) where ((`a`.`Deleted` = 0) and (`a`.`ServiceProviderCode` = '1067'))</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>tb_workflowinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "Remark": {
      "type": {
        "source": "varchar(500)",
        "target": "varchar(200)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>tb_userclockininfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tb_userclockininfo \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tb_userclockininfo` (
  `Id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '自增主键',
  `LoginName` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '用户登录名',
  `UserCenterId` char(36) DEFAULT NULL COMMENT '用户Id',
  `UserName` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '用户姓名',
  `UserWorkStatus` int(11) DEFAULT NULL COMMENT '员工工作状态（0休息中 1工作中）',
  `ChangeType` int(11) DEFAULT NULL COMMENT '工作状态切换方式（0自动 1手动）',
  `IsAutomatic` int(11) DEFAULT NULL COMMENT '是否自动下班打卡（0否 1是）',
  `WorkTimeJson` json DEFAULT NULL COMMENT '工作时间Json',
  `InsertTime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `Deleted` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`Id`) USING BTREE,
  KEY `NON-LoginName` (`LoginName`) USING BTREE,
  KEY `NON-UserWorkStatus` (`UserWorkStatus`) USING BTREE,
  KEY `NON-IsAutomatic` (`IsAutomatic`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=2168 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC COMMENT='员工打卡设置信息表'</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>tb_afcpaymentreport</h4>
                
                <div class="diff-details">
                    <pre>{
  "indexes": {
    "NON-CreatedAt": {
      "message": "\u7d22\u5f15 NON-CreatedAt \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tb_feeapplicationinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "ApplyFee": {
      "message": "\u5217 ApplyFee \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "ApplyPersonCode": {
      "message": "\u5217 ApplyPersonCode \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "ApplyPersonName": {
      "message": "\u5217 ApplyPersonName \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "ApplyReason": {
      "type": {
        "source": "varchar(300)",
        "target": "varchar(100)"
      }
    },
    "ApplyWorkStatus": {
      "message": "\u5217 ApplyWorkStatus \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "AuditRemark": {
      "type": {
        "source": "varchar(200)",
        "target": "varchar(100)"
      }
    },
    "DynamicFormJson": {
      "message": "\u5217 DynamicFormJson \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "FeeGroupCode": {
      "message": "\u5217 FeeGroupCode \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "LastAuditPersonCode": {
      "message": "\u5217 LastAuditPersonCode \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "LastAuditPersonName": {
      "message": "\u5217 LastAuditPersonName \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "LastAuditTime": {
      "message": "\u5217 LastAuditTime \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "OriginalPayeeCode": {
      "message": "\u5217 OriginalPayeeCode \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "OriginalPayeeName": {
      "message": "\u5217 OriginalPayeeName \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "PayeeCode": {
      "message": "\u5217 PayeeCode \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "PayeeName": {
      "message": "\u5217 PayeeName \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "RuleActionLogId": {
      "message": "\u5217 RuleActionLogId \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "SubsidyLoginName": {
      "message": "\u5217 SubsidyLoginName \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "SubsidyName": {
      "message": "\u5217 SubsidyName \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "SubsidyRemark": {
      "message": "\u5217 SubsidyRemark \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "SubsidyStatus": {
      "message": "\u5217 SubsidyStatus \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "SubsidyTime": {
      "message": "\u5217 SubsidyTime \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "v_SettleMethod": {
      "message": "\u5217 v_SettleMethod \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  },
  "indexes": {
    "FeeGroupCode": {
      "message": "\u7d22\u5f15 FeeGroupCode \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "NON-ApplyPersonCode": {
      "message": "\u7d22\u5f15 NON-ApplyPersonCode \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "NON-AuditStatus": {
      "message": "\u7d22\u5f15 NON-AuditStatus \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "NON-LastAuditPersonCode": {
      "message": "\u7d22\u5f15 NON-LastAuditPersonCode \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "NON-LastAuditTime": {
      "message": "\u7d22\u5f15 NON-LastAuditTime \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "NON-PayeeCode": {
      "message": "\u7d22\u5f15 NON-PayeeCode \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "NON-RuleActionLogId": {
      "message": "\u7d22\u5f15 NON-RuleActionLogId \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "NON-SubsidyStatus": {
      "message": "\u7d22\u5f15 NON-SubsidyStatus \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "SettleMethod": {
      "message": "\u7d22\u5f15 SettleMethod \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "SubsidyTime": {
      "message": "\u7d22\u5f15 SubsidyTime \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>vi_workorderrecheckdetailforexport</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 vi_workorderrecheckdetailforexport \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE ALGORITHM=MERGE DEFINER=`user_service`@`%` SQL SECURITY DEFINER VIEW `vi_workorderrecheckdetailforexport` AS select `a`.`Id` AS `Id`,`a`.`WorkOrderId` AS `WorkOrderId`,`b`.`AppCode` AS `AppCode`,`b`.`CustomerId` AS `CustomerId`,`b`.`CustomerName` AS `CustomerName`,`b`.`CustStoreId` AS `CustStoreId`,`b`.`CustStoreName` AS `CustStoreName`,`b`.`CustStoreCode` AS `CustStoreCode`,`b`.`CustSettleId` AS `CustSettleId`,`b`.`CustSettleName` AS `CustSettleName`,`b`.`ProCode` AS `ProCode`,`b`.`ProName` AS `ProName`,`b`.`CityCode` AS `CityCode`,`b`.`CityName` AS `CityName`,`b`.`AreaCode` AS `AreaCode`,`b`.`AreaName` AS `AreaName`,concat(`b`.`ProName`,`b`.`CityName`,`b`.`AreaName`,`b`.`InstallAddress`) AS `InstallAddress`,`c`.`UserName` AS `UserName`,`c`.`UserTel` AS `UserTel`,`c`.`VinNumber` AS `VinNumber`,`c`.`PlateNumber` AS `PlateNumber`,`c`.`CarFullName` AS `CarFullName`,`c`.`Color` AS `Color`,`c`.`CarType` AS `CarType`,if((`e`.`ServiceType` = 6),1,0) AS `IsCentralize`,if((json_unquote(json_extract(`f`.`BussinessJson`,'$.PostFillWorkOrder')) = 1),'是','否') AS `IsRepair`,json_unquote(json_extract(`f`.`BussinessJson`,'$.ActualRecordPersonInfo.ActualRecordPersonCode')) AS `ActualRecordPersonCode`,json_unquote(json_extract(`f`.`BussinessJson`,'$.ActualRecordPersonInfo.ActualRecordPersonName')) AS `ActualRecordPersonName`,ifnull(`e`.`WorkerCode`,`e`.`ServiceCode`) AS `ActualServiceCode`,ifnull(`e`.`WorkerName`,`e`.`ServiceName`) AS `ActualServiceName`,`e`.`ServiceCode` AS `ServiceCode`,`e`.`ServiceName` AS `ServiceName`,`b`.`Remark` AS `Remark`,`e`.`Remark` AS `RecordRemark`,`b`.`CreatedAt` AS `CreatedAt`,`d`.`CompleteTime` AS `CompleteTime`,`fn_GetAFCPassAuditTimeById`(`a`.`WorkOrderId`) AS `PassAuditTime`,`a`.`RecheckStatus` AS `RecheckStatus`,(case `a`.`RecheckStatus` when 0 then '复检不通过' when 1 then '复检通过' when 2 then '待复检' end) AS `RecheckStatusName`,`a`.`RecheckPersonCode` AS `RecheckPersonCode`,`a`.`RecheckPersonName` AS `RecheckPersonName`,`a`.`RecheckPassTime` AS `RecheckPassTime`,`a`.`FirstRecheckTime` AS `FirstRecheckTime` from (((((`tb_workorderrecheckinfo` `a` left join `tb_workorderinfo` `b` on(((`a`.`WorkOrderId` = `b`.`Id`) and (`b`.`Deleted` = 0)))) left join `tb_workcarinfo` `c` on(((`a`.`WorkOrderId` = `c`.`WorkOrderId`) and (`c`.`Deleted` = 0)))) left join `tb_recordinfo` `d` on(((`a`.`WorkOrderId` = `d`.`WorkOrderId`) and (`d`.`Deleted` = 0)))) left join `tb_workserviceinfo` `e` on(((`a`.`WorkOrderId` = `e`.`WorkOrderId`) and (`e`.`Deleted` = 0)))) left join `tb_workbussinessjsoninfo` `f` on((`a`.`WorkOrderId` = `f`.`WorkOrderId`))) where (`a`.`Deleted` = 0)</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>tb_afcworkorderinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "AdjustReimReturnDistance": {
      "message": "\u5217 AdjustReimReturnDistance \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "CustomerBriefName": {
      "message": "\u5217 CustomerBriefName \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "OptimalReturnDistance": {
      "message": "\u5217 OptimalReturnDistance \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>tmp_chprpappcode</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tmp_chprpappcode \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tmp_chprpappcode` (
  `AppCode` varchar(100) NOT NULL,
  `WorkStatus` int(11) DEFAULT NULL,
  `BatchNo` varchar(50) DEFAULT NULL,
  `Result` int(11) DEFAULT NULL,
  `Remark` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`AppCode`),
  KEY `AppCode` (`AppCode`),
  KEY `WorkStatus` (`WorkStatus`),
  KEY `BatchNo` (`BatchNo`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='充电桩明细表导出APPCODE及批次（即用即删）_长期表'</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tmp_cxhis</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tmp_cxhis \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tmp_cxhis` (
  `Id` bigint(20) NOT NULL AUTO_INCREMENT,
  `TableName` varchar(100) DEFAULT NULL,
  `OldPrefix` varchar(20) DEFAULT NULL,
  `KeyPrefix` varchar(20) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `1` (`TableName`)
) ENGINE=InnoDB AUTO_INCREMENT=81 DEFAULT CHARSET=utf8 COMMENT='长享历史数据迁移临时表'</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>vi_vhsworkingorderinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "AdmissibilityStatus": {
      "message": "\u5217 AdmissibilityStatus \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "ReturnState": {
      "type": {
        "source": "int(6)",
        "target": "smallint(6)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tb_workorderinvoicelog</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tb_workorderinvoicelog \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tb_workorderinvoicelog` (
  `Id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '自增主键',
  `WorkOrderId` varchar(12) DEFAULT NULL COMMENT '工单ID',
  `ApplyPhone` varchar(50) DEFAULT NULL COMMENT '申请电话号码',
  `Result` int(11) DEFAULT NULL COMMENT '申请结果（0-申请中，1-申请成功，2-申请失败）',
  `Remark` varchar(200) DEFAULT NULL COMMENT '申请结果备注',
  `CreatedById` varchar(36) DEFAULT NULL COMMENT '申请操作人ID',
  `CreatedAt` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '申请时间',
  `Deleted` tinyint(4) NOT NULL DEFAULT '0',
  PRIMARY KEY (`Id`),
  KEY `NON-WorkOrderId` (`WorkOrderId`) USING BTREE,
  KEY `NON-CreatedAt` (`CreatedAt`) USING BTREE,
  KEY `NON-Result` (`Result`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=1526 DEFAULT CHARSET=utf8 COMMENT='工单发票申请日志表'</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>vi_workorderinstalldetail</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "DeviceNumber": {
      "type": {
        "source": "varchar(100)",
        "target": "varchar(50)"
      }
    },
    "SimNumber": {
      "type": {
        "source": "varchar(100)",
        "target": "varchar(50)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>tmp</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tmp \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tmp` (
  `A` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>home_ordercreatetrend</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 home_ordercreatetrend \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `home_ordercreatetrend` (
  `Id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增主键',
  `ProviderCode` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '服务商编码',
  `OrderType` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '工单类型',
  `CreateCnt` int(11) NOT NULL DEFAULT '0' COMMENT '建单量',
  `CheckYear` varchar(10) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '报表年份',
  `CheckMonth` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '报表月份',
  `InsertTime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '数据写入时间',
  PRIMARY KEY (`Id`),
  KEY `NON_CheckYear` (`CheckYear`),
  KEY `NON-ProviderCode` (`ProviderCode`),
  KEY `NON-OrderType` (`OrderType`),
  KEY `NON-CheckMonth` (`CheckMonth`)
) ENGINE=InnoDB AUTO_INCREMENT=1832 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='智能工单大屏_下单量趋势'</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>workflowruntimesubscribemsgs</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "Deleted": {
      "default": {
        "source": null,
        "target": "0"
      },
      "nullable": {
        "source": false,
        "target": true
      },
      "type": {
        "source": "bit(1)",
        "target": "smallint(6)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>tb_userfeedetail</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tb_userfeedetail \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tb_userfeedetail` (
  `Id` varchar(12) NOT NULL COMMENT '主键（UF）',
  `UserInfoId` varchar(12) DEFAULT NULL COMMENT 'tb_userinfo.id',
  `LoginName` varchar(20) DEFAULT NULL COMMENT '用户账号',
  `FeeGroupCode` varchar(50) DEFAULT NULL COMMENT '费用标准组code',
  `FeeItemId` varchar(12) DEFAULT NULL COMMENT '费用项目ID（tb_feeiteminfo.id）',
  `ServiceSubjectCode` varchar(50) DEFAULT NULL COMMENT '服务科目code(tb_servicesubject.code)',
  `RuleJson` json DEFAULT NULL COMMENT '条件JSON',
  `Price` decimal(10,2) DEFAULT '0.00' COMMENT '标准费用/分佣比例',
  `EffectDate` date DEFAULT NULL COMMENT '生效日期',
  `EffectStatus` smallint(6) DEFAULT NULL COMMENT '生效状态（0-待生效，1-已生效，2-已过期）',
  `IfShow` smallint(6) DEFAULT NULL COMMENT '是否展示（0-不展示，1-展示）',
  `CreatedById` varchar(36) DEFAULT NULL,
  `CreatedAt` datetime DEFAULT CURRENT_TIMESTAMP,
  `UpdatedById` varchar(36) DEFAULT NULL,
  `UpdatedAt` datetime DEFAULT NULL,
  `DeletedById` varchar(36) DEFAULT NULL,
  `DeletedAt` datetime DEFAULT NULL,
  `Deleted` smallint(6) DEFAULT '0',
  `v_Power` decimal(18,1) GENERATED ALWAYS AS (if((json_unquote(json_extract(`RuleJson`,_utf8mb4'$.Power')) = _utf8mb4'null'),NULL,json_unquote(json_extract(`RuleJson`,_utf8mb4'$.Power')))) VIRTUAL COMMENT '(CHP)功率',
  `v_CustomerName` varchar(100) GENERATED ALWAYS AS (if((json_unquote(json_extract(`RuleJson`,_utf8mb4'$.CustomerName')) = _utf8mb4'null'),NULL,json_unquote(json_extract(`RuleJson`,_utf8mb4'$.CustomerName')))) VIRTUAL COMMENT '(CHP)客户名称',
  `v_CustomerId` varchar(50) GENERATED ALWAYS AS (if((json_unquote(json_extract(`RuleJson`,_utf8mb4'$.CustomerId')) = _utf8mb4'null'),NULL,json_unquote(json_extract(`RuleJson`,_utf8mb4'$.CustomerId')))) VIRTUAL COMMENT '(CHP)客户姓名',
  `v_Line` varchar(50) GENERATED ALWAYS AS (if((json_unquote(json_extract(`RuleJson`,_utf8mb4'$.Line')) = _utf8mb4'null'),NULL,json_unquote(json_extract(`RuleJson`,_utf8mb4'$.Line')))) VIRTUAL COMMENT '(CHP)线缆（米）',
  `v_BrandCode` varchar(50) GENERATED ALWAYS AS (if((json_unquote(json_extract(`RuleJson`,_utf8mb4'$.BrandCode')) = _utf8mb4'null'),NULL,json_unquote(json_extract(`RuleJson`,_utf8mb4'$.BrandCode')))) VIRTUAL COMMENT '(CHP)品牌标准code',
  PRIMARY KEY (`Id`),
  KEY `NON-UserInfoId` (`UserInfoId`) USING BTREE,
  KEY `NON-LoginName` (`LoginName`) USING BTREE,
  KEY `NON-FeeItemId` (`FeeItemId`) USING BTREE,
  KEY `NON-ServiceSubjectCode` (`ServiceSubjectCode`) USING BTREE,
  KEY `NON-EffectDate` (`EffectDate`) USING BTREE,
  KEY `NON-FeeGroupCode` (`FeeGroupCode`) USING BTREE,
  KEY `NON-IfShow` (`IfShow`) USING BTREE,
  KEY `NON-v_CustomerName` (`v_CustomerName`),
  KEY `NON-v_CustomerId` (`v_CustomerId`),
  KEY `NON-v_Line` (`v_Line`),
  KEY `NON-v_BrandCode` (`v_BrandCode`),
  KEY `NON-v_Power` (`v_Power`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='充电桩团队管理人员费用信息表'</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>workflowcompletesteps</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "Deleted": {
      "default": {
        "source": null,
        "target": "0"
      },
      "nullable": {
        "source": false,
        "target": true
      },
      "type": {
        "source": "bit(1)",
        "target": "smallint(6)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>workflowcompleteattachments</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "Deleted": {
      "default": {
        "source": null,
        "target": "0"
      },
      "nullable": {
        "source": false,
        "target": true
      },
      "type": {
        "source": "bit(1)",
        "target": "smallint(6)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>basic_subjectclass</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 basic_subjectclass \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `basic_subjectclass` (
  `Id` char(12) NOT NULL COMMENT '主键(SS)',
  `TenantId` char(12) DEFAULT NULL COMMENT '租户Id',
  `ClassCode` varchar(50) DEFAULT NULL COMMENT '科目编码',
  `ClassName` varchar(100) DEFAULT NULL COMMENT '科目名称',
  `CreatedById` varchar(36) DEFAULT NULL COMMENT '创建人Id',
  `CreatedAt` timestamp(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3) COMMENT '创建时间',
  `UpdatedById` varchar(36) DEFAULT NULL COMMENT '更新人Id',
  `UpdatedAt` timestamp(3) NOT NULL DEFAULT '0000-00-00 00:00:00.000' COMMENT '更新时间',
  `DeletedById` varchar(36) DEFAULT NULL COMMENT '删除人',
  `DeletedAt` timestamp(3) NOT NULL DEFAULT '0000-00-00 00:00:00.000' COMMENT '删除时间',
  `Deleted` tinyint(4) DEFAULT '0' COMMENT '是否删除(0否1是)',
  PRIMARY KEY (`Id`),
  KEY `NON-ClassCode` (`ClassCode`),
  KEY `NON-TenantId` (`TenantId`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='基础信息域_服务科目分类'</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>basic_userroleinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "indexes": {
    "NON-UserCenterId": {
      "message": "\u7d22\u5f15 NON-UserCenterId \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "NON-UserCenterId\nSELECT * FROM tb_whchangelog": {
      "message": "\u7d22\u5f15 NON-UserCenterId\nSELECT * FROM tb_whchangelog \u5728\u6e90\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_source"
    }
  }
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>ALTER TABLE `basic_userroleinfo` DROP INDEX `NON-UserCenterId
SELECT * FROM tb_whchangelog`;</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tb_afcworkfinanceinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "EntrustAmount": {
      "message": "\u5217 EntrustAmount \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "PaymentPeriod": {
      "type": {
        "source": "varchar(100)",
        "target": "int(11)"
      }
    },
    "Performance": {
      "message": "\u5217 Performance \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tmp_workimp_mid</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tmp_workimp_mid \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tmp_workimp_mid` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `workorderid` varchar(12) DEFAULT NULL,
  `ordertype` varchar(200) DEFAULT NULL,
  `SubjectCodeSummary` varchar(200) DEFAULT NULL,
  `SubjectNameSummary` varchar(200) DEFAULT NULL,
  `SubjectNum` int(11) DEFAULT NULL,
  `appcode` varchar(200) DEFAULT NULL,
  `custname` varchar(200) DEFAULT NULL,
  `customerid` varchar(200) DEFAULT NULL,
  `CustStoreId` varchar(200) DEFAULT NULL,
  `storename` varchar(200) DEFAULT NULL,
  `CustStoreCode` varchar(200) DEFAULT NULL,
  `CustSettleId` varchar(200) DEFAULT NULL,
  `settlename` varchar(200) DEFAULT NULL,
  `brandname` varchar(200) DEFAULT NULL,
  `procode` varchar(200) DEFAULT NULL,
  `proname` varchar(200) DEFAULT NULL,
  `citycode` varchar(200) DEFAULT NULL,
  `cityname` varchar(200) DEFAULT NULL,
  `areacode` varchar(200) DEFAULT NULL,
  `areaname` varchar(200) DEFAULT NULL,
  `address` varchar(200) DEFAULT NULL,
  `carusername` varchar(200) DEFAULT NULL,
  `carusertel` varchar(200) DEFAULT NULL,
  `installperson` varchar(200) DEFAULT NULL,
  `loginname` varchar(200) DEFAULT NULL,
  `usercenterid` varchar(200) DEFAULT NULL,
  `compdate` date DEFAULT NULL,
  `submittime` datetime DEFAULT NULL,
  `rownum` varchar(10) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=8192 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>tb_workresourceinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "ComparisonResults": {
      "message": "\u5217 ComparisonResults \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "ImageAddressUrl": {
      "message": "\u5217 ImageAddressUrl \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "ResourceClassName": {
      "message": "\u5217 ResourceClassName \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "ResourceCode": {
      "message": "\u5217 ResourceCode \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  },
  "indexes": {
    "NON-ComparisonResults": {
      "message": "\u7d22\u5f15 NON-ComparisonResults \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>tmp_csgroup</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tmp_csgroup \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tmp_csgroup` (
  `code` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>de_tb_merchant20231129094137713</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 de_tb_merchant20231129094137713 \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `de_tb_merchant20231129094137713` (
  `Id` varchar(36) NOT NULL,
  `name` varchar(50) DEFAULT NULL,
  `code` varchar(20) DEFAULT NULL,
  PRIMARY KEY (`Id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='商户信息主表'</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>aggregatedcounter</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 aggregatedcounter \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `aggregatedcounter` (
  `Id` int(11) NOT NULL AUTO_INCREMENT,
  `Key` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `Value` int(11) NOT NULL,
  `ExpireAt` datetime DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `IX_CounterAggregated_Key` (`Key`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>de_xichashiti20220523150128431</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 de_xichashiti20220523150128431 \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `de_xichashiti20220523150128431` (
  `Id` varchar(36) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `x1` varchar(10) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT 'dataText',
  PRIMARY KEY (`Id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='喜茶实体'</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>vi_tireworkorderinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 vi_tireworkorderinfo \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE ALGORITHM=UNDEFINED DEFINER=`user_service`@`%` SQL SECURITY DEFINER VIEW `vi_tireworkorderinfo` AS select `a`.`Id` AS `id`,`a`.`AppCode` AS `appcode`,`a`.`OrderType` AS `ordertype`,`fn_GetOrderTypeByCode`(`a`.`OrderType`) AS `ordertypename`,if((`c`.`TypeStatus` = 1),'（待关闭）','') AS `statustypename`,`a`.`WorkStatus` AS `workstatus`,ifnull(convert(`fn_getstatusnamebycode`(`a`.`WorkStatus`) using utf8mb4),'无') AS `workstatusname`,`fn_GetWorkPayStatus`(`a`.`Id`) AS `paystatus`,`c`.`TypeStatus` AS `typestatus`,(case `c`.`TypeStatus` when 1 then '请求关闭（客户审核）' when 2 then '请求关闭' when 3 then '等通知' else '' end) AS `closestatusname`,`c`.`CloseReasonName` AS `CloseReasonName`,`f`.`SubjectCodeSummary` AS `subjectcode`,`f`.`SubjectNameSummary` AS `subjectname`,`f`.`SubjectNameSummary` AS `SubjectNameSummary`,ifnull(`a`.`RequiredTime`,`a`.`InstallTime`) AS `requiredtime`,`a`.`CustomerId` AS `customerid`,`a`.`CustomerName` AS `customername`,`a`.`ProCode` AS `procode`,`a`.`ProName` AS `proname`,`a`.`CityCode` AS `citycode`,`a`.`CityName` AS `cityname`,`a`.`AreaCode` AS `areacode`,`a`.`AreaName` AS `areaname`,`a`.`InstallAddress` AS `installaddress`,concat(ifnull(`a`.`ProName`,''),ifnull(`a`.`CityName`,''),ifnull(`a`.`AreaName`,'')) AS `addressfullname`,concat(ifnull(`a`.`ProName`,''),ifnull(`a`.`CityName`,''),ifnull(`a`.`AreaName`,''),ifnull(`a`.`InstallAddress`,'')) AS `serviceaddress`,`a`.`LinkMan` AS `linkman`,`a`.`LinkTel` AS `linktel`,`a`.`Remark` AS `remark`,`a`.`CreatePersonCode` AS `createpersoncode`,`a`.`CreatePersonName` AS `createpersonname`,`a`.`ServiceProviderCode` AS `serviceprovidercode`,`a`.`CreatedAt` AS `createdat`,`e`.`ServiceCode` AS `servicecode`,`e`.`ServiceName` AS `servicename`,(select `g`.`DoneAt` from `tb_workflowinfo` `g` where ((`a`.`Id` = `g`.`WorkOrderId`) and (`g`.`Deleted` = 0) and (`g`.`StepName` = '质检') and (`g`.`StepStatus` = 1)) order by `g`.`DoneAt` desc limit 1) AS `auditaccepttime`,(select `g`.`OperCode` from `tb_workflowinfo` `g` where ((`a`.`Id` = `g`.`WorkOrderId`) and (`g`.`Deleted` = 0) and (`g`.`StepName` = '质检') and (`g`.`StepStatus` = 1)) order by `g`.`DoneAt` desc limit 1) AS `auditacceptcode`,(select `g`.`OperName` from `tb_workflowinfo` `g` where ((`a`.`Id` = `g`.`WorkOrderId`) and (`g`.`Deleted` = 0) and (`g`.`StepName` = '质检') and (`g`.`StepStatus` = 1)) order by `g`.`DoneAt` desc limit 1) AS `auditacceptname`,`fn_GetWorkFlowTimeInfo`(`a`.`Id`,'结束') AS `ordercompletetime`,`c`.`ClosedAt` AS `closedat`,`c`.`ClosePersonCode` AS `closepersoncode`,`c`.`ClosePersonName` AS `closepersonname`,`fn_GetRequestCloseById`(`a`.`Id`,1) AS `requestclosetime`,`fn_GetRequestCloseById`(`a`.`Id`,2) AS `requestclosecode`,`fn_GetRequestCloseById`(`a`.`Id`,3) AS `requestclosename`,`fn_GetDispatchRecordTimeById`(`a`.`Id`,1) AS `firstdistributetime`,`fn_GetDispatchRecordTimeById`(`a`.`Id`,2) AS `lastdistributetime`,`fn_GetDispatchRecordTimeById`(`a`.`Id`,3) AS `firstdispatchercode`,`fn_GetDispatchRecordTimeById`(`a`.`Id`,4) AS `firstdispatchername`,`fn_GetDispatchRecordTimeById`(`a`.`Id`,5) AS `dispatchercode`,`fn_GetDispatchRecordTimeById`(`a`.`Id`,6) AS `dispatchername`,`i`.`CompleteTime` AS `completetime`,`fn_GetDispatchRecordTimeById`(`a`.`Id`,8) AS `lastrecordtime`,`c`.`AuditStatus` AS `AuditStatus`,`c`.`NodeCode` AS `CurrentNodeCode`,`fn_GetLastFailAppointReasonById`(`a`.`Id`) AS `appointreason`,`fn_GetLastAppointReasonById`(`a`.`Id`) AS `appointremark`,`d`.`v_DynIsHelpers` AS `DynIsHelpers`,`d`.`v_DynVinNumber` AS `DynVinNumber`,json_unquote(json_extract(`d`.`BussinessJson`,'$.DynFormInfo.DynPlateNumber')) AS `DynPlateNumber`,json_unquote(json_extract(`d`.`BussinessJson`,'$.DynFormInfo.DynUserName')) AS `DynUserName`,`a`.`CustStoreId` AS `CustStoreId`,`a`.`CustStoreCode` AS `CustStoreCode`,`a`.`CustStoreName` AS `CustStoreName`,`a`.`CustSettleId` AS `CustSettleId`,`a`.`CustSettleName` AS `CustSettleName`,`d`.`v_tirePlateNumber` AS `PlateNumber`,`j`.`SaleName` AS `SaleName`,concat(`a`.`LinkMan`,' ',`a`.`LinkTel`) AS `LinkInfo` from (((((((`tb_workorderinfo` `a` left join `tb_workorderstatus` `c` on(((`c`.`WorkOrderId` = `a`.`Id`) and (`c`.`Deleted` = 0)))) left join `tb_workbussinessjsoninfo` `d` on(((`d`.`WorkOrderId` = `a`.`Id`) and (`d`.`Deleted` = 0)))) left join `tb_workserviceinfo` `e` on(((`a`.`Id` = `e`.`WorkOrderId`) and (`e`.`Deleted` = 0)))) left join `tb_worksubjectsummary` `f` on(((`a`.`Id` = `f`.`WorkOrderId`) and (`f`.`Deleted` = 0)))) left join `tb_workflowinfo` `g` on(((`a`.`Id` = `g`.`WorkOrderId`) and (`g`.`Deleted` = 0) and (`g`.`StepName` = '质检') and (`g`.`StepStatus` = 1)))) left join `tb_recordinfo` `i` on(((`a`.`Id` = `i`.`WorkOrderId`) and (`i`.`Deleted` = 0)))) left join `tb_workgoodsinfo` `j` on(((`a`.`Id` = `j`.`WorkOrderId`) and (`j`.`Deleted` = 0)))) where ((`a`.`Deleted` = 0) and (`a`.`ServiceProviderCode` = 1089))</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>tm_userinfoa20210727</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tm_userinfoa20210727 \u5728\u6e90\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_source"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>DROP TABLE IF EXISTS `tm_userinfoa20210727`;</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>tb_abnormalorder_log</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "LastUpdatedTimestamp": {
      "message": "\u5217 LastUpdatedTimestamp \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "MessageRemindJson": {
      "message": "\u5217 MessageRemindJson \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  },
  "indexes": {
    "LastUpdatedTimestamp": {
      "message": "\u7d22\u5f15 LastUpdatedTimestamp \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tb_workgoodsdetail</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "MaterialNo": {
      "type": {
        "source": "varchar(100)",
        "target": "varchar(50)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>tb_feeauditlog</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tb_feeauditlog \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tb_feeauditlog` (
  `Id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '自增主键',
  `FeeApplicationId` varchar(12) DEFAULT NULL COMMENT '申请单ID(tb_feeapplicationinfo.id)',
  `PersonCode` char(12) DEFAULT NULL COMMENT '操作人Code',
  `PersonName` varchar(100) DEFAULT NULL COMMENT '操作人Name',
  `OperationType` varchar(20) DEFAULT NULL COMMENT '操作类型',
  `Result` varchar(20) DEFAULT NULL COMMENT '审核结果',
  `Remark` varchar(200) DEFAULT NULL COMMENT '备注',
  `InsertTime` datetime DEFAULT NULL,
  `Deleted` tinyint(4) NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `NON-FeeApplicationId` (`FeeApplicationId`) USING BTREE,
  KEY `NON-InsertTime` (`InsertTime`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=3647 DEFAULT CHARSET=utf8 COMMENT='通用域_费用申请审批日志'</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tb_afcfeedetail</h4>
                
                <div class="diff-details">
                    <pre>{
  "indexes": {
    "NON-WorkOrderId-PriceTypeCode": {
      "message": "\u7d22\u5f15 NON-WorkOrderId-PriceTypeCode \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>tb_workorderrecheckinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tb_workorderrecheckinfo \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tb_workorderrecheckinfo` (
  `Id` bigint(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `WorkOrderId` char(12) DEFAULT NULL COMMENT '工单Id',
  `RecheckStatus` smallint(6) DEFAULT NULL COMMENT '复检状态：0.复检不通过；1.复检通过；2.待复检；',
  `RecheckContent` varchar(100) DEFAULT NULL COMMENT '复检不通过原因',
  `RecheckPersonCode` varchar(50) DEFAULT NULL COMMENT '复检人账号',
  `RecheckPersonName` varchar(50) DEFAULT NULL COMMENT '复检人名称',
  `FirstRecheckTime` datetime DEFAULT NULL COMMENT '首次复检时间',
  `RecheckPassTime` datetime DEFAULT NULL COMMENT '复检通过时间',
  `CreatedById` char(36) DEFAULT NULL,
  `CreatedAt` datetime DEFAULT NULL,
  `UpdatedById` char(36) DEFAULT NULL,
  `UpdatedAt` datetime DEFAULT NULL,
  `DeletedById` char(36) DEFAULT NULL,
  `DeletedAt` datetime DEFAULT NULL,
  `Deleted` smallint(6) DEFAULT '0',
  PRIMARY KEY (`Id`),
  KEY `NON-WorkOrderId` (`WorkOrderId`) USING BTREE,
  KEY `NON-RecheckPassTime` (`RecheckPassTime`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=47 DEFAULT CHARSET=utf8 COMMENT='业务域_复检工单信息表'</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>tb_workserviceinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "InstitutionCode": {
      "type": {
        "source": "varchar(200)",
        "target": "varchar(20)"
      }
    },
    "WorkerCode": {
      "message": "\u5217 WorkerCode \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "WorkerId": {
      "message": "\u5217 WorkerId \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "WorkerName": {
      "message": "\u5217 WorkerName \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  },
  "indexes": {
    "NON-InstitutionCode": {
      "message": "\u7d22\u5f15 NON-InstitutionCode \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    },
    "NON-WorkerCode": {
      "message": "\u7d22\u5f15 NON-WorkerCode \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>workflowcompleteactors</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "Deleted": {
      "default": {
        "source": null,
        "target": "0"
      },
      "nullable": {
        "source": false,
        "target": true
      },
      "type": {
        "source": "bit(1)",
        "target": "smallint(6)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tmp_cxhisorderid</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tmp_cxhisorderid \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tmp_cxhisorderid` (
  `Id` varchar(20) NOT NULL,
  PRIMARY KEY (`Id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='长享历史数据工单Id'</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
            
            
            
            <div class="diff-item">
                <h4>workflowcompleteactivities</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "Deleted": {
      "default": {
        "source": null,
        "target": "0"
      },
      "nullable": {
        "source": false,
        "target": true
      },
      "type": {
        "source": "bit(1)",
        "target": "smallint(6)"
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tb_workorderinfo_test</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tb_workorderinfo_test \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE TABLE `tb_workorderinfo_test` (
  `Id` varchar(36) NOT NULL COMMENT '主键(WI)',
  `AppCode` varchar(50) DEFAULT NULL COMMENT '申请编码',
  `SourceType` smallint(6) DEFAULT NULL COMMENT '工单来源(0工单下单1智车品2客户接口3LCRM下单4OCRM下单5平安私有云6金融SAAS推送7车务推送)',
  `OrderType` varchar(50) DEFAULT NULL COMMENT '工单类型(sys_ordertypeinfo.Code)',
  `CreateType` smallint(6) DEFAULT NULL COMMENT '工单建单方式(来源二级分类)(1批量导入)',
  `ServiceProviderCode` varchar(50) DEFAULT NULL COMMENT '服务供应商Code',
  `WorkStatus` smallint(6) DEFAULT NULL COMMENT '工单状态(basic_workflowstatus.WorkStatus)',
  `CustomerId` char(12) DEFAULT NULL COMMENT '客户Id',
  `CustomerName` varchar(100) DEFAULT NULL COMMENT '客户名称',
  `CustStoreId` char(12) DEFAULT NULL COMMENT '门店Id',
  `CustStoreName` varchar(100) DEFAULT NULL COMMENT '门店名称',
  `CustStoreCode` varchar(50) DEFAULT NULL COMMENT '门店Code',
  `PreCustStoreId` char(12) DEFAULT NULL COMMENT '客户接口下单门店Id',
  `PreCustStoreName` varchar(100) DEFAULT NULL COMMENT '客户接口下单门店名称',
  `CustSettleId` char(12) DEFAULT NULL COMMENT '结算单位Id',
  `CustSettleName` varchar(100) DEFAULT NULL COMMENT '结算单位名称',
  `IsCustomer` tinyint(1) NOT NULL COMMENT '是否为客户(0否1是)',
  `CustCoopType` smallint(6) DEFAULT NULL COMMENT '客户是否有合作商品(1中瑞2非中瑞3中瑞+非中瑞)',
  `ProCode` varchar(10) DEFAULT NULL COMMENT '省份Code',
  `ProName` varchar(50) DEFAULT NULL COMMENT '省份名称',
  `CityCode` varchar(10) DEFAULT NULL COMMENT '城市Code',
  `CityName` varchar(50) DEFAULT NULL COMMENT '城市名称',
  `AreaCode` varchar(20) DEFAULT NULL COMMENT '地区Code',
  `AreaName` varchar(50) DEFAULT NULL COMMENT '地区名称',
  `InstallAddress` varchar(200) DEFAULT NULL COMMENT '加装地址',
  `InstallTime` datetime DEFAULT NULL COMMENT '加装时间',
  `RequiredTime` datetime DEFAULT NULL COMMENT '要求时间',
  `LinkMan` varchar(50) DEFAULT NULL COMMENT '联系人姓名',
  `LinkTel` varchar(20) DEFAULT NULL COMMENT '联系电话',
  `SecondLinkTel` varchar(20) DEFAULT NULL COMMENT '第二联系电话',
  `SecondLinkMan` varchar(50) DEFAULT NULL COMMENT '第二联系人',
  `WarehouseId` char(12) DEFAULT NULL COMMENT '发货一级仓Id',
  `WarehouseName` varchar(100) DEFAULT NULL COMMENT '发货一级仓名称',
  `Remark` varchar(500) DEFAULT NULL COMMENT '客户备注',
  `IsUrgent` tinyint(1) NOT NULL DEFAULT '0' COMMENT '检修工单是否紧急(0否1是)',
  `CustUniqueSign` varchar(50) DEFAULT NULL COMMENT '客户唯一标识',
  `CreatePersonCode` varchar(50) DEFAULT NULL COMMENT '建单人Code',
  `CreatePersonName` varchar(50) DEFAULT NULL COMMENT '建单人姓名',
  `EffectiveTime` datetime DEFAULT NULL COMMENT '工单生效时间',
  `EffectiveSuccessfulTime` datetime DEFAULT NULL COMMENT '下单成功生效时间',
  `CreatedById` char(36) DEFAULT NULL,
  `CreatedAt` datetime DEFAULT NULL,
  `UpdatedById` char(36) DEFAULT NULL,
  `UpdatedAt` datetime DEFAULT NULL,
  `DeletedById` char(36) DEFAULT NULL,
  `DeletedAt` datetime DEFAULT NULL,
  `Deleted` tinyint(1) NOT NULL DEFAULT '0',
  `LastUpdateTimeStamp` bigint(20) DEFAULT (unix_timestamp(now(3))) COMMENT '最近更新时间',
  `LastUpdateTimeStamp1` timestamp(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3) COMMENT '最近更新时间',
  PRIMARY KEY (`Id`),
  KEY `LastUpdateTimeStamp1` (`LastUpdateTimeStamp1`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='工单信息表'</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>vi_workedorderinfo</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "IsRelation": {
      "message": "\u5217 IsRelation \u5728\u76ee\u6807\u8868\u4e2d\u4e0d\u5b58\u5728",
      "type": "missing_in_target"
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tmp_canaltest3</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 tmp_canaltest3 \u5728\u6e90\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_source"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>DROP TABLE IF EXISTS `tmp_canaltest3`;</pre>
                </div>
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>tb_appointment</h4>
                
                <div class="diff-details">
                    <pre>{
  "columns": {
    "Deleted": {
      "nullable": {
        "source": false,
        "target": true
      }
    }
  }
}</pre>
                </div>
                
                
            </div>
            
            
            
            <div class="diff-item">
                <h4>workflowhandlingstatus_bak</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 workflowhandlingstatus_bak \u5728\u6e90\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_source"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>DROP TABLE IF EXISTS `workflowhandlingstatus_bak`;</pre>
                </div>
                
            </div>
            
            
            
            
            
            <div class="diff-item">
                <h4>vi_chpworkorderdetail</h4>
                
                <div class="diff-details">
                    <pre>{
  "message": "\u8868 vi_chpworkorderdetail \u5728\u76ee\u6807\u6570\u636e\u5e93\u4e2d\u4e0d\u5b58\u5728",
  "type": "missing_in_target"
}</pre>
                </div>
                
                
                <h4>变更SQL:</h4>
                <div class="sql-code">
                    <pre>CREATE ALGORITHM=MERGE DEFINER=`user_service`@`%` SQL SECURITY DEFINER VIEW `vi_chpworkorderdetail` AS select `a`.`Id` AS `WorkOrderId`,`a`.`AppCode` AS `AppCode`,`fn_GetOrderTypeByCode`(`a`.`OrderType`) AS `OrderType`,`b`.`SubjectNameSummary` AS `SubjectNameSummary`,`a`.`CustomerName` AS `CustomerName`,`a`.`CustStoreName` AS `CustStoreName`,`a`.`CustSettleName` AS `CustSettleName`,`a`.`LinkMan` AS `LinkMan`,`a`.`LinkTel` AS `LinkTel`,`a`.`ProName` AS `ProName`,`a`.`CityName` AS `CityName`,`a`.`AreaName` AS `AreaName`,`a`.`InstallAddress` AS `InstallAddress`,`a`.`Remark` AS `Remark`,(case `c`.`v_chpFirstContactRole` when 1 then '运营' when 2 then '服务人员' end) AS `FirstConcatRole`,`c`.`v_chpCarUserName` AS `chpCarUserName`,`c`.`v_chpCarUserTel` AS `chpCarUserTel`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpCarVinNumber')) AS `chpCarVinNumber`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpFirstContact.IsWithPile')) AS `IsWithPile`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpSurveyInfo.IsSelfBuiltHouse')) AS `IsSelfBuiltHouse`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpSurveyInfo.CarParkin')) AS `CarParkin`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpSurveyInfo.ProtectionBox')) AS `ProtectionBox`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpSurveyInfo.InstallType')) AS `InstallType`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpSurveyInfo.GetElectricityType')) AS `GetElectricityType`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpSurveyInfo.Schedule')) AS `Schedule`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpSurveyInfo.ElectricityMetersType')) AS `ElectricityMetersType`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpSurveyInfo.PowerPointLocation')) AS `PowerPointLocation`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpFirstContact.WechatNumber')) AS `WechatNumber`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpWXAddProgress')) AS `chpWXAddProgress`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpFirstContact.Remark')) AS `FirstContactRemark`,`fn_GetStatusNameByCode`(`a`.`WorkStatus`) AS `WorkStatusName`,(select `a1`.`OperName` from `tb_operatinginfo` `a1` where ((`a1`.`WorkOrderId` = `a`.`Id`) and (`a1`.`Deleted` = 0)) group by `a1`.`WorkOrderId` having (count(1) = 1)) AS `CurrentPerson`,(select `a1`.`OperCode` from `tb_operatinginfo` `a1` where ((`a1`.`WorkOrderId` = `a`.`Id`) and (`a1`.`Deleted` = 0)) group by `a1`.`WorkOrderId` having (count(1) = 1)) AS `CurrentPersonCode`,(select max(`b1`.`DoneAt`) from (`workflowruntimeitems` `a1` join `workflowruntimesteps` `b1`) where ((`a1`.`Id` = `b1`.`RuntimeItemId`) and (`a1`.`Deleted` = 0) and (`b1`.`Deleted` = 0) and (`b1`.`Name` = '开始') and (`b1`.`DoneAt` is not null) and (`a`.`Id` = `a1`.`TargetEntityId`)) group by `a1`.`TargetEntityId`) AS `SubmmitTime`,`a`.`RequiredTime` AS `RequiredTime`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpNextFollowTime')) AS `chpNextFollowTime`,(select (case `tb_appointment`.`AppointStatus` when 0 then '' when 1 then '改约' when 2 then '等通知' when 3 then '请求关闭' when 4 then '客服异常反馈记录' when 5 then '请求关闭（客户审核）' when 6 then '需再次上门' when 7 then '智能改约' when 8 then '改约' when 9 then '等通知' when 10 then '请求关闭' when 11 then '跟进记录' end) from `tb_appointment` where ((`tb_appointment`.`WorkOrderId` = `a`.`Id`) and (`tb_appointment`.`AppointSource` in (1,3)) and (`tb_appointment`.`Deleted` = 0) and (`tb_appointment`.`AppointStatus` in (3,11))) order by `tb_appointment`.`CreatedAt` desc limit 1) AS `LastAppointStatus`,(select concat(convert(if((`tb_appointment`.`CreatedAt` is not null),concat('记录提交时间：',`tb_appointment`.`CreatedAt`,'；'),'') using utf8),if(((`tb_appointment`.`ApplyReason` is null) and (`tb_appointment`.`FailText` is null)),'',concat('申请原因：',ifnull(`tb_appointment`.`ApplyReason`,''),'；')),if((`tb_appointment`.`Remark` is not null),concat('描述：',`tb_appointment`.`Remark`,'；'),''),convert(if((`tb_appointment`.`NextContactTime` is not null),concat('下次联系时间：',`tb_appointment`.`NextContactTime`,'；'),'') using utf8)) from `tb_appointment` where ((`tb_appointment`.`WorkOrderId` = `a`.`Id`) and (`tb_appointment`.`Deleted` = 0)) order by `tb_appointment`.`CreatedAt` desc limit 1) AS `LastFailAppointConcat`,(select group_concat(concat(convert(if((`tb_appointment`.`CreatedAt` is not null),concat('记录提交时间：',`tb_appointment`.`CreatedAt`,'；'),'') using utf8),if(((`tb_appointment`.`ApplyReason` is null) and (`tb_appointment`.`FailText` is null)),'',concat('申请原因：',ifnull(`tb_appointment`.`ApplyReason`,''),'；')),if((`tb_appointment`.`Remark` is not null),concat('描述：',`tb_appointment`.`Remark`,'；'),''),convert(if((`tb_appointment`.`NextContactTime` is not null),concat('下次联系时间：',`tb_appointment`.`NextContactTime`,'；'),'') using utf8)) order by `tb_appointment`.`CreatedAt` DESC separator '\n') from `tb_appointment` where ((`tb_appointment`.`Deleted` = 0) and (`tb_appointment`.`WorkOrderId` = `a`.`Id`)) group by `tb_appointment`.`WorkOrderId`) AS `AllFailAppointConcat`,`d`.`SurveyTime` AS `SurveyTime`,`e`.`CompleteTime` AS `CompleteTime`,(select `w1`.`ClosedAt` from `tb_workorderstatus` `w1` where ((`a`.`Id` = `w1`.`WorkOrderId`) and (`w1`.`Deleted` = 0))) AS `ClosedAt`,(select group_concat(ifnull(`w1`.`Remark`,'') order by `w1`.`InsertTime` DESC separator ';') from `tb_workflowinfo` `w1` where ((`w1`.`NextStepName` in ('重新提交处理结果（安装）','重新提交处理结果（勘测）','重新提交处理结果')) and (`w1`.`WorkOrderId` = `a`.`Id`) and (`w1`.`Deleted` = 0) and (`w1`.`StepStatus` = 4)) group by `w1`.`WorkOrderId`) AS `AuditRejectRemark`,(select count(1) from `tb_workflowinfo` `w1` where ((`w1`.`NextStepName` in ('重新提交处理结果（安装）','重新提交处理结果（勘测）','重新提交处理结果')) and (`w1`.`WorkOrderId` = `a`.`Id`) and (`w1`.`Deleted` = 0) and (`w1`.`StepStatus` = 4)) group by `w1`.`WorkOrderId`) AS `AuditRejectNum`,(select `w1`.`DoneAt` from `tb_workflowinfo` `w1` where ((`w1`.`NextStepName` in ('重新提交处理结果（安装）','重新提交处理结果（勘测）','重新提交处理结果')) and (`w1`.`WorkOrderId` = `a`.`Id`) and (`w1`.`Deleted` = 0) and (`w1`.`StepStatus` = 4)) order by `w1`.`DoneAt` desc limit 1) AS `LastAuditRejectTime`,(select `w1`.`DoneAt` from `tb_workflowinfo` `w1` where ((`w1`.`StepName` in ('质检工单（安装）','质检工单')) and (`w1`.`WorkOrderId` = `a`.`Id`) and (`w1`.`Deleted` = 0) and (`w1`.`StepStatus` = 1)) order by `w1`.`InsertTime` desc limit 1) AS `AuditTime`,(select `w2`.`OperCode` from `tb_workflowinfo` `w2` where ((`w2`.`StepName` = '质检工单（勘测）') and (`w2`.`WorkOrderId` = `a`.`Id`) and (`w2`.`Deleted` = 0)) order by `w2`.`InsertTime` desc limit 1) AS `LastSurveyAuditCode`,(select `w3`.`OperName` from `tb_workflowinfo` `w3` where ((`w3`.`StepName` = '质检工单（勘测）') and (`w3`.`WorkOrderId` = `a`.`Id`) and (`w3`.`Deleted` = 0)) order by `w3`.`InsertTime` desc limit 1) AS `LastSurveyAuditName`,(select `w4`.`OperCode` from `tb_workflowinfo` `w4` where ((`w4`.`StepName` in ('质检工单（安装）','质检工单')) and (`w4`.`WorkOrderId` = `a`.`Id`) and (`w4`.`Deleted` = 0)) order by `w4`.`InsertTime` desc limit 1) AS `LastInstallAuditCode`,(select `w5`.`OperName` from `tb_workflowinfo` `w5` where ((`w5`.`StepName` in ('质检工单（安装）','质检工单')) and (`w5`.`WorkOrderId` = `a`.`Id`) and (`w5`.`Deleted` = 0)) order by `w5`.`InsertTime` desc limit 1) AS `LastInstallAuditName`,(case when (`g2`.`Id` is not null) then '是' else '否' end) AS `IsAddition`,json_unquote(json_extract(`gg`.`ExtraJson`,'$.SettleRoad')) AS `AdditionFeeSettleRoad`,`f1`.`PayTypeName` AS `AdditionFeePayTypeName`,(select `r2`.`Remark` from `tb_remarkinfo` `r2` where ((`r2`.`Type` = 13) and (`r2`.`WorkOrderId` = `a`.`Id`) and (`r2`.`Deleted` = 0))) AS `AdditionFeeChangeRemark`,json_unquote(json_extract(`g2`.`ExtraJson`,'$.AdditionFeeDetail')) AS `AdditionFeeDetail`,`g2`.`Price` AS `AdditionFeePrice`,(case `g2`.`PaySource` when 1 then '扫码支付' when 2 then '线下转账' when 3 then '银行转账' end) AS `AdditionFeePaySource`,`g2`.`OfflinePayer` AS `AdditionFeeOfflinePayer`,`g2`.`PayTime` AS `AdditionFeePayTime`,`gg`.`SaleName` AS `ServiceGoodsName`,`gg`.`GoodsPrice` AS `ServiceGoodsPrice`,json_unquote(json_extract(`gg`.`ExtraJson`,'$.Power')) AS `Power`,json_unquote(json_extract(`gg`.`ExtraJson`,'$.FirstPartySettleLength')) AS `FirstPartySettleLength`,json_unquote(json_extract(`gg`.`ExtraJson`,'$.PackageLength')) AS `PackageLength`,`gg`.`BrandName` AS `BrandName`,json_unquote(json_extract(`gg`.`ExtraJson`,'$.chpBrandInfoURL')) AS `chpBrandInfoURL`,json_unquote(json_extract(`gg`.`ExtraJson`,'$.ProjectWarrantyPeriod')) AS `ProjectWarrantyPeriod`,`d`.`SurveyName` AS `SurveyName`,`d`.`Surveycode` AS `Surveycode`,`e`.`ServiceName` AS `InstallName`,`e`.`ServiceCode` AS `InstallCode`,`d`.`Distance` AS `Distance`,(select (case `f1`.`Ascription` when 0 then '外勤' when 1 then '内勤' when 2 then '优工' when 3 then '特工-外访' when 4 then '特工-催收' end) from (`tb_userinfo` `e1` left join `tb_userdetail` `f1` on((`e1`.`Id` = `f1`.`Id`))) where ((convert(`e`.`ServiceCode` using utf8mb4) = `e1`.`LoginName`) and (`e1`.`Deleted` = 0) and (`e1`.`TeamCode` = '10670001')) limit 1) AS `InstallAscription`,(select `w1`.`DoneAt` from `tb_workflowinfo` `w1` where ((`w1`.`StepName` in ('提交结果（安装）','提交结果')) and (`w1`.`NextStepName` not in ('重新调度（安装）','重新调度')) and (`w1`.`WorkOrderId` = `a`.`Id`) and (`w1`.`Deleted` = 0)) order by `w1`.`InsertTime` limit 1) AS `FirstRecordTime`,(select `w1`.`DoneAt` from `tb_workflowinfo` `w1` where ((`w1`.`StepName` in ('提交结果（安装）','提交结果','重新提交处理结果（安装）','重新提交处理结果')) and (`w1`.`NextStepName` not in ('重新调度（安装）','重新调度')) and (`w1`.`WorkOrderId` = `a`.`Id`) and (`w1`.`Deleted` = 0)) order by `w1`.`InsertTime` desc limit 1) AS `LastRecordTime`,(select `f1`.`v_EmployeeAttributes` from (`tb_userinfo` `e1` left join `tb_userdetail` `f1` on((`e1`.`Id` = `f1`.`Id`))) where ((convert(`e`.`ServiceCode` using utf8mb4) = `e1`.`LoginName`) and (`e1`.`Deleted` = 0) and (`e1`.`TeamCode` = '10670001')) limit 1) AS `EmployeeAttributes`,(case `d`.`SurveyMethod` when 1 then '单独上门勘测' when 2 then '视频等远程勘测' when 3 then '勘测+安装一起完成' end) AS `SurveyMethod`,`d`.`IndividualReason` AS `IndividualReason`,(case `d`.`SurveyResult` when 1 then '是' when 0 then '否' end) AS `SurveyResult`,`d`.`ResultReason` AS `ResultReason`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpSurveyInfo.Remark')) AS `SurveyRemark`,(case when (`g`.`Seller` = 0) then '中瑞' when (`g`.`Seller` = 1) then '非中瑞' when ((`g`.`Seller` is null) and (`a`.`OrderType` = '9856')) then '非中瑞' end) AS `Seller`,`g`.`GoodsName` AS `GoodsName`,`h`.`MaterialPrice` AS `MaterialPrice`,(case `g`.`GoodsSource` when 0 then '分仓货品' when 1 then '批发货品' end) AS `GoodsSource`,(case when (`g`.`Seller` = 0) then `h`.`MaterialNo` end) AS `MaterialNo`,json_unquote(json_extract(`g`.`ExtraJson`,'$.ChargerType')) AS `MaterialType`,(case when (`g`.`Seller` = 1) then `h`.`MaterialName` end) AS `EscrowMaterialType`,(case when (`g`.`Seller` = 1) then `h`.`MaterialNo` end) AS `EscrowMaterialNo`,json_unquote(json_extract(`g`.`ExtraJson`,'$.PileWarrantyPeriod')) AS `PileWarrantyPeriod`,`h`.`WarehouseName` AS `WarehouseName`,(case json_unquote(json_extract(`c`.`BussinessJson`,'$.chpIsSelfWiring')) when 1 then '是' when 0 then '否' end) AS `chpIsSelfWiring`,`fn_GetChpAccessoriesInfo`('电缆硬线',`a`.`Id`) AS `HardWire`,`fn_GetChpAccessoriesInfo`('电缆软线',`a`.`Id`) AS `FlexibleCord`,`fn_GetChpAccessoriesInfo`('套管',`a`.`Id`) AS `Drivepipe`,`fn_GetChpAccessoriesInfo`('漏保',`a`.`Id`) AS `LeakageInsurance`,`fn_GetChpAccessoriesInfo`('空开盒',`a`.`Id`) AS `AirSwitchBox`,`fn_GetChpAccessoriesInfo`('充电桩立柱',`a`.`Id`) AS `ChargingPileColumn`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpInstallRemark')) AS `chpInstallRemark`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpNextFollow')) AS `chpNextFollow`,`a`.`CreatedAt` AS `CreatedAt`,(select `w1`.`OperCode` from `tb_workflowinfo` `w1` where ((`w1`.`StepName` = '首联') and (`w1`.`WorkOrderId` = `a`.`Id`) and (`w1`.`Deleted` = 0) and (`w1`.`StepStatus` = 1)) order by `w1`.`InsertTime` limit 1) AS `FirstConcatPersonCode`,(select `w1`.`OperName` from `tb_workflowinfo` `w1` where ((`w1`.`StepName` = '首联') and (`w1`.`WorkOrderId` = `a`.`Id`) and (`w1`.`Deleted` = 0) and (`w1`.`StepStatus` = 1)) order by `w1`.`InsertTime` limit 1) AS `FirstConcatPersonName`,(select `w1`.`DoneAt` from `tb_workflowinfo` `w1` where ((`w1`.`StepName` = '首联') and (`w1`.`WorkOrderId` = `a`.`Id`) and (`w1`.`Deleted` = 0) and (`w1`.`StepStatus` = 1)) order by `w1`.`InsertTime` limit 1) AS `FirstConcatTime`,`c`.`v_ChpLineActualUsage` AS `ChpLineActualUsage`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpGoodsPackageSubsidyPrice')) AS `chpGoodsPackageSubsidyPrice`,`ac`.`ApplyReason` AS `LastApplyReason`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpCarModel')) AS `chpCarModel`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpProModel')) AS `chpProModel`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpChargerNo')) AS `chpChargerNo`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpOriginalInstallPerson')) AS `chpOriginalInstallPerson`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpFactoryBrand')) AS `chpFactoryBrand`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpProblemDescription')) AS `chpProblemDescription`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpFaulttime')) AS `chpFaulttime`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpFaultClass')) AS `chpFaultClass`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpSuggestedSolution')) AS `chpSuggestedSolution`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpWarrantyStatus')) AS `chpWarrantyStatus`,concat((select `bd`.`Name` from `basic_datadictionary` `bd` where ((`bd`.`Code` = convert(json_unquote(json_extract(`c`.`BussinessJson`,'$.chpActualSolutionCode')) using utf8)) and (`bd`.`Deleted` = 0))),',',convert(if((json_unquote(json_extract(`c`.`BussinessJson`,'$.chpActualSolutionCode')) = 'other'),ifnull(json_unquote(json_extract(`c`.`BussinessJson`,'$.chpActualSolutionDetail')),''),'') using utf8)) AS `chpActualSolutionName`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpIfCharge')) AS `chpIfCharge`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpAfterSaleRemark')) AS `chpAfterSaleRemark`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpLogisticsNum')) AS `chpLogisticsNum`,json_unquote(json_extract(`g`.`ExtraJson`,'$.chpShippingWarehouse')) AS `chpShippingWarehouse`,(select group_concat(concat(`tw`.`MaterialName`,',',ifnull(`tw`.`MaterialNo`,'无编码'),',',ifnull(`tw`.`Amount`,0),';') separator '\r\n') from `tb_workgoodsdetail` `tw` where ((`g`.`Id` = `tw`.`WorkGoodsId`) and (`tw`.`Deleted` = 0)) group by `tw`.`WorkOrderId`) AS `chpWarehouseMaterials`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpMaterialSN')) AS `chpMaterialSN`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpWorkerSettlePrice')) AS `chpWorkerSettlePrice`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpWorkerSettlementMethod')) AS `chpWorkerSettlementMethod`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpWorkerFeeRemark')) AS `chpWorkerFeeRemark`,if((json_unquote(json_extract(`c`.`BussinessJson`,'$.chpInstallConditionDate')) = 'null'),NULL,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpInstallConditionDate'))) AS `chpInstallConditionDate`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpPileInventoryResults')) AS `chpPileInventoryResults`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpColumnInventoryResults')) AS `chpColumnInventoryResults`,json_unquote(json_extract(`c`.`BussinessJson`,'$.AdditionFeeCommissionRatio')) AS `AdditionFeeCommissionRatio`,NULL AS `AllSubsidy`,NULL AS `InstallPriPileSubsidy`,NULL AS `AfterSalePriPileSubsidy`,NULL AS `ChargingPileSubsidy`,NULL AS `LeakageInsuranceSubsidy`,NULL AS `GalvanizedPipeSubsidy`,NULL AS `AdditionSubsidy`,NULL AS `LineSubsidy`,NULL AS `RemoteSubsidy`,NULL AS `CarSubsidy`,NULL AS `BonusSubsidy`,NULL AS `DifferenceSubsidy`,NULL AS `ComplaintDeduction`,NULL AS `DifferenceDeduction`,if((json_unquote(json_extract(`c`.`BussinessJson`,'$.chpPilesNum')) = ''),NULL,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpPilesNum'))) AS `chpPilesNum`,if((json_unquote(json_extract(`c`.`BussinessJson`,'$.chpGunsNum')) = ''),NULL,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpGunsNum'))) AS `chpGunsNum`,if((json_unquote(json_extract(`c`.`BussinessJson`,'$.chpParkSpaceNum')) = ''),NULL,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpParkSpaceNum'))) AS `chpParkSpaceNum`,(select `w1`.`DoneAt` from `tb_workflowinfo` `w1` where ((`w1`.`StepName` in ('调度工单（勘测）','调度工单')) and (`w1`.`WorkOrderId` = `a`.`Id`) and (`w1`.`Deleted` = 0) and (`w1`.`StepStatus` = 1)) order by `w1`.`InsertTime` limit 1) AS `DispatchTime`,json_unquote(json_extract(`c`.`BussinessJson`,'$.CustomerAuditApprovalTime')) AS `CustomerAuditApprovalTime`,json_unquote(json_extract(`c`.`BussinessJson`,'$.chpOrderSource')) AS `chpOrderSource` from ((((((((((`tb_workorderinfo` `a` left join `tb_worksubjectsummary` `b` on(((`a`.`Id` = `b`.`WorkOrderId`) and (`b`.`Deleted` = 0)))) left join `tb_appointmentconcat` `ac` on(((`ac`.`WorkOrderId` = `a`.`Id`) and (`ac`.`Deleted` = 0)))) left join `tb_workbussinessjsoninfo` `c` on(((`a`.`Id` = `c`.`WorkOrderId`) and (`c`.`Deleted` = 0)))) left join `tb_chpworkorderinfo` `d` on(((`a`.`Id` = `d`.`Id`) and (`d`.`Deleted` = 0)))) left join `tb_workserviceinfo` `e` on(((`a`.`Id` = `e`.`WorkOrderId`) and (`e`.`Deleted` = 0)))) left join `tb_workfeeinfo` `f1` on(((`a`.`Id` = `f1`.`WorkOrderId`) and (`f1`.`Deleted` = 0)))) left join `tb_workfeeitem` `g2` on(((`f1`.`Id` = `g2`.`FeeInfoId`) and (`g2`.`FeePurpose` = '增项费用') and (`g2`.`Deleted` = 0)))) left join `tb_workgoodsinfo` `g` on(((`a`.`Id` = `g`.`WorkOrderId`) and (`g`.`Deleted` = 0) and (`g`.`GoodsType` = 0)))) left join `tb_workgoodsinfo` `gg` on(((`a`.`Id` = `gg`.`WorkOrderId`) and (`gg`.`Deleted` = 0) and (`gg`.`GoodsType` = 29)))) left join `tb_workgoodsdetail` `h` on(((`g`.`Id` = `h`.`WorkGoodsId`) and (`h`.`Deleted` = 0) and (`a`.`OrderType` = '9856')))) where ((`a`.`Deleted` = 0) and (`a`.`ServiceProviderCode` = '1067') and (`a`.`WorkStatus` not in (9,10)))</pre>
                </div>
                
            </div>
            
            
            
            
            
            
            
            
        </div>
        
        
        
        
        
        
        
        
        
        
    </div>
</body>
</html> 